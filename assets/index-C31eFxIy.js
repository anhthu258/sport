function Hb(r,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function dT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function Fb(){if(_v)return Pl;_v=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var vv;function Gb(){return vv||(vv=1,nm.exports=Fb()),nm.exports}var V=Gb(),im={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Kb(){if(Ev)return Dt;Ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function U(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,G={};function at(O,Y,rt){this.props=O,this.context=Y,this.refs=G,this.updater=rt||X}at.prototype.isReactComponent={},at.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=at.prototype;function ht(O,Y,rt){this.props=O,this.context=Y,this.refs=G,this.updater=rt||X}var xt=ht.prototype=new pt;xt.constructor=ht,Z(xt,at.prototype),xt.isPureReactComponent=!0;var Lt=Array.isArray;function dt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,rt){var lt=rt.ref;return{$$typeof:r,type:O,key:Y,ref:lt!==void 0?lt:null,props:rt}}function x(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return Y[rt]})}var R=/\/+/g;function Yt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):Y.toString(36)}function ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(dt,dt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Y,rt,lt,Et){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var It=!1;if(O===null)It=!0;else switch(At){case"bigint":case"string":case"number":It=!0;break;case"object":switch(O.$$typeof){case r:case t:It=!0;break;case E:return It=O._init,Q(It(O._payload),Y,rt,lt,Et)}}if(It)return Et=Et(O),It=lt===""?"."+Yt(O,0):lt,Lt(Et)?(rt="",It!=null&&(rt=It.replace(R,"$&/")+"/"),Q(Et,Y,rt,"",function(nt){return nt})):Et!=null&&(D(Et)&&(Et=x(Et,rt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+It)),Y.push(Et)),1;It=0;var Ee=lt===""?".":lt+":";if(Lt(O))for(var se=0;se<O.length;se++)lt=O[se],At=Ee+Yt(lt,se),It+=Q(lt,Y,rt,At,Et);else if(se=U(O),typeof se=="function")for(O=se.call(O),se=0;!(lt=O.next()).done;)lt=lt.value,At=Ee+Yt(lt,se++),It+=Q(lt,Y,rt,At,Et);else if(At==="object"){if(typeof O.then=="function")return Q(ie(O),Y,rt,lt,Et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return It}function it(O,Y,rt){if(O==null)return O;var lt=[],Et=0;return Q(O,lt,"","",function(At){return Y.call(rt,At,Et++)}),lt}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},kt={map:it,forEach:function(O,Y,rt){it(O,function(){Y.apply(this,arguments)},rt)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Dt.Activity=S,Dt.Children=kt,Dt.Component=at,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=ht,Dt.StrictMode=s,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Dt.cache=function(O){return function(){return O.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(O,Y,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=Z({},O.props),Et=O.key;if(Y!=null)for(At in Y.key!==void 0&&(Et=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(lt[At]=Y[At]);var At=arguments.length-2;if(At===1)lt.children=rt;else if(1<At){for(var It=Array(At),Ee=0;Ee<At;Ee++)It[Ee]=arguments[Ee+2];lt.children=It}return C(O.type,Et,lt)},Dt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Dt.createElement=function(O,Y,rt){var lt,Et={},At=null;if(Y!=null)for(lt in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=Y[lt]);var It=arguments.length-2;if(It===1)Et.children=rt;else if(1<It){for(var Ee=Array(It),se=0;se<It;se++)Ee[se]=arguments[se+2];Et.children=Ee}if(O&&O.defaultProps)for(lt in It=O.defaultProps,It)Et[lt]===void 0&&(Et[lt]=It[lt]);return C(O,At,Et)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(O){return{$$typeof:m,render:O}},Dt.isValidElement=D,Dt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ut}},Dt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Dt.startTransition=function(O){var Y=I.T,rt={};I.T=rt;try{var lt=O(),Et=I.S;Et!==null&&Et(rt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(dt,Ut)}catch(At){Ut(At)}finally{Y!==null&&rt.types!==null&&(Y.types=rt.types),I.T=Y}},Dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Dt.use=function(O){return I.H.use(O)},Dt.useActionState=function(O,Y,rt){return I.H.useActionState(O,Y,rt)},Dt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Dt.useContext=function(O){return I.H.useContext(O)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Dt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Dt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Dt.useId=function(){return I.H.useId()},Dt.useImperativeHandle=function(O,Y,rt){return I.H.useImperativeHandle(O,Y,rt)},Dt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Dt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Dt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Dt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Dt.useReducer=function(O,Y,rt){return I.H.useReducer(O,Y,rt)},Dt.useRef=function(O){return I.H.useRef(O)},Dt.useState=function(O){return I.H.useState(O)},Dt.useSyncExternalStore=function(O,Y,rt){return I.H.useSyncExternalStore(O,Y,rt)},Dt.useTransition=function(){return I.H.useTransition()},Dt.version="19.2.0",Dt}var Tv;function Zm(){return Tv||(Tv=1,im.exports=Kb()),im.exports}var K=Zm();const mT=dT(K),Qb=Hb({__proto__:null,default:mT},[K]);var rm={exports:{}},Ll={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function Yb(){return Sv||(Sv=1,(function(r){function t(Q,it){var ut=Q.length;Q.push(it);t:for(;0<ut;){var Ut=ut-1>>>1,kt=Q[Ut];if(0<o(kt,it))Q[Ut]=it,Q[ut]=kt,ut=Ut;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var it=Q[0],ut=Q.pop();if(ut!==it){Q[0]=ut;t:for(var Ut=0,kt=Q.length,O=kt>>>1;Ut<O;){var Y=2*(Ut+1)-1,rt=Q[Y],lt=Y+1,Et=Q[lt];if(0>o(rt,ut))lt<kt&&0>o(Et,rt)?(Q[Ut]=Et,Q[lt]=ut,Ut=lt):(Q[Ut]=rt,Q[Y]=ut,Ut=Y);else if(lt<kt&&0>o(Et,ut))Q[Ut]=Et,Q[lt]=ut,Ut=lt;else break t}}return it}function o(Q,it){var ut=Q.sortIndex-it.sortIndex;return ut!==0?ut:Q.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,U=!1,X=!1,Z=!1,G=!1,at=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function xt(Q){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=Q)s(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=n(y)}}function Lt(Q){if(Z=!1,xt(Q),!X)if(n(g)!==null)X=!0,dt||(dt=!0,P());else{var it=n(y);it!==null&&ie(Lt,it.startTime-Q)}}var dt=!1,I=-1,b=5,C=-1;function x(){return G?!0:!(r.unstable_now()-C<b)}function D(){if(G=!1,dt){var Q=r.unstable_now();C=Q;var it=!0;try{t:{X=!1,Z&&(Z=!1,pt(I),I=-1),U=!0;var ut=w;try{e:{for(xt(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&x());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,w=S.priorityLevel;var kt=Ut(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof kt=="function"){S.callback=kt,xt(Q),it=!0;break e}S===n(g)&&s(g),xt(Q)}else s(g);S=n(g)}if(S!==null)it=!0;else{var O=n(y);O!==null&&ie(Lt,O.startTime-Q),it=!1}}break t}finally{S=null,w=ut,U=!1}it=void 0}}finally{it?P():dt=!1}}}var P;if(typeof ht=="function")P=function(){ht(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Yt=R.port2;R.port1.onmessage=D,P=function(){Yt.postMessage(null)}}else P=function(){at(D,0)};function ie(Q,it){I=at(function(){Q(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var it=3;break;default:it=w}var ut=w;w=it;try{return Q()}finally{w=ut}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ut=w;w=Q;try{return it()}finally{w=ut}},r.unstable_scheduleCallback=function(Q,it,ut){var Ut=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,Q){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ut+kt,Q={id:E++,callback:it,priorityLevel:Q,startTime:ut,expirationTime:kt,sortIndex:-1},ut>Ut?(Q.sortIndex=ut,t(y,Q),n(g)===null&&Q===n(y)&&(Z?(pt(I),I=-1):Z=!0,ie(Lt,ut-Ut))):(Q.sortIndex=kt,t(g,Q),X||U||(X=!0,dt||(dt=!0,P()))),Q},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Q){var it=w;return function(){var ut=w;w=it;try{return Q.apply(this,arguments)}finally{w=ut}}}})(am)),am}var Av;function Xb(){return Av||(Av=1,sm.exports=Yb()),sm.exports}var om={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function $b(){if(bv)return cn;bv=1;var r=Zm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},cn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},cn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},cn.requestFormReset=function(g){s.d.r(g)},cn.unstable_batchedUpdates=function(g,y){return g(y)},cn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var wv;function pT(){if(wv)return om.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),om.exports=$b(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function Jb(){if(Rv)return Ll;Rv=1;var r=Xb(),t=Zm(),n=pT();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case at:return"Profiler";case G:return"StrictMode";case Lt:return"Suspense";case dt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case ht:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case xt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:Yt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Yt(e(i))}catch{}}return null}var ie=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],kt=-1;function O(e){return{current:e}}function Y(e){0>kt||(e.current=Ut[kt],Ut[kt]=null,kt--)}function rt(e,i){kt++,Ut[kt]=e.current,e.current=i}var lt=O(null),Et=O(null),At=O(null),It=O(null);function Ee(e,i){switch(rt(At,i),rt(Et,e),rt(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?B_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=B_(i),e=q_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(lt),rt(lt,e)}function se(){Y(lt),Y(Et),Y(At)}function nt(e){e.memoizedState!==null&&rt(It,e);var i=lt.current,a=q_(i,e.type);i!==a&&(rt(Et,e),rt(lt,a))}function St(e){Et.current===e&&(Y(lt),Y(Et)),It.current===e&&(Y(It),Ol._currentValue=ut)}var Wt,ue;function $t(e){if(Wt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wt=i&&i[1]||"",ue=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+e+ue}var Te=!1;function Se(e,i){if(!e||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var q=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){q=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){q=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),B=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$t(a):""}function qt(e,i){switch(e.tag){case 26:case 27:case 5:return $t(e.type);case 16:return $t("Lazy");case 13:return e.child!==i&&i!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return Se(e.type,!1);case 11:return Se(e.type.render,!1);case 1:return Se(e.type,!0);case 31:return $t("Activity");default:return""}}function vn(e){try{var i="",a=null;do i+=qt(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,k=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,Nt=r.unstable_shouldYield,bt=r.unstable_requestPaint,yt=r.unstable_now,zt=r.unstable_getCurrentPriorityLevel,Nn=r.unstable_ImmediatePriority,xe=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,Ei=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Su=r.unstable_setDisableYieldValue,ii=null,nn=null;function qn(e){if(typeof Tu=="function"&&Su(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ii,e)}catch{}}var Ne=Math.clz32?Math.clz32:bu,Au=Math.log,ya=Math.LN2;function bu(e){return e>>>=0,e===0?32:31-(Au(e)/ya|0)|0}var Ti=256,Cs=262144,Pe=4194304;function Si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ai(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Si(l):(_&=T,_!==0?h=Si(_):a||(a=T&~e,a!==0&&(h=Si(a))))):(T=l&~d,T!==0?h=Si(T):_!==0?h=Si(_):a||(a=l&~e,a!==0&&(h=Si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ri(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function af(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ns(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function of(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Ne(a),tt=1<<$;T[$]=0,N[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var F=q[$];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&Ds(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Ds(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ne(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Lo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ne(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ko(e,i){var a=i&-i;return a=(a&42)!==0?1:Os(a),(a&(e.suspendedLanes|i))!==0?0:a}function Os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:hv(e.type))}function si(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var ai=Math.random().toString(36).slice(2),Le="__reactFiber$"+ai,Xe="__reactProps$"+ai,wi="__reactContainer$"+ai,_a="__reactEvents$"+ai,lf="__reactListeners$"+ai,Iu="__reactHandles$"+ai,Cu="__reactResources$"+ai,Ri="__reactMarker$"+ai;function va(e){delete e[Le],delete e[Xe],delete e[_a],delete e[lf],delete e[Iu]}function Ii(e){var i=e[Le];if(i)return i;for(var a=e.parentNode;a;){if(i=a[wi]||a[Le]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=X_(e);e!==null;){if(a=e[Le])return a;e=X_(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Le]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ci(e){var i=e[Cu];return i||(i=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(e){e[Ri]=!0}var Uo=new Set,zo={};function Ni(e,i){Di(e,i),Di(e+"Capture",i)}function Di(e,i){for(zo[e]=i,e=0;e<i.length;e++)Uo.add(i[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Nu(e){return ye.call(qo,e)?!0:ye.call(Bo,e)?!1:jo.test(e)?qo[e]=!0:(Bo[e]=!0,!1)}function Ea(e,i,a){if(Nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function On(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ue(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ae(e){if(!e._valueTracker){var i=Cr(e)?"checked":"value";e._valueTracker=Ho(e,i,""+e[i])}}function Ms(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vs=/[\n"\\]/g;function En(e){return e.replace(Vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Fo(e,_,$e(i)):a!=null?Fo(e,_,$e(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function Du(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ae(e);return}a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ae(e)}function Fo(e,i,a){i==="number"&&Oi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Nr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ou(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function Dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ae(e)}function Tn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(e,d,i[d])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(e){return Or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var Qo=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,Mi=null;function xs(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[Xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ta(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Xe]||null;if(!h)throw Error(s(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ms(l)}break t;case"textarea":Ou(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Nr(e,!!a.multiple,i,!1)}}}var ba=!1;function Vr(e,i,a){if(ba)return e(i,a);ba=!0;try{var l=e(i);return l}finally{if(ba=!1,(Mr!==null||Mi!==null)&&(Rc(),Mr&&(i=Mr,e=Mi,Mi=Mr=null,xs(i),e)))for(i=0;i<e.length;i++)xs(e[i])}}function li(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Gn)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Ps=!1}var Vi=null,Yo=null,Ls=null;function Xo(){if(Ls)return Ls;var e,i=Yo,a=i.length,l,h="value"in Vi?Vi.value:Vi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ls=h.slice(e,1<l?1-l:void 0)}function ks(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function ui(){return!1}function rn(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=rn(Wi),xr=S({},Wi,{view:0,detail:0}),$o=rn(xr),Pr,wa,Pi,Ra=S({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Pr=e.screenX-Pi.screenX,wa=e.screenY-Pi.screenY):wa=Pr=0,Pi=e),Pr)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),Jo=rn(Ra),Us=S({},Ra,{dataTransfer:0}),xu=rn(Us),Pu=S({},xr,{relatedTarget:0}),zs=rn(Pu),Wo=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=rn(Wo),Ia=S({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ku=rn(Ia),Uu=S({},Wi,{data:0}),Li=rn(Uu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Bu[e])?!!i[e]:!1}function Lr(){return qu}var pn=S({},xr,{key:function(e){if(e.key){var i=zu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=rn(pn),Fu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=rn(Fu),c=S({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),p=rn(c),v=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=rn(v),z=S({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=rn(z),ot=S({},Wi,{newState:0,oldState:0}),Mt=rn(ot),De=[9,13,27,32],ee=Gn&&"CompositionEvent"in window,Ae=null;Gn&&"documentMode"in document&&(Ae=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!Ae,ki=Gn&&(!ee||Ae&&8<Ae&&11>=Ae),ci=" ",hi=!1;function js(e,i){switch(e){case"keyup":return De.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function dA(e,i){switch(e){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(hi=!0,ci);case"textInput":return e=i.data,e===ci&&hi?null:e;default:return null}}function mA(e,i){if(Na)return e==="compositionend"||!ee&&js(e,i)?(e=Xo(),Ls=Yo=Vi=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ki&&i.locale!=="ko"?null:i.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!pA[e.type]:i==="textarea"}function Zp(e,i,a,l){Mr?Mi?Mi.push(l):Mi=[l]:Mr=l,i=Vc(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Zo=null,tl=null;function gA(e){P_(e,0)}function Gu(e){var i=Dn(e);if(Ms(i))return e}function tg(e,i){if(e==="change")return i}var eg=!1;if(Gn){var uf;if(Gn){var cf="oninput"in document;if(!cf){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),cf=typeof ng.oninput=="function"}uf=cf}else uf=!1;eg=uf&&(!document.documentMode||9<document.documentMode)}function ig(){Zo&&(Zo.detachEvent("onpropertychange",rg),tl=Zo=null)}function rg(e){if(e.propertyName==="value"&&Gu(tl)){var i=[];Zp(i,tl,e,Fn(e)),Vr(gA,i)}}function yA(e,i,a){e==="focusin"?(ig(),Zo=i,tl=a,Zo.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function _A(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(tl)}function vA(e,i){if(e==="click")return Gu(i)}function EA(e,i){if(e==="input"||e==="change")return Gu(i)}function TA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Mn=typeof Object.is=="function"?Object.is:TA;function el(e,i){if(Mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!Mn(e[h],i[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,i){var a=sg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sg(a)}}function og(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?og(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Oi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Oi(e.document)}return i}function hf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var SA=Gn&&"documentMode"in document&&11>=document.documentMode,Da=null,ff=null,nl=null,df=!1;function ug(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Da==null||Da!==Oi(l)||(l=Da,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Vc(ff,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Da)))}function Bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Oa={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},mf={},cg={};Gn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function qs(e){if(mf[e])return mf[e];if(!Oa[e])return e;var i=Oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in cg)return mf[e]=i[a];return e}var hg=qs("animationend"),fg=qs("animationiteration"),dg=qs("animationstart"),AA=qs("transitionrun"),bA=qs("transitionstart"),wA=qs("transitioncancel"),mg=qs("transitionend"),pg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function fi(e,i){pg.set(e,i),Ni(i,[e])}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qn=[],Ma=0,gf=0;function Qu(){for(var e=Ma,i=gf=Ma=0;i<e;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function Yu(e,i,a,l){Qn[Ma++]=e,Qn[Ma++]=i,Qn[Ma++]=a,Qn[Ma++]=l,gf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yf(e,i,a,l){return Yu(e,i,a,l),Xu(e)}function Hs(e,i){return Yu(e,null,null,i),Xu(e)}function gg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ne(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(e){if(50<bl)throw bl=0,Rd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Va={};function RA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,a,l){return new RA(e,i,a,l)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,i){var a=e.alternate;return a===null?(a=Vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $u(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")_f(e)&&(_=1);else if(typeof e=="string")_=Ob(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Vn(31,a,i,h),e.elementType=C,e.lanes=d,e;case Z:return Fs(a.children,h,d,i);case G:_=8,h|=24;break;case at:return e=Vn(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case Lt:return e=Vn(13,a,i,h),e.elementType=Lt,e.lanes=d,e;case dt:return e=Vn(19,a,i,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:_=10;break t;case pt:_=9;break t;case xt:_=11;break t;case I:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Vn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Fs(e,i,a,l){return e=Vn(7,e,l,i),e.lanes=a,e}function vf(e,i,a){return e=Vn(6,e,null,i),e.lanes=a,e}function _g(e){var i=Vn(18,null,null,0);return i.stateNode=e,i}function Ef(e,i,a){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var vg=new WeakMap;function Yn(e,i){if(typeof e=="object"&&e!==null){var a=vg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:vn(i)},vg.set(e,i),i)}return{value:e,source:i,stack:vn(i)}}var xa=[],Pa=0,Ju=null,il=0,Xn=[],$n=0,kr=null,Ui=1,zi="";function er(e,i){xa[Pa++]=il,xa[Pa++]=Ju,Ju=e,il=i}function Eg(e,i,a){Xn[$n++]=Ui,Xn[$n++]=zi,Xn[$n++]=kr,kr=e;var l=Ui;e=zi;var h=32-Ne(l)-1;l&=~(1<<h),a+=1;var d=32-Ne(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ui=1<<32-Ne(i)+h|a<<h|l,zi=d+e}else Ui=1<<d|a<<h|l,zi=e}function Tf(e){e.return!==null&&(er(e,1),Eg(e,1,0))}function Sf(e){for(;e===Ju;)Ju=xa[--Pa],xa[Pa]=null,il=xa[--Pa],xa[Pa]=null;for(;e===kr;)kr=Xn[--$n],Xn[$n]=null,zi=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null}function Tg(e,i){Xn[$n++]=Ui,Xn[$n++]=zi,Xn[$n++]=kr,Ui=i.id,zi=i.overflow,kr=e}var sn=null,_e=null,Xt=!1,Ur=null,Jn=!1,Af=Error(s(519));function zr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Yn(i,e)),Af}function Sg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Le]=e,i[Xe]=l,a){case"dialog":Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":case"embed":Bt("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Bt(Rl[a],i);break;case"source":Bt("error",i);break;case"img":case"image":case"link":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"input":Bt("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",i);break;case"textarea":Bt("invalid",i),Dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||z_(i.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",i),Bt("toggle",i)),l.onScroll!=null&&Bt("scroll",i),l.onScrollEnd!=null&&Bt("scrollend",i),l.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||zr(e,!0)}function Ag(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:sn=sn.return}}function La(e){if(e!==sn)return!1;if(!Xt)return Ag(e),Xt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bd(e.type,e.memoizedProps)),a=!a),a&&_e&&zr(e),Ag(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));_e=Y_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));_e=Y_(e)}else i===27?(i=_e,Zr(e.type)?(e=Kd,Kd=null,_e=e):_e=i):_e=sn?Zn(e.stateNode.nextSibling):null;return!0}function Gs(){_e=sn=null,Xt=!1}function bf(){var e=Ur;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),Ur=null),e}function rl(e){Ur===null?Ur=[e]:Ur.push(e)}var wf=O(null),Ks=null,nr=null;function jr(e,i,a){rt(wf,i._currentValue),i._currentValue=a}function ir(e){e._currentValue=wf.current,Y(wf)}function Rf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function If(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Mn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===It.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}h=h.return}e!==null&&If(i,e,a,l),i.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!Mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qs(e){Ks=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return bg(Ks,e)}function Zu(e,i){return Ks===null&&Qs(e),bg(e,i)}function bg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},nr===null){if(e===null)throw Error(s(308));nr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else nr=nr.next=i;return a}var IA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},CA=r.unstable_scheduleCallback,NA=r.unstable_NormalPriority,ze={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new IA,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&CA(NA,function(){e.controller.abort()})}var al=null,Nf=0,Ua=0,za=null;function DA(e,i){if(al===null){var a=al=[];Nf=0,Ua=Md(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(wg,wg),i}function wg(){if(--Nf===0&&al!==null){za!==null&&(za.status="fulfilled");var e=al;al=null,Ua=0,za=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function OA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rg=Q.S;Q.S=function(e,i){u_=yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&DA(e,i),Rg!==null&&Rg(e,i)};var Ys=O(null);function Df(){var e=Ys.current;return e!==null?e:me.pooledCache}function tc(e,i){i===null?rt(Ys,Ys.current):rt(Ys,i.pool)}function Ig(){var e=Df();return e===null?null:{parent:ze._currentValue,pool:e}}var ja=Error(s(460)),Of=Error(s(474)),ec=Error(s(542)),nc={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ng(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(oi,oi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e;default:if(typeof i.status=="string")i.then(oi,oi);else{if(e=me,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Og(e),e}throw $s=i,ja}}function Xs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,ja):a}}var $s=null;function Dg(){if($s===null)throw Error(s(459));var e=$s;return $s=null,e}function Og(e){if(e===ja||e===ec)throw Error(s(483))}var Ba=null,ol=0;function ic(e){var i=ol;return ol+=1,Ba===null&&(Ba=[]),Ng(Ba,e,i)}function ll(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Mg(e){function i(L,M){if(e){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function a(L,M){if(!e)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=tr(L,M),L.index=0,L.sibling=null,L}function d(L,M,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=67108866,M):j):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,j,J){return M===null||M.tag!==6?(M=vf(j,L.mode,J),M.return=L,M):(M=h(M,j),M.return=L,M)}function N(L,M,j,J){var vt=j.type;return vt===Z?$(L,M,j.props.children,J,j.key):M!==null&&(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&Xs(vt)===M.type)?(M=h(M,j.props),ll(M,j),M.return=L,M):(M=$u(j.type,j.key,j.props,null,L.mode,J),ll(M,j),M.return=L,M)}function B(L,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Ef(j,L.mode,J),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function $(L,M,j,J,vt){return M===null||M.tag!==7?(M=Fs(j,L.mode,J,vt),M.return=L,M):(M=h(M,j),M.return=L,M)}function tt(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vf(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return j=$u(M.type,M.key,M.props,null,L.mode,j),ll(j,M),j.return=L,j;case X:return M=Ef(M,L.mode,j),M.return=L,M;case b:return M=Xs(M),tt(L,M,j)}if(ie(M)||P(M))return M=Fs(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return tt(L,ic(M),j);if(M.$$typeof===ht)return tt(L,Zu(L,M),j);rc(L,M)}return null}function q(L,M,j,J){var vt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:T(L,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return j.key===vt?N(L,M,j,J):null;case X:return j.key===vt?B(L,M,j,J):null;case b:return j=Xs(j),q(L,M,j,J)}if(ie(j)||P(j))return vt!==null?null:$(L,M,j,J,null);if(typeof j.then=="function")return q(L,M,ic(j),J);if(j.$$typeof===ht)return q(L,M,Zu(L,j),J);rc(L,j)}return null}function F(L,M,j,J,vt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(j)||null,T(M,L,""+J,vt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return L=L.get(J.key===null?j:J.key)||null,N(M,L,J,vt);case X:return L=L.get(J.key===null?j:J.key)||null,B(M,L,J,vt);case b:return J=Xs(J),F(L,M,j,J,vt)}if(ie(J)||P(J))return L=L.get(j)||null,$(M,L,J,vt,null);if(typeof J.then=="function")return F(L,M,j,ic(J),vt);if(J.$$typeof===ht)return F(L,M,j,Zu(M,J),vt);rc(M,J)}return null}function mt(L,M,j,J){for(var vt=null,Zt=null,gt=M,Pt=M=0,Ft=null;gt!==null&&Pt<j.length;Pt++){gt.index>Pt?(Ft=gt,gt=null):Ft=gt.sibling;var te=q(L,gt,j[Pt],J);if(te===null){gt===null&&(gt=Ft);break}e&&gt&&te.alternate===null&&i(L,gt),M=d(te,M,Pt),Zt===null?vt=te:Zt.sibling=te,Zt=te,gt=Ft}if(Pt===j.length)return a(L,gt),Xt&&er(L,Pt),vt;if(gt===null){for(;Pt<j.length;Pt++)gt=tt(L,j[Pt],J),gt!==null&&(M=d(gt,M,Pt),Zt===null?vt=gt:Zt.sibling=gt,Zt=gt);return Xt&&er(L,Pt),vt}for(gt=l(gt);Pt<j.length;Pt++)Ft=F(gt,L,Pt,j[Pt],J),Ft!==null&&(e&&Ft.alternate!==null&&gt.delete(Ft.key===null?Pt:Ft.key),M=d(Ft,M,Pt),Zt===null?vt=Ft:Zt.sibling=Ft,Zt=Ft);return e&&gt.forEach(function(rs){return i(L,rs)}),Xt&&er(L,Pt),vt}function Tt(L,M,j,J){if(j==null)throw Error(s(151));for(var vt=null,Zt=null,gt=M,Pt=M=0,Ft=null,te=j.next();gt!==null&&!te.done;Pt++,te=j.next()){gt.index>Pt?(Ft=gt,gt=null):Ft=gt.sibling;var rs=q(L,gt,te.value,J);if(rs===null){gt===null&&(gt=Ft);break}e&&gt&&rs.alternate===null&&i(L,gt),M=d(rs,M,Pt),Zt===null?vt=rs:Zt.sibling=rs,Zt=rs,gt=Ft}if(te.done)return a(L,gt),Xt&&er(L,Pt),vt;if(gt===null){for(;!te.done;Pt++,te=j.next())te=tt(L,te.value,J),te!==null&&(M=d(te,M,Pt),Zt===null?vt=te:Zt.sibling=te,Zt=te);return Xt&&er(L,Pt),vt}for(gt=l(gt);!te.done;Pt++,te=j.next())te=F(gt,L,Pt,te.value,J),te!==null&&(e&&te.alternate!==null&&gt.delete(te.key===null?Pt:te.key),M=d(te,M,Pt),Zt===null?vt=te:Zt.sibling=te,Zt=te);return e&&gt.forEach(function(qb){return i(L,qb)}),Xt&&er(L,Pt),vt}function de(L,M,j,J){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case U:t:{for(var vt=j.key;M!==null;){if(M.key===vt){if(vt=j.type,vt===Z){if(M.tag===7){a(L,M.sibling),J=h(M,j.props.children),J.return=L,L=J;break t}}else if(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&Xs(vt)===M.type){a(L,M.sibling),J=h(M,j.props),ll(J,j),J.return=L,L=J;break t}a(L,M);break}else i(L,M);M=M.sibling}j.type===Z?(J=Fs(j.props.children,L.mode,J,j.key),J.return=L,L=J):(J=$u(j.type,j.key,j.props,null,L.mode,J),ll(J,j),J.return=L,L=J)}return _(L);case X:t:{for(vt=j.key;M!==null;){if(M.key===vt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(L,M.sibling),J=h(M,j.children||[]),J.return=L,L=J;break t}else{a(L,M);break}else i(L,M);M=M.sibling}J=Ef(j,L.mode,J),J.return=L,L=J}return _(L);case b:return j=Xs(j),de(L,M,j,J)}if(ie(j))return mt(L,M,j,J);if(P(j)){if(vt=P(j),typeof vt!="function")throw Error(s(150));return j=vt.call(j),Tt(L,M,j,J)}if(typeof j.then=="function")return de(L,M,ic(j),J);if(j.$$typeof===ht)return de(L,M,Zu(L,j),J);rc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,j),J.return=L,L=J):(a(L,M),J=vf(j,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,j,J){try{ol=0;var vt=de(L,M,j,J);return Ba=null,vt}catch(gt){if(gt===ja||gt===ec)throw gt;var Zt=Vn(29,gt,null,L.mode);return Zt.lanes=J,Zt.return=L,Zt}finally{}}}var Js=Mg(!0),Vg=Mg(!1),Br=!1;function Mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(e),gg(e,null,a),i}return Yu(e,l,i,a),Xu(e)}function ul(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Lo(e,a)}}function xf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Pf=!1;function cl(){if(Pf){var e=za;if(e!==null)throw e}}function hl(e,i,a,l){Pf=!1;var h=e.updateQueue;Br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=N))}if(d!==null){var tt=h.baseState;_=0,$=B=N=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Ht&q)===q:(l&q)===q){q!==0&&q===Ua&&(Pf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=e,Tt=T;q=i;var de=a;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){tt=mt.call(de,tt,q);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,q=typeof mt=="function"?mt.call(de,tt,q):mt,q==null)break t;tt=S({},tt,q);break t;case 2:Br=!0}}q=T.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=F,N=tt):$=$.next=F,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(N=tt),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Yr|=_,e.lanes=_,e.memoizedState=tt}}function xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Pg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xg(a[e],i)}var qa=O(null),sc=O(0);function Lg(e,i){e=fr,rt(sc,e),rt(qa,i),fr=e|i.baseLanes}function Lf(){rt(sc,fr),rt(qa,qa.current)}function kf(){fr=sc.current,Y(qa),Y(sc)}var xn=O(null),Wn=null;function Fr(e){var i=e.alternate;rt(Oe,Oe.current&1),rt(xn,e),Wn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Wn=e)}function Uf(e){rt(Oe,Oe.current),rt(xn,e),Wn===null&&(Wn=e)}function kg(e){e.tag===22?(rt(Oe,Oe.current),rt(xn,e),Wn===null&&(Wn=e)):Gr()}function Gr(){rt(Oe,Oe.current),rt(xn,xn.current)}function Pn(e){Y(xn),Wn===e&&(Wn=null),Y(Oe)}var Oe=O(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rr=0,Vt=null,he=null,je=null,oc=!1,Ha=!1,Ws=!1,lc=0,fl=0,Fa=null,MA=0;function Ie(){throw Error(s(321))}function zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Mn(e[a],i[a]))return!1;return!0}function jf(e,i,a,l,h,d){return rr=d,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?Ey:ed,Ws=!1,d=a(l,h),Ws=!1,Ha&&(d=zg(i,a,l,h)),Ug(e),d}function Ug(e){Q.H=pl;var i=he!==null&&he.next!==null;if(rr=0,je=he=Vt=null,oc=!1,fl=0,Fa=null,i)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&Wu(e)&&(Be=!0))}function zg(e,i,a,l){Vt=e;var h=0;do{if(Ha&&(Fa=null),fl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,je=he=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ty,d=i(a,l)}while(Ha);return d}function VA(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?dl(i):i,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(Vt.flags|=1024),i}function Bf(){var e=lc!==0;return lc=0,e}function qf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Hf(e){if(oc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oc=!1}rr=0,je=he=Vt=null,Ha=!1,fl=lc=0,Fa=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Vt.memoizedState=je=e:je=je.next=e,je}function Me(){if(he===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var i=je===null?Vt.memoizedState:je.next;if(i!==null)je=i,he=e;else{if(e===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},je===null?Vt.memoizedState=je=e:je=je.next=e}return je}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var i=fl;return fl+=1,Fa===null&&(Fa=[]),e=Ng(Fa,e,i),i=Vt,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ey:ed),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===ht)return an(e)}throw Error(s(438,String(e)))}function Ff(e){var i=null,a=Vt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Vt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function sr(e,i){return typeof i=="function"?i(e):i}function hc(e){var i=Me();return Gf(i,he,e)}function Gf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,N=null,B=i,$=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Ht&tt)===tt:(rr&tt)===tt){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Ua&&($=!0);else if((rr&q)===q){B=B.next,q===Ua&&($=!0);continue}else tt={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=tt,_=d):N=N.next=tt,Vt.lanes|=q,Yr|=q;tt=B.action,Ws&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=q,_=d):N=N.next=q,Vt.lanes|=tt,Yr|=tt;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=T,!Mn(d,e.memoizedState)&&(Be=!0,$&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kf(e){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Mn(d,i.memoizedState)||(Be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(e,i,a){var l=Vt,h=Me(),d=Xt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Mn((he||h).memoizedState,a);if(_&&(h.memoizedState=a,Be=!0),h=h.queue,Xf(Hg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},qg.bind(null,l,h,a,i),null),me===null)throw Error(s(349));d||(rr&127)!==0||Bg(l,i,a)}return a}function Bg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Vt.updateQueue,i===null?(i=uc(),Vt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function qg(e,i,a,l){i.value=a,i.getSnapshot=l,Fg(i)&&Gg(e)}function Hg(e,i,a){return a(function(){Fg(i)&&Gg(e)})}function Fg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Mn(e,a)}catch{return!0}}function Gg(e){var i=Hs(e,2);i!==null&&Rn(i,e,2)}function Qf(e){var i=gn();if(typeof e=="function"){var a=e;if(e=a(),Ws){qn(!0);try{a()}finally{qn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},i}function Kg(e,i,a,l){return e.baseState=a,Gf(e,he,typeof l=="function"?l:sr)}function xA(e,i,a,l,h){if(mc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Qg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),N=Q.S;N!==null&&N(_,T),Yg(e,i,T)}catch(B){Yf(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Yg(e,i,d)}catch(B){Yf(e,i,B)}}function Yg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xg(e,i,l)},function(l){return Yf(e,i,l)}):Xg(e,i,a)}function Xg(e,i,a){i.status="fulfilled",i.value=a,$g(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Qg(e,a)))}function Yf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==l)}e.action=null}function $g(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jg(e,i){return i}function Wg(e,i){if(Xt){var a=me.formState;if(a!==null){t:{var l=Vt;if(Xt){if(_e){e:{for(var h=_e,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){_e=Zn(h.nextSibling),l=h.data==="F!";break t}}zr(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},a.queue=l,a=yy.bind(null,Vt,l),l.dispatch=a,l=Qf(!1),d=td.bind(null,Vt,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=xA.bind(null,Vt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Zg(e){var i=Me();return ty(i,he,e)}function ty(e,i,a){if(i=Gf(e,i,Jg)[0],e=hc(sr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===ja?ec:_}else l=i;i=Me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Vt.flags|=2048,Ga(9,{destroy:void 0},PA.bind(null,h,a),null)),[l,d,e]}function PA(e,i){e.action=i}function ey(e){var i=Me(),a=he;if(a!==null)return ty(i,a,e);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ga(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Vt.updateQueue,i===null&&(i=uc(),Vt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ny(){return Me().memoizedState}function fc(e,i,a,l){var h=gn();Vt.flags|=e,h.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(e,i,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;he!==null&&l!==null&&zf(l,he.memoizedState.deps)?h.memoizedState=Ga(i,d,a,l):(Vt.flags|=e,h.memoizedState=Ga(1|i,d,a,l))}function iy(e,i){fc(8390656,8,e,i)}function Xf(e,i){dc(2048,8,e,i)}function LA(e){Vt.flags|=4;var i=Vt.updateQueue;if(i===null)i=uc(),Vt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function ry(e){var i=Me().memoizedState;return LA({ref:i,nextImpl:e}),function(){if((ne&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function sy(e,i){return dc(4,2,e,i)}function ay(e,i){return dc(4,4,e,i)}function oy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ly(e,i,a){a=a!=null?a.concat([e]):null,dc(4,4,oy.bind(null,i,e),a)}function $f(){}function uy(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function cy(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=e(),Ws){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,i],l}function Jf(e,i,a){return a===void 0||(rr&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=h_(),Vt.lanes|=e,Yr|=e,a)}function hy(e,i,a,l){return Mn(a,i)?a:qa.current!==null?(e=Jf(e,a,l),Mn(e,i)||(Be=!0),e):(rr&42)===0||(rr&1073741824)!==0&&(Ht&261930)===0?(Be=!0,e.memoizedState=a):(e=h_(),Vt.lanes|=e,Yr|=e,i)}function fy(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,td(e,!1,i,a);try{var N=h(),B=Q.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=OA(N,l);ml(e,i,$,Un(e))}else ml(e,i,l,Un(e))}catch(tt){ml(e,i,{then:function(){},status:"rejected",reason:tt},Un())}finally{it.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function kA(){}function Wf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=dy(e).queue;fy(e,h,i,ut,a===null?kA:function(){return my(e),a(l)})}function dy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function my(e){var i=dy(e);i.next===null&&(i=e.alternate.memoizedState),ml(e,i.next.queue,{},Un())}function Zf(){return an(Ol)}function py(){return Me().memoizedState}function gy(){return Me().memoizedState}function UA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Un();e=qr(a);var l=Hr(i,e,a);l!==null&&(Rn(l,i,a),ul(l,i,a)),i={cache:Cf()},e.payload=i;return}i=i.return}}function zA(e,i,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?_y(i,a):(a=yf(e,i,a,l),a!==null&&(Rn(a,e,l),vy(a,i,l)))}function yy(e,i,a){var l=Un();ml(e,i,a,l)}function ml(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))_y(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Mn(T,_))return Yu(e,i,h,0),me===null&&Qu(),!1}catch{}finally{}if(a=yf(e,i,h,l),a!==null)return Rn(a,e,l),vy(a,i,l),!0}return!1}function td(e,i,a,l){if(l={lane:2,revertLane:Md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(i)throw Error(s(479))}else i=yf(e,a,l,2),i!==null&&Rn(i,e,2)}function mc(e){var i=e.alternate;return e===Vt||i!==null&&i===Vt}function _y(e,i){Ha=oc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function vy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Lo(e,a)}}var pl={readContext:an,use:cc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};pl.useEffectEvent=Ie;var Ey={readContext:an,use:cc,useCallback:function(e,i){return gn().memoizedState=[e,i===void 0?null:i],e},useContext:an,useEffect:iy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,fc(4194308,4,oy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return fc(4194308,4,e,i)},useInsertionEffect:function(e,i){fc(4,2,e,i)},useMemo:function(e,i){var a=gn();i=i===void 0?null:i;var l=e();if(Ws){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=gn();if(a!==void 0){var h=a(i);if(Ws){qn(!0);try{a(i)}finally{qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=zA.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var i=gn();return e={current:e},i.memoizedState=e},useState:function(e){e=Qf(e);var i=e.queue,a=yy.bind(null,Vt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(e,i){var a=gn();return Jf(a,e,i)},useTransition:function(){var e=Qf(!1);return e=fy.bind(null,Vt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Vt,h=gn();if(Xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),me===null)throw Error(s(349));(Ht&127)!==0||Bg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,iy(Hg.bind(null,l,d,e),[e]),l.flags|=2048,Ga(9,{destroy:void 0},qg.bind(null,l,d,a,i),null),a},useId:function(){var e=gn(),i=me.identifierPrefix;if(Xt){var a=zi,l=Ui;a=(l&~(1<<32-Ne(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=MA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Zf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var i=gn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Vt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ff,useCacheRefresh:function(){return gn().memoizedState=UA.bind(null,Vt)},useEffectEvent:function(e){var i=gn(),a={impl:e};return i.memoizedState=a,function(){if((ne&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ed={readContext:an,use:cc,useCallback:uy,useContext:an,useEffect:Xf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:hc,useRef:ny,useState:function(){return hc(sr)},useDebugValue:$f,useDeferredValue:function(e,i){var a=Me();return hy(a,he.memoizedState,e,i)},useTransition:function(){var e=hc(sr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:jg,useId:py,useHostTransitionStatus:Zf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,i){var a=Me();return Kg(a,he,e,i)},useMemoCache:Ff,useCacheRefresh:gy};ed.useEffectEvent=ry;var Ty={readContext:an,use:cc,useCallback:uy,useContext:an,useEffect:Xf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:Kf,useRef:ny,useState:function(){return Kf(sr)},useDebugValue:$f,useDeferredValue:function(e,i){var a=Me();return he===null?Jf(a,e,i):hy(a,he.memoizedState,e,i)},useTransition:function(){var e=Kf(sr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:jg,useId:py,useHostTransitionStatus:Zf,useFormState:ey,useActionState:ey,useOptimistic:function(e,i){var a=Me();return he!==null?Kg(a,he,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:gy};Ty.useEffectEvent=ry;function nd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var id={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Un(),h=qr(l);h.payload=i,a!=null&&(h.callback=a),i=Hr(e,h,l),i!==null&&(Rn(i,e,l),ul(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Un(),h=qr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Hr(e,h,l),i!==null&&(Rn(i,e,l),ul(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Un(),l=qr(a);l.tag=2,i!=null&&(l.callback=i),i=Hr(e,l,a),i!==null&&(Rn(i,e,a),ul(i,e,a))}};function Sy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Ay(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&id.enqueueReplaceState(i,i.state,null)}function Zs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function by(e){Ku(e)}function wy(e){console.error(e)}function Ry(e){Ku(e)}function pc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(e,i,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(e,i)},a}function Cy(e){return e=qr(e),e.tag=3,e}function Ny(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Iy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Iy(i,a,l),typeof h!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Ic():a.alternate===null&&Ce===0&&(Ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(e,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(e,l,h)),!1}throw Error(s(435,a.tag))}return Nd(e,l,h),Ic(),!1}if(Xt)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(e=Error(s(422),{cause:l}),rl(Yn(e,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),rl(Yn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Yn(l,a),h=rd(e.stateNode,l,h),xf(e,h),Ce!==4&&(Ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Yn(d,a),Al===null?Al=[d]:Al.push(d),Ce!==4&&(Ce=2),i===null)return!0;l=Yn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=rd(a.stateNode,l,e),xf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cy(h),Ny(h,e,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Be=!1;function on(e,i,a,l){i.child=e===null?Vg(i,null,a,l):Js(i,e.child,a,l)}function Dy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Qs(i),l=jf(e,i,a,_,d,h),T=Bf(),e!==null&&!Be?(qf(e,i,h),ar(e,i,h)):(Xt&&T&&Tf(i),i.flags|=1,on(e,i,l,h),i.child)}function Oy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,My(e,i,d,l,h)):(e=$u(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!dd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&e.ref===i.ref)return ar(e,i,h)}return i.flags|=1,e=tr(d,l),e.ref=i.ref,e.return=i,i.child=e}function My(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===i.ref)if(Be=!1,i.pendingProps=l=d,dd(e,h))(e.flags&131072)!==0&&(Be=!0);else return i.lanes=e.lanes,ar(e,i,h)}return ad(e,i,a,l,h)}function Vy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return xy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(i,d!==null?d.cachePool:null),d!==null?Lg(i,d):Lf(),kg(i);else return l=i.lanes=536870912,xy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tc(i,d.cachePool),Lg(i,d),Gr(),i.memoizedState=null):(e!==null&&tc(i,null),Lf(),Gr());return on(e,i,h,a),i.child}function gl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xy(e,i,a,l,h){var d=Df();return d=d===null?null:{parent:ze._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&tc(i,null),Lf(),kg(i),e!==null&&ka(e,i,l,!0),i.childLanes=h,null}function gc(e,i){return i=_c({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Py(e,i,a){return Js(i,e.child,null,a),e=gc(i,i.pendingProps),e.flags|=2,Pn(i),i.memoizedState=null,e}function BA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Xt){if(l.mode==="hidden")return e=gc(i,l),i.lanes=536870912,gl(null,e);if(Uf(i),(e=_e)?(e=Q_(e,Jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:kr!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=_g(e),a.return=i,i.child=a,sn=i,_e=null)):e=null,e===null)throw zr(i);return i.lanes=536870912,null}return gc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=Py(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Be||ka(e,i,a,!1),h=(a&e.childLanes)!==0,Be||h){if(l=me,l!==null&&(_=ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Hs(e,_),Rn(l,e,_),sd;Ic(),i=Py(e,i,a)}else e=d.treeContext,_e=Zn(_.nextSibling),sn=i,Xt=!0,Ur=null,Jn=!1,e!==null&&Tg(i,e),i=gc(i,l),i.flags|=4096;return i}return e=tr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function yc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ad(e,i,a,l,h){return Qs(i),a=jf(e,i,a,l,void 0,h),l=Bf(),e!==null&&!Be?(qf(e,i,h),ar(e,i,h)):(Xt&&l&&Tf(i),i.flags|=1,on(e,i,a,h),i.child)}function Ly(e,i,a,l,h,d){return Qs(i),i.updateQueue=null,a=zg(i,l,a,h),Ug(e),l=Bf(),e!==null&&!Be?(qf(e,i,d),ar(e,i,d)):(Xt&&l&&Tf(i),i.flags|=1,on(e,i,a,d),i.child)}function ky(e,i,a,l,h){if(Qs(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=an(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Mf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?an(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,N=Zs(a,T);d.props=N;var B=d.context,$=a.contextType;_=Va,typeof $=="object"&&$!==null&&(_=an($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Ay(i,d,l,_),Br=!1;var q=i.memoizedState;d.state=q,hl(i,l,d,h),cl(),B=i.memoizedState,T||q!==B||Br?(typeof tt=="function"&&(nd(i,a,tt,l),B=i.memoizedState),(N=Br||Sy(i,a,N,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(e,i),_=i.memoizedProps,$=Zs(a,_),d.props=$,tt=i.pendingProps,q=d.context,B=a.contextType,N=Va,typeof B=="object"&&B!==null&&(N=an(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||q!==N)&&Ay(i,d,l,N),Br=!1,q=i.memoizedState,d.state=q,hl(i,l,d,h),cl();var F=i.memoizedState;_!==tt||q!==F||Br||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof T=="function"&&(nd(i,a,T,l),F=i.memoizedState),($=Br||Sy(i,a,$,l,q,F,N)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Js(i,e.child,null,h),i.child=Js(i,null,a,h)):on(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ar(e,i,h),e}function Uy(e,i,a,l){return Gs(),i.flags|=256,on(e,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:Ig()}}function ud(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function zy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Xt){if(h?Fr(i):Gr(),(e=_e)?(e=Q_(e,Jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:kr!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=_g(e),a.return=i,i.child=a,sn=i,_e=null)):e=null,e===null)throw zr(i);return Gd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Gr(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=Fs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(e,_,a),i.memoizedState=od,gl(null,l)):(Fr(i),cd(i,T))}var N=e.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Fr(i),i.flags&=-257,i=hd(e,i,a)):i.memoizedState!==null?(Gr(),i.child=e.child,i.flags|=128,i=null):(Gr(),T=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),T=Fs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Js(i,e.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(e,_,a),i.memoizedState=od,i=gl(null,l));else if(Fr(i),Gd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=hd(e,i,a)}else if(Be||ka(e,i,a,!1),_=(a&e.childLanes)!==0,Be||_){if(_=me,_!==null&&(l=ko(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Hs(e,l),Rn(_,e,l),sd;Fd(T)||Ic(),i=hd(e,i,a)}else Fd(T)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,_e=Zn(T.nextSibling),sn=i,Xt=!0,Ur=null,Jn=!1,e!==null&&Tg(i,e),i=cd(i,l.children),i.flags|=4096);return i}return h?(Gr(),T=l.fallback,h=i.mode,N=e.child,B=N.sibling,l=tr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=tr(B,T):(T=Fs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,gl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=ld(a):(h=T.cachePool,h!==null?(N=ze._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ig(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ud(e,_,a),i.memoizedState=od,gl(e.child,l)):(Fr(i),a=e.child,e=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function cd(e,i){return i=_c({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _c(e,i){return e=Vn(22,e,null,i),e.lanes=0,e}function hd(e,i,a){return Js(i,e.child,null,a),e=cd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function jy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Rf(e.return,i,a)}function fd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function By(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Oe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,rt(Oe,_),on(e,i,l,a),l=Xt?il:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jy(e,a,i);else if(e.tag===19)jy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}fd(i,!0,a,null,d,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ar(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Yr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=tr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=tr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function qA(e,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),jr(i,ze,e.memoizedState.cache),Gs();break;case 27:case 5:nt(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?zy(e,i,a):(Fr(i),e=ar(e,i,a),e!==null?e.sibling:null);Fr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return By(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Oe,Oe.current),l)break;return null;case 22:return i.lanes=0,Vy(e,i,a,i.pendingProps);case 24:jr(i,ze,e.memoizedState.cache)}return ar(e,i,a)}function qy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Be=!0;else{if(!dd(e,a)&&(i.flags&128)===0)return Be=!1,qA(e,i,a);Be=(e.flags&131072)!==0}else Be=!1,Xt&&(i.flags&1048576)!==0&&Eg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Xs(i.elementType),i.type=e,typeof e=="function")_f(e)?(l=Zs(e,l),i.tag=1,i=ky(null,i,e,l,a)):(i.tag=0,i=ad(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===xt){i.tag=11,i=Dy(null,i,e,l,a);break t}else if(h===I){i.tag=14,i=Oy(null,i,e,l,a);break t}}throw i=Yt(e)||e,Error(s(306,i,""))}}return i;case 0:return ad(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Zs(l,i.pendingProps),ky(e,i,l,h,a);case 3:t:{if(Ee(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(e,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,jr(i,ze,l),l!==d.cache&&If(i,[ze],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Uy(e,i,l,a);break t}else if(l!==h){h=Yn(Error(s(424)),i),rl(h),i=Uy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=Zn(e.firstChild),sn=i,Xt=!0,Ur=null,Jn=!0,a=Vg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===h){i=ar(e,i,a);break t}on(e,i,l,a)}i=i.child}return i;case 26:return yc(e,i),e===null?(a=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xt||(a=i.type,e=i.pendingProps,l=xc(At.current).createElement(a),l[Le]=i,l[Xe]=e,ln(l,a,e),ke(l),i.stateNode=l):i.memoizedState=Z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return nt(i),e===null&&Xt&&(l=i.stateNode=$_(i.type,i.pendingProps,At.current),sn=i,Jn=!0,h=_e,Zr(i.type)?(Kd=h,_e=Zn(l.firstChild)):_e=h),on(e,i,i.pendingProps.children,a),yc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Xt&&((h=l=_e)&&(l=_b(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,sn=i,_e=Zn(l.firstChild),Jn=!1,h=!0):h=!1),h||zr(i)),nt(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(e,i,VA,null,null,a),Ol._currentValue=h),yc(e,i),on(e,i,l,a),i.child;case 6:return e===null&&Xt&&((e=a=_e)&&(a=vb(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,sn=i,_e=null,e=!0):e=!1),e||zr(i)),null;case 13:return zy(e,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Js(i,null,l,a):on(e,i,l,a),i.child;case 11:return Dy(e,i,i.type,i.pendingProps,a);case 7:return on(e,i,i.pendingProps,a),i.child;case 8:return on(e,i,i.pendingProps.children,a),i.child;case 12:return on(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,jr(i,i.type,l.value),on(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Qs(i),h=an(h),l=l(h),i.flags|=1,on(e,i,l,a),i.child;case 14:return Oy(e,i,i.type,i.pendingProps,a);case 15:return My(e,i,i.type,i.pendingProps,a);case 19:return By(e,i,a);case 31:return BA(e,i,a);case 22:return Vy(e,i,a,i.pendingProps);case 24:return Qs(i),l=an(ze),e===null?(h=Df(),h===null&&(h=me,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Mf(i),jr(i,ze,h)):((e.lanes&a)!==0&&(Vf(e,i),hl(i,null,null,a),cl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),jr(i,ze,l)):(l=d.cache,jr(i,ze,l),l!==h.cache&&If(i,[ze],a,!0))),on(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function or(e){e.flags|=4}function md(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(p_())e.flags|=8192;else throw $s=nc,Of}else e.flags&=-16777217}function Hy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rv(i))if(p_())e.flags|=8192;else throw $s=nc,Of}function vc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?wu():536870912,e.lanes|=i,Xa|=i)}function yl(e,i){if(!Xt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ve(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function HA(e,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(i),null;case 1:return ve(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ir(ze),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(La(i)?or(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bf())),ve(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(or(i),d!==null?(ve(i),Hy(i,d)):(ve(i),md(i,h,null,l,a))):d?d!==e.memoizedState?(or(i),ve(i),Hy(i,d)):(ve(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&or(i),ve(i),md(i,h,e,l,a)),null;case 27:if(St(i),a=At.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ve(i),null}e=lt.current,La(i)?Sg(i):(e=$_(h,l,a),i.stateNode=e,or(i))}return ve(i),null;case 5:if(St(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ve(i),null}if(d=lt.current,La(i))Sg(i);else{var _=xc(At.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Le]=i,d[Xe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&or(i)}}return ve(i),md(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,La(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Le]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z_(e.nodeValue,a)),e||zr(i,!0)}else e=xc(e).createTextNode(l),e[Le]=i,i.stateNode=e}return ve(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=La(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Le]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ve(i),e=!1}else a=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Pn(i),i):(Pn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ve(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=La(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Le]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ve(i),h=!1}else h=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pn(i),i):(Pn(i),null)}return Pn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),ve(i),null);case 4:return se(),e===null&&Ld(i.stateNode.containerInfo),ve(i),null;case 10:return ir(i.type),ve(i),null;case 19:if(Y(Oe),l=i.memoizedState,l===null)return ve(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(Ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ac(e),d!==null){for(i.flags|=128,yl(l,!1),e=d.updateQueue,i.updateQueue=e,vc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)yg(a,e),a=a.sibling;return rt(Oe,Oe.current&1|2),Xt&&er(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&yt()>bc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(e=ac(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,vc(i,e),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xt)return ve(i),null}else 2*yt()-l.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=yt(),e.sibling=null,a=Oe.current,rt(Oe,h?a&1|2:a&1),Xt&&er(i,l.treeForkCount),e):(ve(i),null);case 22:case 23:return Pn(i),kf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ve(i),i.subtreeFlags&6&&(i.flags|=8192)):ve(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(Ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ir(ze),ve(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function FA(e,i){switch(Sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ir(ze),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return St(i),null;case 31:if(i.memoizedState!==null){if(Pn(i),i.alternate===null)throw Error(s(340));Gs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Pn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(Oe),null;case 4:return se(),null;case 10:return ir(i.type),null;case 22:case 23:return Pn(i),kf(),e!==null&&Y(Ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ir(ze),null;case 25:return null;default:return null}}function Fy(e,i){switch(Sf(i),i.tag){case 3:ir(ze),se();break;case 26:case 27:case 5:St(i);break;case 4:se();break;case 31:i.memoizedState!==null&&Pn(i);break;case 13:Pn(i);break;case 19:Y(Oe);break;case 10:ir(i.type);break;case 22:case 23:Pn(i),kf(),e!==null&&Y(Ys);break;case 24:ir(ze)}}function _l(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){le(i,i.return,T)}}function Kr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,B=T;try{B()}catch($){le(h,N,$)}}}l=l.next}while(l!==d)}}catch($){le(i,i.return,$)}}function Gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Pg(i,a)}catch(l){le(e,e.return,l)}}}function Ky(e,i,a){a.props=Zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){le(e,i,l)}}function vl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){le(e,i,h)}}function ji(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){le(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){le(e,i,h)}else a.current=null}function Qy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){le(e,e.return,h)}}function pd(e,i,a){try{var l=e.stateNode;fb(l,e.type,a,i),l[Xe]=i}catch(h){le(e,e.return,h)}}function Yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zr(e.type)||e.tag===4}function gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oi));else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(yd(e,i,a),e=e.sibling;e!==null;)yd(e,i,a),e=e.sibling}function Ec(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,i,a),e=e.sibling;e!==null;)Ec(e,i,a),e=e.sibling}function Xy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ln(i,l,a),i[Le]=e,i[Xe]=a}catch(d){le(e,e.return,d)}}var lr=!1,qe=!1,_d=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Je=null;function GA(e,i){if(e=e.containerInfo,zd=Bc,e=lg(e),hf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,N=-1,B=0,$=0,tt=e,q=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(T=_+h),tt!==d||l!==0&&tt.nodeType!==3||(N=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(F=tt.firstChild)!==null;)q=tt,tt=F;for(;;){if(tt===e)break e;if(q===a&&++B===h&&(T=_),q===d&&++$===l&&(N=_),(F=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:e,selectionRange:a},Bc=!1,Je=i;Je!==null;)if(i=Je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Je=e;else for(;Je!==null;){switch(i=Je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Zs(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){le(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Je=e;break}Je=i.return}}function Jy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&_l(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){le(a,a.return,_)}else{var h=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){le(a,a.return,_)}}l&64&&Gy(a),l&512&&vl(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pg(e,i)}catch(_){le(a,a.return,_)}}break;case 27:i===null&&l&4&&Xy(a);case 26:case 5:cr(e,a),i===null&&l&4&&Qy(a),l&512&&vl(a,a.return);break;case 12:cr(e,a);break;case 31:cr(e,a),l&4&&t_(e,a);break;case 13:cr(e,a),l&4&&e_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=tb.bind(null,a),Eb(e,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){i=i!==null&&i.memoizedState!==null||qe,h=lr;var d=qe;lr=l,(qe=i)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),lr=h,qe=d}break;case 30:break;default:cr(e,a)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&va(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var be=null,Sn=!1;function ur(e,i,a){for(a=a.child;a!==null;)Zy(e,i,a),a=a.sibling}function Zy(e,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:qe||ji(a,i),ur(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||ji(a,i);var l=be,h=Sn;Zr(a.type)&&(be=a.stateNode,Sn=!1),ur(e,i,a),Cl(a.stateNode),be=l,Sn=h;break;case 5:qe||ji(a,i);case 6:if(l=be,h=Sn,be=null,ur(e,i,a),be=l,Sn=h,be!==null)if(Sn)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(a.stateNode)}catch(d){le(a,i,d)}else try{be.removeChild(a.stateNode)}catch(d){le(a,i,d)}break;case 18:be!==null&&(Sn?(e=be,G_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),io(e)):G_(be,a.stateNode));break;case 4:l=be,h=Sn,be=a.stateNode.containerInfo,Sn=!0,ur(e,i,a),be=l,Sn=h;break;case 0:case 11:case 14:case 15:Kr(2,a,i),qe||Kr(4,a,i),ur(e,i,a);break;case 1:qe||(ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),ur(e,i,a);break;case 21:ur(e,i,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,ur(e,i,a),qe=l;break;default:ur(e,i,a)}}function t_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(a){le(i,i.return,a)}}}function e_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(a){le(i,i.return,a)}}function KA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $y),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $y),i;default:throw Error(s(435,e.tag))}}function Tc(e,i){var a=KA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=eb.bind(null,e,l);l.then(h,h)}})}function An(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Zr(T.type)){be=T.stateNode,Sn=!1;break t}break;case 5:be=T.stateNode,Sn=!1;break t;case 3:case 4:be=T.stateNode.containerInfo,Sn=!0;break t}T=T.return}if(be===null)throw Error(s(160));Zy(d,_,h),be=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)n_(i,e),i=i.sibling}var di=null;function n_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),bn(e),l&4&&(Kr(3,e,e.return),_l(3,e),Kr(5,e,e.return));break;case 1:An(i,e),bn(e),l&512&&(qe||a===null||ji(a,a.return)),l&64&&lr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(An(i,e),bn(e),l&512&&(qe||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ri]||d[Le]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ln(d,l,a),d[Le]=e,ke(d),l=d;break t;case"link":var _=nv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;case"meta":if(_=nv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Le]=e,ke(d),l=d}e.stateNode=l}else iv(h,e.type,e.stateNode);else e.stateNode=ev(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?iv(h,e.type,e.stateNode):ev(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pd(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),bn(e),l&512&&(qe||a===null||ji(a,a.return)),a!==null&&l&4&&pd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),bn(e),l&512&&(qe||a===null||ji(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(mt){le(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,pd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(An(i,e),bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){le(e,e.return,mt)}}break;case 3:if(kc=null,h=di,di=Pc(i.containerInfo),An(i,e),di=h,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(mt){le(e,e.return,mt)}_d&&(_d=!1,i_(e));break;case 4:l=di,di=Pc(e.stateNode.containerInfo),An(i,e),bn(e),di=l;break;case 12:An(i,e),bn(e);break;case 31:An(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tc(e,l)));break;case 13:An(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=yt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=lr,$=qe;if(lr=B||h,qe=$||N,An(i,e),qe=$,lr=B,bn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||lr||qe||ta(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var tt=N.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(mt){le(N,N.return,mt)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(mt){le(N,N.return,mt)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?K_(F,!0):K_(N.stateNode,!1)}catch(mt){le(N,N.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(e,a))));break;case 19:An(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tc(e,l)));break;case 30:break;case 21:break;default:An(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(e);Ec(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var T=gd(e);Ec(e,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=gd(e);yd(e,B,N);break;default:throw Error(s(161))}}catch($){le(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function i_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;i_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jy(e,i.alternate,i),i=i.sibling}function ta(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),ta(i);break;case 1:ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),ta(i);break;case 27:Cl(i.stateNode);case 26:case 5:ji(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}e=e.sibling}}function hr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,a),_l(4,d);break;case 1:if(hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){le(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)xg(N[h],T)}catch(B){le(l,l.return,B)}}a&&_&64&&Gy(d),vl(d,d.return);break;case 27:Xy(d);case 26:case 5:hr(h,d,a),a&&l===null&&_&4&&Qy(d),vl(d,d.return);break;case 12:hr(h,d,a);break;case 31:hr(h,d,a),a&&_&4&&t_(h,d);break;case 13:hr(h,d,a),a&&_&4&&e_(h,d);break;case 22:d.memoizedState===null&&hr(h,d,a),vl(d,d.return);break;case 30:break;default:hr(h,d,a)}i=i.sibling}}function vd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e))}function mi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(e,i,a,l),i=i.sibling}function r_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(e,i,a,l),h&2048&&_l(9,i);break;case 1:mi(e,i,a,l);break;case 3:mi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){mi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){le(i,i.return,N)}}else mi(e,i,a,l);break;case 31:mi(e,i,a,l);break;case 13:mi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mi(e,i,a,l):El(e,i):d._visibility&2?mi(e,i,a,l):(d._visibility|=2,Ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:mi(e,i,a,l),h&2048&&Ed(i.alternate,i);break;default:mi(e,i,a,l)}}function Ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,T,N,h),_l(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ka(d,_,T,N,h):El(d,_):($._visibility|=2,Ka(d,_,T,N,h)),h&&B&2048&&vd(_.alternate,_);break;case 24:Ka(d,_,T,N,h),h&&B&2048&&Ed(_.alternate,_);break;default:Ka(d,_,T,N,h)}i=i.sibling}}function El(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&vd(l.alternate,l);break;case 24:El(a,l),h&2048&&Ed(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Qa(e,i,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)s_(e,i,a),e=e.sibling}function s_(e,i,a){switch(e.tag){case 26:Qa(e,i,a),e.flags&Tl&&e.memoizedState!==null&&Mb(a,di,e.memoizedState,e.memoizedProps);break;case 5:Qa(e,i,a);break;case 3:case 4:var l=di;di=Pc(e.stateNode.containerInfo),Qa(e,i,a),di=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Qa(e,i,a),Tl=l):Qa(e,i,a));break;default:Qa(e,i,a)}}function a_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Sl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Je=l,l_(l,e)}a_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 0:case 11:case 15:Sl(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:Sl(e);break;case 12:Sl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Sc(e)):Sl(e);break;default:Sl(e)}}function Sc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Je=l,l_(l,e)}a_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}e=e.sibling}}function l_(e,i){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=e;Je!==null;){l=Je;var h=l.sibling,d=l.return;if(Wy(l),l===a){Je=null;break t}if(h!==null){h.return=d,Je=h;break t}Je=d}}}var QA={getCacheForType:function(e){var i=an(ze),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return an(ze).controller.signal}},YA=typeof WeakMap=="function"?WeakMap:Map,ne=0,me=null,jt=null,Ht=0,oe=0,Ln=null,Qr=!1,Ya=!1,Td=!1,fr=0,Ce=0,Yr=0,ea=0,Sd=0,kn=0,Xa=0,Al=null,wn=null,Ad=!1,Ac=0,u_=0,bc=1/0,wc=null,Xr=null,Ke=0,$r=null,$a=null,dr=0,bd=0,wd=null,c_=null,bl=0,Rd=null;function Un(){return(ne&2)!==0&&Ht!==0?Ht&-Ht:Q.T!==null?Md():Ru()}function h_(){if(kn===0)if((Ht&536870912)===0||Xt){var e=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),kn=e}else kn=536870912;return e=xn.current,e!==null&&(e.flags|=32),kn}function Rn(e,i,a){(e===me&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Jr(e,Ht,kn,!1)),Ns(e,a),((ne&2)===0||e!==me)&&(e===me&&((ne&2)===0&&(ea|=a),Ce===4&&Jr(e,Ht,kn,!1)),Bi(e))}function f_(e,i,a){if((ne&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||ri(e,i),h=l?JA(e,i):Cd(e,i,!0),d=l;do{if(h===0){Ya&&!l&&Jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!XA(a)){h=Cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=Al;var N=T.current.memoizedState.isDehydrated;if(N&&(Ja(T,_).flags|=256),_=Cd(T,_,!1),_!==2){if(Td&&!N){T.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break t}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ja(e,0),Jr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Jr(l,i,kn,!Qr);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-yt(),10<h)){if(Jr(l,i,kn,!Qr),Ai(l,0,!0)!==0)break t;dr=i,l.timeoutHandle=H_(d_.bind(null,l,a,wn,wc,Ad,i,kn,ea,Xa,Qr,d,"Throttled",-0,0),h);break t}d_(l,a,wn,wc,Ad,i,kn,ea,Xa,Qr,d,null,-0,0)}}break}while(!0);Bi(e)}function d_(e,i,a,l,h,d,_,T,N,B,$,tt,q,F){if(e.timeoutHandle=-1,tt=i.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},s_(i,d,tt);var mt=(d&62914560)===d?Ac-yt():(d&4194048)===d?u_-yt():0;if(mt=Vb(tt,mt),mt!==null){dr=d,e.cancelPendingCommit=mt(T_.bind(null,e,i,d,a,l,h,_,T,N,$,tt,null,q,F)),Jr(e,d,_,!B);return}}T_(e,i,d,a,l,h,_,T,N)}function XA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(e,i,a,l){i&=~Sd,i&=~ea,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ne(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ds(e,a,i)}function Rc(){return(ne&6)===0?(wl(0),!1):!0}function Id(){if(jt!==null){if(oe===0)var e=jt.return;else e=jt,nr=Ks=null,Hf(e),Ba=null,ol=0,e=jt;for(;e!==null;)Fy(e.alternate,e),e=e.return;jt=null}}function Ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dr=0,Id(),me=e,jt=a=tr(e.current,null),Ht=i,oe=0,Ln=null,Qr=!1,Ya=ri(e,i),Td=!1,Xa=kn=Sd=ea=Yr=Ce=0,wn=Al=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ne(l),d=1<<h;i|=e[h],l&=~d}return fr=i,Qu(),a}function m_(e,i){Vt=null,Q.H=pl,i===ja||i===ec?(i=Dg(),oe=3):i===Of?(i=Dg(),oe=4):oe=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ln=i,jt===null&&(Ce=1,pc(e,Yn(i,e.current)))}function p_(){var e=xn.current;return e===null?!0:(Ht&4194048)===Ht?Wn===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===Wn:!1}function g_(){var e=Q.H;return Q.H=pl,e===null?pl:e}function y_(){var e=Q.A;return Q.A=QA,e}function Ic(){Ce=4,Qr||(Ht&4194048)!==Ht&&xn.current!==null||(Ya=!0),(Yr&134217727)===0&&(ea&134217727)===0||me===null||Jr(me,Ht,kn,!1)}function Cd(e,i,a){var l=ne;ne|=2;var h=g_(),d=y_();(me!==e||Ht!==i)&&(wc=null,Ja(e,i)),i=!1;var _=Ce;t:do try{if(oe!==0&&jt!==null){var T=jt,N=Ln;switch(oe){case 8:Id(),_=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var B=oe;if(oe=0,Ln=null,Wa(e,T,N,B),a&&Ya){_=0;break t}break;default:B=oe,oe=0,Ln=null,Wa(e,T,N,B)}}$A(),_=Ce;break}catch($){m_(e,$)}while(!0);return i&&e.shellSuspendCounter++,nr=Ks=null,ne=l,Q.H=h,Q.A=d,jt===null&&(me=null,Ht=0,Qu()),_}function $A(){for(;jt!==null;)__(jt)}function JA(e,i){var a=ne;ne|=2;var l=g_(),h=y_();me!==e||Ht!==i?(wc=null,bc=yt()+500,Ja(e,i)):Ya=ri(e,i);t:do try{if(oe!==0&&jt!==null){i=jt;var d=Ln;e:switch(oe){case 1:oe=0,Ln=null,Wa(e,i,d,1);break;case 2:case 9:if(Cg(d)){oe=0,Ln=null,v_(i);break}i=function(){oe!==2&&oe!==9||me!==e||(oe=7),Bi(e)},d.then(i,i);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Cg(d)?(oe=0,Ln=null,v_(i)):(oe=0,Ln=null,Wa(e,i,d,7));break;case 5:var _=null;switch(jt.tag){case 26:_=jt.memoizedState;case 5:case 27:var T=jt;if(_?rv(_):T.stateNode.complete){oe=0,Ln=null;var N=T.sibling;if(N!==null)jt=N;else{var B=T.return;B!==null?(jt=B,Cc(B)):jt=null}break e}}oe=0,Ln=null,Wa(e,i,d,5);break;case 6:oe=0,Ln=null,Wa(e,i,d,6);break;case 8:Id(),Ce=6;break t;default:throw Error(s(462))}}WA();break}catch($){m_(e,$)}while(!0);return nr=Ks=null,Q.H=l,Q.A=h,ne=a,jt!==null?0:(me=null,Ht=0,Qu(),Ce)}function WA(){for(;jt!==null&&!Nt();)__(jt)}function __(e){var i=qy(e.alternate,e,fr);e.memoizedProps=e.pendingProps,i===null?Cc(e):jt=i}function v_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ly(a,i,i.pendingProps,i.type,void 0,Ht);break;case 11:i=Ly(a,i,i.pendingProps,i.type.render,i.ref,Ht);break;case 5:Hf(i);default:Fy(a,i),i=jt=yg(i,fr),i=qy(a,i,fr)}e.memoizedProps=e.pendingProps,i===null?Cc(e):jt=i}function Wa(e,i,a,l){nr=Ks=null,Hf(i),Ba=null,ol=0;var h=i.return;try{if(jA(e,h,i,a,Ht)){Ce=1,pc(e,Yn(a,e.current)),jt=null;return}}catch(d){if(h!==null)throw jt=h,d;Ce=1,pc(e,Yn(a,e.current)),jt=null;return}i.flags&32768?(Xt||l===1?e=!0:Ya||(Ht&536870912)!==0?e=!1:(Qr=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(i,e)):Cc(i)}function Cc(e){var i=e;do{if((i.flags&32768)!==0){E_(i,Qr);return}e=i.return;var a=HA(i.alternate,i,fr);if(a!==null){jt=a;return}if(i=i.sibling,i!==null){jt=i;return}jt=i=e}while(i!==null);Ce===0&&(Ce=5)}function E_(e,i){do{var a=FA(e.alternate,e);if(a!==null){a.flags&=32767,jt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){jt=e;return}jt=e=a}while(e!==null);Ce=6,jt=null}function T_(e,i,a,l,h,d,_,T,N){e.cancelPendingCommit=null;do Nc();while(Ke!==0);if((ne&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,of(e,a,d,_,T,N),e===me&&(jt=me=null,Ht=0),$a=i,$r=e,dr=a,bd=d,wd=h,c_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(Bn,function(){return R_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=it.p,it.p=2,_=ne,ne|=4;try{GA(e,i,a)}finally{ne=_,it.p=h,Q.T=l}}Ke=1,S_(),A_(),b_()}}function S_(){if(Ke===1){Ke=0;var e=$r,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=it.p;it.p=2;var h=ne;ne|=4;try{n_(i,e);var d=jd,_=lg(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&og(T.ownerDocument.documentElement,T)){if(N!==null&&hf(T)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var tt=T.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var F=q.getSelection(),mt=T.textContent.length,Tt=Math.min(N.start,mt),de=N.end===void 0?Tt:Math.min(N.end,mt);!F.extend&&Tt>de&&(_=de,de=Tt,Tt=_);var L=ag(T,Tt),M=ag(T,de);if(L&&M&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=tt.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),Tt>de?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var J=tt[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Bc=!!zd,jd=zd=null}finally{ne=h,it.p=l,Q.T=a}}e.current=i,Ke=2}}function A_(){if(Ke===2){Ke=0;var e=$r,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=it.p;it.p=2;var h=ne;ne|=4;try{Jy(e,i.alternate,i)}finally{ne=h,it.p=l,Q.T=a}}Ke=3}}function b_(){if(Ke===4||Ke===3){Ke=0,bt();var e=$r,i=$a,a=dr,l=c_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,$a=$r=null,w_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Xr=null),$i(a),i=i.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ii,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=it.p,it.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,it.p=h}}(dr&3)!==0&&Nc(),Bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Rd?bl++:(bl=0,Rd=e):bl=0,wl(0)}}function w_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,sl(i)))}function Nc(){return S_(),A_(),b_(),R_()}function R_(){if(Ke!==5)return!1;var e=$r,i=bd;bd=0;var a=$i(dr),l=Q.T,h=it.p;try{it.p=32>a?32:a,Q.T=null,a=wd,wd=null;var d=$r,_=dr;if(Ke=0,$a=$r=null,dr=0,(ne&6)!==0)throw Error(s(331));var T=ne;if(ne|=4,o_(d.current),r_(d,d.current,_,a),ne=T,wl(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ii,d)}catch{}return!0}finally{it.p=h,Q.T=l,w_(e,i)}}function I_(e,i,a){i=Yn(a,i),i=rd(e.stateNode,i,2),e=Hr(e,i,2),e!==null&&(Ns(e,2),Bi(e))}function le(e,i,a){if(e.tag===3)I_(e,e,a);else for(;i!==null;){if(i.tag===3){I_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=Yn(a,e),a=Cy(2),l=Hr(i,a,2),l!==null&&(Ny(a,l,i,e),Ns(l,2),Bi(l));break}}i=i.return}}function Nd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new YA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),e=ZA.bind(null,e,i,a),i.then(e,e))}function ZA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,me===e&&(Ht&a)===a&&(Ce===4||Ce===3&&(Ht&62914560)===Ht&&300>yt()-Ac?(ne&2)===0&&Ja(e,0):Sd|=a,Xa===Ht&&(Xa=0)),Bi(e)}function C_(e,i){i===0&&(i=wu()),e=Hs(e,i),e!==null&&(Ns(e,i),Bi(e))}function tb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),C_(e,a)}function eb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),C_(e,a)}function nb(e,i){return k(e,i)}var Dc=null,Za=null,Dd=!1,Oc=!1,Od=!1,Wr=0;function Bi(e){e!==Za&&e.next===null&&(Za===null?Dc=Za=e:Za=Za.next=e),Oc=!0,Dd||(Dd=!0,rb())}function wl(e,i){if(!Od&&Oc){Od=!0;do for(var a=!1,l=Dc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ne(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=Ht,d=Ai(l,l===me?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,M_(l,d));l=l.next}while(a);Od=!1}}function ib(){N_()}function N_(){Oc=Dd=!1;var e=0;Wr!==0&&mb()&&(e=Wr);for(var i=yt(),a=null,l=Dc;l!==null;){var h=l.next,d=D_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Za=a)):(a=l,(e!==0||(d&3)!==0)&&(Oc=!0)),l=h}Ke!==0&&Ke!==5||wl(e),Wr!==0&&(Wr=0)}function D_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Ne(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=af(T,i)):N<=i&&(e.expiredLanes|=T),d&=~T}if(i=me,a=Ht,a=Ai(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&st(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ri(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&st(l),$i(a)){case 2:case 8:a=xe;break;case 32:a=Bn;break;case 268435456:a=Eu;break;default:a=Bn}return l=O_.bind(null,e),a=k(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&st(l),e.callbackPriority=2,e.callbackNode=null,2}function O_(e,i){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var l=Ht;return l=Ai(e,e===me?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(f_(e,l,i),D_(e,yt()),e.callbackNode!=null&&e.callbackNode===a?O_.bind(null,e):null)}function M_(e,i){if(Nc())return null;f_(e,i,!0)}function rb(){gb(function(){(ne&6)!==0?k(Nn,ib):N_()})}function Md(){if(Wr===0){var e=Ua;e===0&&(e=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Wr=e}return Wr}function V_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Aa(""+e)}function x_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function sb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=V_((h[Xe]||null).action),_=l.submitter;_&&(i=(i=_[Xe]||null)?V_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new xi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var N=_?x_(h,_):new FormData(h);Wf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?x_(h,_):new FormData(h),Wf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Vd=0;Vd<pf.length;Vd++){var xd=pf[Vd],ab=xd.toLowerCase(),ob=xd[0].toUpperCase()+xd.slice(1);fi(ab,"on"+ob)}fi(hg,"onAnimationEnd"),fi(fg,"onAnimationIteration"),fi(dg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(AA,"onTransitionRun"),fi(bA,"onTransitionStart"),fi(wA,"onTransitionCancel"),fi(mg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function P_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch($){Ku($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,B=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch($){Ku($)}h.currentTarget=null,d=N}}}}function Bt(e,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=e+"__bubble";a.has(l)||(L_(i,e,2,!1),a.add(l))}function Pd(e,i,a){var l=0;i&&(l|=4),L_(a,e,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Ld(e){if(!e[Mc]){e[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(lb.has(a)||Pd(a,!1,e),Pd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Pd("selectionchange",!1,i))}}function L_(e,i,a,l){switch(hv(i)){case 2:var h=Lb;break;case 8:h=kb;break;default:h=Jd}a=h.bind(null,i,a,e),h=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function kd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ii(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}T=T.parentNode}}l=l.return}Vr(function(){var B=d,$=Fn(a),tt=[];t:{var q=pg.get(e);if(q!==void 0){var F=xi,mt=e;switch(e){case"keypress":if(ks(a)===0)break t;case"keydown":case"keyup":F=Hu;break;case"focusin":mt="focus",F=zs;break;case"focusout":mt="blur",F=zs;break;case"beforeblur":case"afterblur":F=zs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case hg:case fg:case dg:F=Lu;break;case mg:F=A;break;case"scroll":case"scrollend":F=$o;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zi;break;case"toggle":case"beforetoggle":F=Mt}var Tt=(i&4)!==0,de=!Tt&&(e==="scroll"||e==="scrollend"),L=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var M=B,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||L===null||(J=li(M,L),J!=null&&Tt.push(Il(M,J,j))),de)break;M=M.return}0<Tt.length&&(q=new F(q,mt,null,a,$),tt.push({event:q,listeners:Tt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&a!==Qo&&(mt=a.relatedTarget||a.fromElement)&&(Ii(mt)||mt[wi]))break t;if((F||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,F?(mt=a.relatedTarget||a.toElement,F=B,mt=mt?Ii(mt):null,mt!==null&&(de=u(mt),Tt=mt.tag,mt!==de||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(F=null,mt=B),F!==mt)){if(Tt=Jo,J="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Zi,J="onPointerLeave",L="onPointerEnter",M="pointer"),de=F==null?q:Dn(F),j=mt==null?q:Dn(mt),q=new Tt(J,M+"leave",F,a,$),q.target=de,q.relatedTarget=j,J=null,Ii($)===B&&(Tt=new Tt(L,M+"enter",mt,a,$),Tt.target=j,Tt.relatedTarget=de,J=Tt),de=J,F&&mt)e:{for(Tt=ub,L=F,M=mt,j=0,J=L;J;J=Tt(J))j++;J=0;for(var vt=M;vt;vt=Tt(vt))J++;for(;0<j-J;)L=Tt(L),j--;for(;0<J-j;)M=Tt(M),J--;for(;j--;){if(L===M||M!==null&&L===M.alternate){Tt=L;break e}L=Tt(L),M=Tt(M)}Tt=null}else Tt=null;F!==null&&k_(tt,q,F,Tt,!1),mt!==null&&de!==null&&k_(tt,de,mt,Tt,!0)}}t:{if(q=B?Dn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Zt=tg;else if(Wp(q))if(eg)Zt=EA;else{Zt=_A;var gt=yA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Sa(B.elementType)&&(Zt=tg):Zt=vA;if(Zt&&(Zt=Zt(e,B))){Zp(tt,Zt,a,$);break t}gt&&gt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Fo(q,"number",q.value)}switch(gt=B?Dn(B):window,e){case"focusin":(Wp(gt)||gt.contentEditable==="true")&&(Da=gt,ff=B,nl=null);break;case"focusout":nl=ff=Da=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,ug(tt,a,$);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":ug(tt,a,$)}var Pt;if(ee)t:{switch(e){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Na?js(e,a)&&(Ft="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ft="onCompositionStart");Ft&&(ki&&a.locale!=="ko"&&(Na||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Na&&(Pt=Xo()):(Vi=$,Yo="value"in Vi?Vi.value:Vi.textContent,Na=!0)),gt=Vc(B,Ft),0<gt.length&&(Ft=new Li(Ft,e,null,a,$),tt.push({event:Ft,listeners:gt}),Pt?Ft.data=Pt:(Pt=Ca(a),Pt!==null&&(Ft.data=Pt)))),(Pt=Kn?dA(e,a):mA(e,a))&&(Ft=Vc(B,"onBeforeInput"),0<Ft.length&&(gt=new Li("onBeforeInput","beforeinput",null,a,$),tt.push({event:gt,listeners:Ft}),gt.data=Pt)),sb(tt,e,B,a,$)}P_(tt,i)})}function Il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Vc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(e,a),h!=null&&l.unshift(Il(e,h,d)),h=li(e,i),h!=null&&l.push(Il(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function k_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,h?(B=li(a,d),B!=null&&_.unshift(Il(a,B,N))):h||(B=li(a,d),B!=null&&_.push(Il(a,B,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function U_(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(hb,"")}function z_(e,i){return i=U_(i),U_(e)===i}function fe(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(e,""+l);break;case"className":On(e,"class",l);break;case"tabIndex":On(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(e,a,l);break;case"style":Ko(e,l,d);break;case"data":if(i!=="object"){On(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&fe(e,i,"name",h.name,h,null),fe(e,i,"formEncType",h.formEncType,h,null),fe(e,i,"formMethod",h.formMethod,h,null),fe(e,i,"formTarget",h.formTarget,h,null)):(fe(e,i,"encType",h.encType,h,null),fe(e,i,"method",h.method,h,null),fe(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=oi);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),Ea(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,Ea(e,a,l))}}function Ud(e,i,a,l,h,d){switch(a){case"style":Ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&Tn(e,""+l);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ea(e,a,l)}}}function ln(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:fe(e,i,d,_,a,null)}}h&&fe(e,i,"srcSet",a.srcSet,a,null),l&&fe(e,i,"src",a.src,a,null);return;case"input":Bt("invalid",e);var T=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:fe(e,i,l,$,a,null)}}Du(e,d,T,N,B,_,h,!1);return;case"select":Bt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:fe(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Nr(e,!!l,i,!1):a!=null&&Nr(e,!!l,a,!0);return;case"textarea":Bt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:fe(e,i,_,T,a,null)}Dr(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:fe(e,i,N,l,a,null)}return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Bt(Rl[l],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:fe(e,i,B,l,a,null)}return;default:if(Sa(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ud(e,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&fe(e,i,T,l,a,null))}function fb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,B=null,$=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(F)||fe(e,i,F,null,l,tt)}}for(var q in l){var F=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(F!=null||tt!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==tt&&fe(e,i,q,F,l,tt)}}Ta(e,_,T,N,B,$,d,h);return;case"select":F=_=T=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||fe(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&fe(e,i,h,d,l,N)}i=T,a=_,l=F,q!=null?Nr(e,!!a,q,!1):!!l!=!!a&&(i!=null?Nr(e,!!a,i,!0):Nr(e,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:fe(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&fe(e,i,_,h,l,d)}Ou(e,q,F);return;case"option":for(var mt in a)if(q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:fe(e,i,mt,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:fe(e,i,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&fe(e,i,Tt,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:fe(e,i,B,q,l,F)}return;default:if(Sa(i)){for(var de in a)q=a[de],a.hasOwnProperty(de)&&q!==void 0&&!l.hasOwnProperty(de)&&Ud(e,i,de,void 0,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q===void 0&&F===void 0||Ud(e,i,$,q,l,F);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&fe(e,i,L,null,l,q);for(tt in l)q=l[tt],F=a[tt],!l.hasOwnProperty(tt)||q===F||q==null&&F==null||fe(e,i,tt,q,l,F)}function j_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&j_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var $=N.transferSize,tt=N.initiatorType;$&&j_(tt)&&(N=N.responseEnd,_+=$*(N<T?1:(T-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zd=null,jd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function B_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function mb(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(e){return F_.resolve(null).then(e).catch(yb)}:H_;function yb(e){setTimeout(function(){throw e})}function Zr(e){return e==="head"}function G_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(e.ownerDocument.body);a=h}while(a);io(i)}function K_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _b(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ri])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function vb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function Q_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zn(e.nextSibling),e===null))return null;return e}function Fd(e){return e.data==="$?"||e.data==="$~"}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Kd=null;function Y_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Zn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function X_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function $_(e,i,a){switch(i=xc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);va(e)}var ti=new Map,J_=new Set;function Pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=it.d;it.d={f:Tb,r:Sb,D:Ab,C:bb,L:wb,m:Rb,X:Cb,S:Ib,M:Nb};function Tb(){var e=mr.f(),i=Rc();return e||i}function Sb(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?my(i):mr.r(e)}var to=typeof document>"u"?null:document;function W_(e,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=En(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ln(i,"link",e),ke(i),l.head.appendChild(i)))}}function Ab(e){mr.D(e),W_("dns-prefetch",e,null)}function bb(e,i){mr.C(e,i),W_("preconnect",e,i)}function wb(e,i,a){mr.L(e,i,a);var l=to;if(l&&e&&i){var h='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+En(a.imageSizes)+'"]')):h+='[href="'+En(e)+'"]';var d=h;switch(i){case"style":d=eo(e);break;case"script":d=no(e)}ti.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ti.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),ln(i,"link",e),ke(i),l.head.appendChild(i)))}}function Rb(e,i){mr.m(e,i);var a=to;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!ti.has(d)&&(e=S({rel:"modulepreload",href:e},i),ti.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),ln(l,"link",e),ke(l),a.head.appendChild(l)}}}function Ib(e,i,a){mr.S(e,i,a);var l=to;if(l&&e){var h=Ci(l).hoistableStyles,d=eo(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Nl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ti.get(d))&&Qd(e,a);var N=_=l.createElement("link");ke(N),ln(N,"link",e),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Cb(e,i){mr.X(e,i);var a=to;if(a&&e){var l=Ci(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=S({src:e,async:!0},i),(i=ti.get(h))&&Yd(e,i),d=a.createElement("script"),ke(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Nb(e,i){mr.M(e,i);var a=to;if(a&&e){var l=Ci(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=ti.get(h))&&Yd(e,i),d=a.createElement("script"),ke(d),ln(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z_(e,i,a,l){var h=(h=At.current)?Pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=Ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var d=Ci(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Nl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(e,a),d||Db(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=Ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function eo(e){return'href="'+En(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function tv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Db(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),ke(i),e.head.appendChild(i))}function no(e){return'[src="'+En(e)+'"]'}function Dl(e){return"script[async]"+e}function ev(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+En(a.href)+'"]');if(l)return i.instance=l,ke(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ke(l),ln(l,"style",h),Lc(l,a.precedence,e),i.instance=l;case"stylesheet":h=eo(a.href);var d=e.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,ke(d),d;l=tv(a),(h=ti.get(h))&&Qd(l,h),d=(e.ownerDocument||e).createElement("link"),ke(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),ln(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,e),i.instance=d;case"script":return d=no(a.src),(h=e.querySelector(Dl(d)))?(i.instance=h,ke(h),h):(l=a,(h=ti.get(d))&&(l=S({},a),Yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),ln(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,e));return i.instance}function Lc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var kc=null;function nv(e,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ri]||d[Le]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function iv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Ob(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(l.href),d=i.querySelector(Nl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Uc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,ke(d);return}d=i.ownerDocument||i,l=tv(l),(h=ti.get(h))&&Qd(l,h),d=d.createElement("link"),ke(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),ln(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Uc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function Vb(e,i){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Xd===0&&(Xd=62500*db());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function jc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,i.forEach(xb,e),zc=null,Uc.call(e))}function xb(e,i){if(!(i.state.loading&4)){var a=zc.get(e);if(a)var l=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ol={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Pb(e,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function sv(e,i,a,l,h,d,_,T,N,B,$,tt){return e=new Pb(e,i,a,_,N,B,$,tt,T),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),e.current=d,d.stateNode=e,i=Cf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Mf(d),e}function av(e){return e?(e=Va,e):Va}function ov(e,i,a,l,h,d){h=av(h),l.context===null?l.context=h:l.pendingContext=h,l=qr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(e,l,i),a!==null&&(Rn(a,e,i),ul(a,e,i))}function lv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function $d(e,i){lv(e,i),(e=e.alternate)&&lv(e,i)}function uv(e){if(e.tag===13||e.tag===31){var i=Hs(e,67108864);i!==null&&Rn(i,e,67108864),$d(e,67108864)}}function cv(e){if(e.tag===13||e.tag===31){var i=Un();i=Os(i);var a=Hs(e,i);a!==null&&Rn(a,e,i),$d(e,i)}}var Bc=!0;function Lb(e,i,a,l){var h=Q.T;Q.T=null;var d=it.p;try{it.p=2,Jd(e,i,a,l)}finally{it.p=d,Q.T=h}}function kb(e,i,a,l){var h=Q.T;Q.T=null;var d=it.p;try{it.p=8,Jd(e,i,a,l)}finally{it.p=d,Q.T=h}}function Jd(e,i,a,l){if(Bc){var h=Wd(l);if(h===null)kd(e,i,l,qc,a),fv(e,l);else if(zb(h,e,i,a,l))l.stopPropagation();else if(fv(e,l),i&4&&-1<Ub.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Si(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-Ne(_);T.entanglements[1]|=N,_&=~N}Bi(d),(ne&6)===0&&(bc=yt()+500,wl(0))}}break;case 31:case 13:T=Hs(d,2),T!==null&&Rn(T,d,2),Rc(),$d(d,2)}if(d=Wd(l),d===null&&kd(e,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kd(e,i,l,null,a)}}function Wd(e){return e=Fn(e),Zd(e)}var qc=null;function Zd(e){if(qc=null,e=Ii(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return qc=e,null}function hv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Nn:return 2;case xe:return 8;case Bn:case Ei:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var tm=!1,ts=null,es=null,ns=null,Ml=new Map,Vl=new Map,is=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(e,i){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function xl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&uv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function zb(e,i,a,l,h){switch(i){case"focusin":return ts=xl(ts,e,i,a,l,h),!0;case"dragenter":return es=xl(es,e,i,a,l,h),!0;case"mouseover":return ns=xl(ns,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,xl(Ml.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,xl(Vl.get(d)||null,e,i,a,l,h)),!0}return!1}function dv(e){var i=Ii(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,si(e.priority,function(){cv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,si(e.priority,function(){cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Wd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return i=Hn(a),i!==null&&uv(i),e.blockedOn=a,!1;i.shift()}return!0}function mv(e,i,a){Hc(e)&&a.delete(i)}function jb(){tm=!1,ts!==null&&Hc(ts)&&(ts=null),es!==null&&Hc(es)&&(es=null),ns!==null&&Hc(ns)&&(ns=null),Ml.forEach(mv),Vl.forEach(mv)}function Fc(e,i){e.blockedOn===i&&(e.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jb)))}var Gc=null;function pv(e){Gc!==e&&(Gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function io(e){function i(N){return Fc(N,e)}ts!==null&&Fc(ts,e),es!==null&&Fc(es,e),ns!==null&&Fc(ns,e),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Xe]||null;if(typeof d=="function")_||pv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Xe]||null)T=_.formAction;else if(Zd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),pv(a)}}}function gv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function em(e){this._internalRoot=e}Kc.prototype.render=em.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Un();ov(a,l,e,i,null,null)},Kc.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ov(e.current,2,null,e,null,null),Rc(),i[wi]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ru();e={blockedOn:null,target:e,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,e),a===0&&dv(e)}};var yv=t.version;if(yv!=="19.2.0")throw Error(s(527,yv,"19.2.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{ii=Qc.inject(Bb),nn=Qc}catch{}}return Ll.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=by,d=wy,_=Ry;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=sv(e,1,!1,null,null,a,l,null,h,d,_,gv),e[wi]=i.current,Ld(e),new em(i)},Ll.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=by,_=wy,T=Ry,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=sv(e,1,!0,i,a??null,l,h,N,d,_,T,gv),i.context=av(null),a=i.current,l=Un(),l=Os(l),h=qr(l),h.callback=null,Hr(a,h,l),a=l,i.current.lanes=a,Ns(i,a),Bi(i),e[wi]=i.current,Ld(e),new Kc(i)},Ll.version="19.2.0",Ll}var Iv;function Wb(){if(Iv)return rm.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rm.exports=Jb(),rm.exports}var Zb=Wb();const t1=dT(Zb);pT();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},$l.apply(this,arguments)}var hs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(hs||(hs={}));const Cv="popstate";function e1(r){r===void 0&&(r={});function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:yT(o)}return i1(t,n,null,r)}function Qe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function gT(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n1(){return Math.random().toString(36).substr(2,8)}function Nv(r,t){return{usr:r.state,key:r.key,idx:t}}function Am(r,t,n,s){return n===void 0&&(n=null),$l({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Ro(t):t,{state:n,key:t&&t.key||s||n1()})}function yT(r){let{pathname:t="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ro(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substr(s),r=r.substr(0,s)),r&&(t.pathname=r)}return t}function i1(r,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=hs.Pop,g=null,y=E();y==null&&(y=0,f.replaceState($l({},f.state,{idx:y}),""));function E(){return(f.state||{idx:null}).idx}function S(){m=hs.Pop;let G=E(),at=G==null?null:G-y;y=G,g&&g({action:m,location:Z.location,delta:at})}function w(G,at){m=hs.Push;let pt=Am(Z.location,G,at);y=E()+1;let ht=Nv(pt,y),xt=Z.createHref(pt);try{f.pushState(ht,"",xt)}catch(Lt){if(Lt instanceof DOMException&&Lt.name==="DataCloneError")throw Lt;o.location.assign(xt)}u&&g&&g({action:m,location:Z.location,delta:1})}function U(G,at){m=hs.Replace;let pt=Am(Z.location,G,at);y=E();let ht=Nv(pt,y),xt=Z.createHref(pt);f.replaceState(ht,"",xt),u&&g&&g({action:m,location:Z.location,delta:0})}function X(G){let at=o.location.origin!=="null"?o.location.origin:o.location.href,pt=typeof G=="string"?G:yT(G);return pt=pt.replace(/ $/,"%20"),Qe(at,"No window.location.(origin|href) available to create URL for href: "+pt),new URL(pt,at)}let Z={get action(){return m},get location(){return r(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,S),g=G,()=>{o.removeEventListener(Cv,S),g=null}},createHref(G){return t(o,G)},createURL:X,encodeLocation(G){let at=X(G);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:w,replace:U,go(G){return f.go(G)}};return Z}var Dv;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Dv||(Dv={}));function r1(r,t,n){return n===void 0&&(n="/"),s1(r,t,n)}function s1(r,t,n,s){let o=typeof t=="string"?Ro(t):t,u=ET(o.pathname||"/",n);if(u==null)return null;let f=_T(r);a1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=_1(u);m=p1(f[g],y)}return m}function _T(r,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Qe(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let y=sa([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Qe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),_T(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:d1(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of vT(u.path))o(u,f,g)}),t}function vT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function a1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:m1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const o1=/^:[\w-]+$/,l1=3,u1=2,c1=1,h1=10,f1=-2,Ov=r=>r==="*";function d1(r,t){let n=r.split("/"),s=n.length;return n.some(Ov)&&(s+=f1),t&&(s+=u1),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(o1.test(u)?l1:u===""?c1:h1),s)}function m1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function p1(r,t,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=g1({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:sa([u,S.pathname]),pathnameBase:b1(sa([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=sa([u,S.pathnameBase]))}return f}function g1(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=y1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,E,S)=>{let{paramName:w,isOptional:U}=E;if(w==="*"){let Z=m[S]||"";f=u.slice(0,u.length-Z.length).replace(/(.)\/+$/,"$1")}const X=m[S];return U&&!X?y[w]=void 0:y[w]=(X||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function y1(r,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gT(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function _1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gT(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function ET(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function v1(r,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ro(r):r;return{pathname:n?n.startsWith("/")?n:E1(n,t):t,search:w1(s),hash:R1(o)}}function E1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,t,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S1(r,t){let n=T1(r);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function A1(r,t,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Ro(r):(o=$l({},r),Qe(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?t[S]:"/"}let g=v1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}const sa=r=>r.join("/").replace(/\/\/+/g,"/"),b1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,R1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function I1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const TT=["post","put","patch","delete"];new Set(TT);const C1=["get",...TT];new Set(C1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Jl.apply(this,arguments)}const tp=K.createContext(null),N1=K.createContext(null),Nh=K.createContext(null),Dh=K.createContext(null),Io=K.createContext({outlet:null,matches:[],isDataRoute:!1}),ST=K.createContext(null);function Oh(){return K.useContext(Dh)!=null}function ep(){return Oh()||Qe(!1),K.useContext(Dh).location}function AT(r){K.useContext(Nh).static||K.useLayoutEffect(r)}function bT(){let{isDataRoute:r}=K.useContext(Io);return r?q1():D1()}function D1(){Oh()||Qe(!1);let r=K.useContext(tp),{basename:t,future:n,navigator:s}=K.useContext(Nh),{matches:o}=K.useContext(Io),{pathname:u}=ep(),f=JSON.stringify(S1(o,n.v7_relativeSplatPath)),m=K.useRef(!1);return AT(()=>{m.current=!0}),K.useCallback(function(y,E){if(E===void 0&&(E={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let S=A1(y,JSON.parse(f),u,E.relative==="path");r==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:sa([t,S.pathname])),(E.replace?s.replace:s.push)(S,E.state,E)},[t,s,f,u,r])}function O1(r,t){return M1(r,t)}function M1(r,t,n,s){Oh()||Qe(!1);let{navigator:o}=K.useContext(Nh),{matches:u}=K.useContext(Io),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let y=ep(),E;if(t){var S;let G=typeof t=="string"?Ro(t):t;g==="/"||(S=G.pathname)!=null&&S.startsWith(g)||Qe(!1),E=G}else E=y;let w=E.pathname||"/",U=w;if(g!=="/"){let G=g.replace(/^\//,"").split("/");U="/"+w.replace(/^\//,"").split("/").slice(G.length).join("/")}let X=r1(r,{pathname:U}),Z=k1(X&&X.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:sa([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:sa([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return t&&Z?K.createElement(Dh.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:hs.Pop}},Z):Z}function V1(){let r=B1(),t=I1(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,null)}const x1=K.createElement(V1,null);class P1 extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?K.createElement(Io.Provider,{value:this.props.routeContext},K.createElement(ST.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L1(r){let{routeContext:t,match:n,children:s}=r,o=K.useContext(tp);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Io.Provider,{value:t},s)}function k1(r,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,m=(o=n)==null?void 0:o.errors;if(m!=null){let E=f.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);E>=0||Qe(!1),f=f.slice(0,Math.min(f.length,E+1))}let g=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let S=f[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=E),S.route.id){let{loaderData:w,errors:U}=n,X=S.route.loader&&w[S.route.id]===void 0&&(!U||U[S.route.id]===void 0);if(S.route.lazy||X){g=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((E,S,w)=>{let U,X=!1,Z=null,G=null;n&&(U=m&&S.route.id?m[S.route.id]:void 0,Z=S.route.errorElement||x1,g&&(y<0&&w===0?(H1("route-fallback"),X=!0,G=null):y===w&&(X=!0,G=S.route.hydrateFallbackElement||null)));let at=t.concat(f.slice(0,w+1)),pt=()=>{let ht;return U?ht=Z:X?ht=G:S.route.Component?ht=K.createElement(S.route.Component,null):S.route.element?ht=S.route.element:ht=E,K.createElement(L1,{match:S,routeContext:{outlet:E,matches:at,isDataRoute:n!=null},children:ht})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?K.createElement(P1,{location:n.location,revalidation:n.revalidation,component:Z,error:U,children:pt(),routeContext:{outlet:null,matches:at,isDataRoute:!0}}):pt()},null)}var wT=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(wT||{}),RT=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(RT||{});function U1(r){let t=K.useContext(tp);return t||Qe(!1),t}function z1(r){let t=K.useContext(N1);return t||Qe(!1),t}function j1(r){let t=K.useContext(Io);return t||Qe(!1),t}function IT(r){let t=j1(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function B1(){var r;let t=K.useContext(ST),n=z1(),s=IT();return t!==void 0?t:(r=n.errors)==null?void 0:r[s]}function q1(){let{router:r}=U1(wT.UseNavigateStable),t=IT(RT.UseNavigateStable),n=K.useRef(!1);return AT(()=>{n.current=!0}),K.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Jl({fromRouteId:t},u)))},[r,t])}const Mv={};function H1(r,t,n){Mv[r]||(Mv[r]=!0)}function F1(r,t){r?.v7_startTransition,r?.v7_relativeSplatPath}function na(r){Qe(!1)}function G1(r){let{basename:t="/",children:n=null,location:s,navigationType:o=hs.Pop,navigator:u,static:f=!1,future:m}=r;Oh()&&Qe(!1);let g=t.replace(/^\/*/,"/"),y=K.useMemo(()=>({basename:g,navigator:u,static:f,future:Jl({v7_relativeSplatPath:!1},m)}),[g,m,u,f]);typeof s=="string"&&(s=Ro(s));let{pathname:E="/",search:S="",hash:w="",state:U=null,key:X="default"}=s,Z=K.useMemo(()=>{let G=ET(E,g);return G==null?null:{location:{pathname:G,search:S,hash:w,state:U,key:X},navigationType:o}},[g,E,S,w,U,X,o]);return Z==null?null:K.createElement(Nh.Provider,{value:y},K.createElement(Dh.Provider,{children:n,value:Z}))}function K1(r){let{children:t,location:n}=r;return O1(bm(t),n)}new Promise(()=>{});function bm(r,t){t===void 0&&(t=[]);let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...t,o];if(s.type===K.Fragment){n.push.apply(n,bm(s.props.children,u));return}s.type!==na&&Qe(!1),!s.props.index||!s.props.children||Qe(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bm(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Q1="6";try{window.__reactRouterVersion=Q1}catch{}const Y1="startTransition",Vv=Qb[Y1];function X1(r){let{basename:t,children:n,future:s,window:o}=r,u=K.useRef();u.current==null&&(u.current=e1({window:o,v5Compat:!0}));let f=u.current,[m,g]=K.useState({action:f.action,location:f.location}),{v7_startTransition:y}=s||{},E=K.useCallback(S=>{y&&Vv?Vv(()=>g(S)):g(S)},[g,y]);return K.useLayoutEffect(()=>f.listen(E),[f,E]),K.useEffect(()=>F1(s),[s]),K.createElement(G1,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}var xv;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(xv||(xv={}));var Pv;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Pv||(Pv={}));const $1=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},J1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(w=64)),s.push(n[E],n[S],n[w],n[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(CT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):J1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new W1;const w=u<<2|m>>4;if(s.push(w),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const X=y<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class W1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(r){const t=CT(r);return NT.encodeByteArray(t,!0)},uh=function(r){return Z1(r).replace(/\./g,"")},DT=function(r){try{return NT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>tw().__FIREBASE_DEFAULTS__,nw=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&DT(r[1]);return t&&JSON.parse(t)},Mh=()=>{try{return $1()||ew()||nw()||iw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OT=r=>Mh()?.emulatorHosts?.[r],rw=r=>{const t=OT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},MT=()=>Mh()?.config,VT=r=>Mh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const ql={};function ow(){const r={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?r.emulator.push(t):r.prod.push(t);return r}function lw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let kv=!1;function PT(r,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||ql[r]===t||ql[r]||kv)return;ql[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=ow().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,U){w.setAttribute("width","24"),w.setAttribute("id",U),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kv=!0,f()},w}function E(w,U){w.setAttribute("id",U),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=lw(s),U=n("text"),X=document.getElementById(U)||document.createElement("span"),Z=n("learnmore"),G=document.getElementById(Z)||document.createElement("a"),at=n("preprendIcon"),pt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ht=w.element;m(ht),E(G,Z);const xt=y();g(pt,at),ht.append(pt,X,G,xt),document.body.appendChild(ht)}u?(X.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function cw(){const r=Mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mw(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function yw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="FirebaseError";class Rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=_w,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?vw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Rr(o,m,s)}}function vw(r,t){return r.replace(Ew,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Ew=/\{\$([^}]+)}/g;function Tw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Tr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Uv(u)&&Uv(f)){if(!Tr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ul(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Sw(r,t){const n=new Aw(r,t);return n.subscribe.bind(n)}class Aw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class aa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new sw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Iw(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rw(r){return r===ia?void 0:r}function Iw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ww(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Gt||(Gt={}));const Nw={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},Dw=Gt.INFO,Ow={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},Mw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Ow[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class np{constructor(t){this.name=t,this._logLevel=Dw,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const Vw=(r,t)=>t.some(n=>r instanceof n);let zv,jv;function xw(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pw(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,wm=new WeakMap,kT=new WeakMap,cm=new WeakMap,ip=new WeakMap;function Lw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ds(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&LT.set(n,r)}).catch(()=>{}),ip.set(t,r),t}function kw(r){if(wm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,t)}let Rm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return wm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||kT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Uw(r){Rm=r(Rm)}function zw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(hm(this),t,...n);return kT.set(s,t.sort?t.sort():[t]),ds(s)}:Pw().includes(r)?function(...t){return r.apply(hm(this),t),ds(LT.get(this))}:function(...t){return ds(r.apply(hm(this),t))}}function jw(r){return typeof r=="function"?zw(r):(r instanceof IDBTransaction&&kw(r),Vw(r,xw())?new Proxy(r,Rm):r)}function ds(r){if(r instanceof IDBRequest)return Lw(r);if(cm.has(r))return cm.get(r);const t=jw(r);return t!==r&&(cm.set(r,t),ip.set(t,r)),t}const hm=r=>ip.get(r);function Bw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ds(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ds(f.result),g.oldVersion,g.newVersion,ds(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qw=["get","getKey","getAll","getAllKeys","count"],Hw=["put","add","delete","clear"],fm=new Map;function Bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Hw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return fm.set(t,u),u}Uw(r=>({...r,get:(t,n,s)=>Bv(t,n)||r.get(t,n,s),has:(t,n)=>!!Bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Gw(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",qv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new np("@firebase/app"),Kw="@firebase/app-compat",Qw="@firebase/analytics-compat",Yw="@firebase/analytics",Xw="@firebase/app-check-compat",$w="@firebase/app-check",Jw="@firebase/auth",Ww="@firebase/auth-compat",Zw="@firebase/database",tR="@firebase/data-connect",eR="@firebase/database-compat",nR="@firebase/functions",iR="@firebase/functions-compat",rR="@firebase/installations",sR="@firebase/installations-compat",aR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",uR="@firebase/performance-compat",cR="@firebase/remote-config",hR="@firebase/remote-config-compat",fR="@firebase/storage",dR="@firebase/storage-compat",mR="@firebase/firestore",pR="@firebase/ai",gR="@firebase/firestore-compat",yR="firebase",_R="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",vR={[Im]:"fire-core",[Kw]:"fire-core-compat",[Yw]:"fire-analytics",[Qw]:"fire-analytics-compat",[$w]:"fire-app-check",[Xw]:"fire-app-check-compat",[Jw]:"fire-auth",[Ww]:"fire-auth-compat",[Zw]:"fire-rtdb",[tR]:"fire-data-connect",[eR]:"fire-rtdb-compat",[nR]:"fire-fn",[iR]:"fire-fn-compat",[rR]:"fire-iid",[sR]:"fire-iid-compat",[aR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[uR]:"fire-perf-compat",[cR]:"fire-rc",[hR]:"fire-rc-compat",[fR]:"fire-gcs",[dR]:"fire-gcs-compat",[mR]:"fire-fst",[gR]:"fire-fst-compat",[pR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,ER=new Map,Nm=new Map;function Hv(r,t){try{r.container.addComponent(t)}catch(n){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const t=r.name;if(Nm.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;Nm.set(t,r);for(const n of ch.values())Hv(n,r);for(const n of ER.values())Hv(n,r);return!0}function rp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ei(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new su("app","Firebase",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=_R;function UT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Cm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=MT()),!n)throw ms.create("no-options");const u=ch.get(o);if(u){if(Tr(n,u.options)&&Tr(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const f=new Cw(o);for(const g of Nm.values())f.addComponent(g);const m=new SR(n,s,f);return ch.set(o,m),m}function zT(r=Cm){const t=ch.get(r);if(!t&&r===Cm&&MT())return UT();if(!t)throw ms.create("no-app",{appName:r});return t}function ps(r,t,n){let s=vR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(f.join(" "));return}po(new aa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",bR=1,Wl="firebase-heartbeat-store";let dm=null;function jT(){return dm||(dm=Bw(AR,bR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),dm}async function wR(r){try{const n=(await jT()).transaction(Wl),s=await n.objectStore(Wl).get(BT(r));return await n.done,s}catch(t){if(t instanceof Rr)Sr.warn(t.message);else{const n=ms.create("idb-get",{originalErrorMessage:t?.message});Sr.warn(n.message)}}}async function Fv(r,t){try{const s=(await jT()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(t,BT(r)),await s.done}catch(n){if(n instanceof Rr)Sr.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});Sr.warn(s.message)}}}function BT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1024,IR=30;class CR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>IR){const o=OR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gv(),{heartbeatsToSend:n,unsentEntries:s}=NR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Sr.warn(t),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function NR(r,t=RR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Kv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Kv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function OR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r){po(new aa("platform-logger",t=>new Fw(t),"PRIVATE")),po(new aa("heartbeat",t=>new CR(t),"PRIVATE")),ps(Im,qv,r),ps(Im,qv,"esm2020"),ps("fire-js","")}MR("");var VR="firebase",xR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(VR,xR,"app");function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=qT,HT=new su("auth","Firebase",qT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new np("@firebase/auth");function LR(r,...t){hh.logLevel<=Gt.WARN&&hh.warn(`Auth (${No}): ${r}`,...t)}function th(r,...t){hh.logLevel<=Gt.ERROR&&hh.error(`Auth (${No}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(r,...t){throw sp(r,...t)}function Hi(r,...t){return sp(r,...t)}function FT(r,t,n){const s={...PR(),[t]:n};return new su("auth","Firebase",s).create(t,{appName:r.name})}function yr(r){return FT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return HT.create(r,...t)}function wt(r,t,...n){if(!r)throw sp(t,...n)}function pr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw th(t),new Error(t)}function Ar(r,t){r||pr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return typeof self<"u"&&self.location?.href||""}function kR(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||fw()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile=uw()||dw()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,t){Ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new ou(3e4,6e4);function ws(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ir(r,t,n,s,o={}){return KT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=au({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return hw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(y.credentials="include"),GT.fetch()(await QT(r,r.config.apiHost,n,m),y)})}async function KT(r,t,n){r._canInitEmulator=!1;const s={...jR,...t};try{const o=new FR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw FT(r,E,y);_i(r,E)}}catch(o){if(o instanceof Rr)throw o;_i(r,"network-request-failed",{message:String(o)})}}async function lu(r,t,n,s,o={}){const u=await Ir(r,t,n,s,o);return"mfaPendingCredential"in u&&_i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function QT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?ap(r.config,o):`${r.config.apiScheme}://${o}`;return BR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),qR.get())})}}function Yc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hi(r,t,s);return o.customData._tokenResponse=n,o}function Yv(r){return r!==void 0&&r.enterprise!==void 0}class GR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KR(r,t){return Ir(r,"GET","/v2/recaptchaConfig",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,t){return Ir(r,"POST","/v1/accounts:delete",t)}async function fh(r,t){return Ir(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YR(r,t=!1){const n=tn(r),s=await n.getIdToken(t),o=op(s);wt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(mm(o.auth_time)),issuedAtTime:Hl(mm(o.iat)),expirationTime:Hl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=DT(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xv(r){const t=op(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Rr&&XR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){const t=r.auth,n=await r.getIdToken(),s=await go(r,fh(t,{idToken:n}));wt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?YT(o.providerUserInfo):[],f=WR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function JR(r){const t=tn(r);await dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function YT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,t){const n=await KT(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await QT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(g.credentials="include"),GT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tI(r,t){return Ir(r,"POST","/v2/accounts:revokeToken",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=Xv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(wt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await go(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YR(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(yr(this.auth));const t=await this.getIdToken();return await go(this,QR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:U,providerData:X,stsTokenManager:Z}=n;wt(S&&Z,t,"internal-error");const G=co.fromJSON(this.name,Z);wt(typeof S=="string",t,"internal-error"),ss(s,t.name),ss(o,t.name),wt(typeof w=="boolean",t,"internal-error"),wt(typeof U=="boolean",t,"internal-error"),ss(u,t.name),ss(f,t.name),ss(m,t.name),ss(g,t.name),ss(y,t.name),ss(E,t.name);const at=new pi({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(at.providerData=X.map(pt=>({...pt}))),g&&(at._redirectEventId=g),at}static async _fromIdTokenResponse(t,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?YT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(s);const g=new pi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function gr(r){Ar(r instanceof Function,"Expected a class definition");let t=$v.get(r);return t?(Ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,$v.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XT.type="NONE";const Jv=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,t,n){return`firebase:${r}:${t}:${n}`}class ho{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fh(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ho(gr(Jv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||gr(Jv);const f=eh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await fh(t,{idToken:E}).catch(()=>{});if(!w)break;S=await pi._fromGetAccountInfoResponse(t,w,E)}else S=pi._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ho(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ho(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(e0(t))return"Blackberry";if(n0(t))return"Webos";if(JT(t))return"Safari";if((t.includes("chrome/")||WT(t))&&!t.includes("edge/"))return"Chrome";if(t0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function $T(r=mn()){return/firefox\//i.test(r)}function JT(r=mn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WT(r=mn()){return/crios\//i.test(r)}function ZT(r=mn()){return/iemobile/i.test(r)}function t0(r=mn()){return/android/i.test(r)}function e0(r=mn()){return/blackberry/i.test(r)}function n0(r=mn()){return/webos/i.test(r)}function lp(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eI(r=mn()){return lp(r)&&!!window.navigator?.standalone}function nI(){return mw()&&document.documentMode===10}function i0(r=mn()){return lp(r)||t0(r)||n0(r)||e0(r)||/windows phone/i.test(r)||ZT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,t=[]){let n;switch(r){case"Browser":n=Wv(mn());break;case"Worker":n=`${Wv(mn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,t={}){return Ir(r,"GET","/v2/passwordPolicy",ws(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=6;class aI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fh(this,{idToken:t}),s=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(yr(this));const n=t?tn(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rI(this),n=new aI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=r0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fa(r){return tn(r)}class Zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Sw(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(r){Vh=r}function s0(r){return Vh.loadJS(r)}function uI(){return Vh.recaptchaEnterpriseScript}function cI(){return Vh.gapiScript}function hI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fI{constructor(){this.enterprise=new dI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const mI="recaptcha-enterprise",a0="NO_RECAPTCHA";class pI{constructor(t){this.type=mI,this.auth=fa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{KR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Yv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(a0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Yv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uI();g.length!==0&&(g+=m),s0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function tE(r,t,n,s=!1,o=!1){const u=new pI(r);let f;if(o)f=a0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tE(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await tE(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,t){const n=rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Tr(u,t??{}))return o;_i(o,"already-initialized")}return n.initialize({options:t})}function yI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _I(r,t,n){const s=fa(r);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=o0(t),{host:f,port:m}=vI(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Tr(y,s.config.emulator)&&Tr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(xT(`${u}//${f}${g}`),PT("Auth",!0)):EI()}function o0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vI(r){const t=o0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:eE(f)}}}function eE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,n){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}async function TI(r,t){return Ir(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,t){return lu(r,"POST","/v1/accounts:signInWithPassword",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,t))}async function bI(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends up{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Zl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Zl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(t,n,"signInWithPassword",SI);case"emailLink":return AI(t,{email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(t,s,"signUpPassword",TI);case"emailLink":return bI(t,{idToken:n,email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,t){return lu(r,"POST","/v1/accounts:signInWithIdp",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="http://localhost";class oa extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return fo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,fo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fo(t,n)}buildRequest(){const t={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=au(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function II(r){const t=kl(Ul(r)).link,n=t?kl(Ul(t)).deep_link_id:null,s=kl(Ul(r)).deep_link_id;return(s?kl(Ul(s)).link:null)||s||n||t||r}class cp{constructor(t){const n=kl(Ul(t)),s=n.apiKey??null,o=n.oobCode??null,u=RI(n.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=II(t);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(t,n){return Zl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=cp.parseLink(n);return wt(s,"argument-error"),Zl._fromEmailAndCode(t,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends uu{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends uu{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends uu{constructor(){super("twitter.com")}static credential(t,n){return oa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t){return lu(r,"POST","/v1/accounts:signUp",ws(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await pi._fromIdTokenResponse(t,s,o),f=nE(s);return new la({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=nE(s);return new la({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function nE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Rr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new mh(t,n,s,o)}}function u0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,t,s):u})}async function NI(r,t,n=!1){const s=await go(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await go(r,u0(s,o,t,r),n);wt(u.idToken,s,"internal-error");const f=op(u.idToken);wt(f,s,"internal-error");const{sub:m}=f;return wt(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(r,t,n=!1){if(ei(r.app))return Promise.reject(yr(r));const s="signIn",o=await u0(r,s,t),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function OI(r,t){return c0(fa(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(r){const t=fa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function MI(r,t,n){if(ei(r.app))return Promise.reject(yr(r));const s=fa(r),f=await Mm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&h0(r),g}),m=await la._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function VI(r,t,n){return ei(r.app)?Promise.reject(yr(r)):OI(tn(r),Do.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,t){return Ir(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=tn(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await go(s,xI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function LI(r,t,n,s){return tn(r).onIdTokenChanged(t,n,s)}function kI(r,t,n){return tn(r).beforeAuthStateChanged(t,n)}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,zI=10;class d0 extends f0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}d0.type="LOCAL";const jI=d0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends f0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}m0.type="SESSION";const p0=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new xh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await BI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=hp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function HI(r){Fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function FI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GI(){return navigator?.serviceWorker?.controller||null}function KI(){return g0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firebaseLocalStorageDb",QI=1,gh="firebaseLocalStorage",_0="fbase_key";class cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,t){return r.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function YI(){const r=indexedDB.deleteDatabase(y0);return new cu(r).toPromise()}function Vm(){const r=indexedDB.open(y0,QI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:_0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?t(s):(s.close(),await YI(),t(await Vm()))})})}async function iE(r,t,n){const s=Ph(r,!0).put({[_0]:t,value:n});return new cu(s).toPromise()}async function XI(r,t){const n=Ph(r,!1).get(t),s=await new cu(n).toPromise();return s===void 0?null:s.value}function rE(r,t){const n=Ph(r,!0).delete(t);return new cu(n).toPromise()}const $I=800,JI=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(KI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vm();return await iE(t,ph,"1"),await rE(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>XI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const WI=v0;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r,t){return t?gr(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends up{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tC(r){return c0(r.auth,new fp(r),r.bypassAuthState)}function eC(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),DI(n,new fp(r),r.bypassAuthState)}async function nC(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),NI(n,new fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:_i(this.auth,"internal-error")}}resolve(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new ou(2e3,1e4);class lo extends E0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const t=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iC.get())};t()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",nh=new Map;class sC extends E0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const s=await aC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(r,t){const n=uC(t),s=lC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oC(r,t){nh.set(r._key(),t)}function lC(r){return gr(r._redirectPersistence)}function uC(r){return eh(rC,r.config.apiKey,r.name)}async function cC(r,t,n=!1){if(ei(r.app))return Promise.reject(yr(r));const s=fa(r),o=ZI(s,t),f=await new sC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=600*1e3;class fC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!T0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(t))}saveEventToCache(t){this.cachedEventUids.add(sE(t)),this.lastProcessedEventTime=Date.now()}}function sE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function T0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(r,t={}){return Ir(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mC(r);for(const n of t)try{if(_C(n))return}catch{}_i(r,"unauthorized-domain")}function _C(r){const t=Dm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gC.test(n))return!1;if(pC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new ou(3e4,6e4);function aE(){const r=Fi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EC(r){return new Promise((t,n)=>{function s(){aE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(Hi(r,"network-request-failed"))},timeout:vC.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=hI("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(Hi(r,"network-request-failed"))},s0(`${cI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw ih=null,t})}let ih=null;function TC(r){return ih=ih||EC(r),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new ou(5e3,15e3),AC="__/auth/iframe",bC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ap(t,bC):`https://${r.config.authDomain}/${AC}`,s={apiKey:t.apiKey,appName:r.name,v:No},o=RC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function CC(r){const t=await TC(r),n=Fi().gapi;return wt(n,r,"internal-error"),t.open({where:document.body,url:IC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hi(r,"network-request-failed"),m=Fi().setTimeout(()=>{u(f)},SC.get());function g(){Fi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,OC=600,MC="_blank",VC="http://localhost";class oE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(r,t,n,s=DC,o=OC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...NC,width:s.toString(),height:o.toString(),top:u,left:f},y=mn().toLowerCase();n&&(m=WT(y)?MC:n),$T(y)&&(t=t||VC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[U,X])=>`${w}${U}=${X},`,"");if(eI(y)&&m!=="_self")return PC(t||"",m),new oE(null);const S=window.open(t||"",m,E);wt(S,r,"popup-blocked");try{S.focus()}catch{}return new oE(S)}function PC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",kC="emulator/auth/handler",UC=encodeURIComponent("fac");async function lE(r,t,n,s,o,u){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:No,eventId:o};if(t instanceof l0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Tw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof uu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${UC}=${encodeURIComponent(g)}`:"";return`${zC(r)}?${au(m).slice(1)}${y}`}function zC({config:r}){return r.emulator?ap(r,kC):`https://${r.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=cC,this._overrideRedirectResult=oC}async _openPopup(t,n,s,o){Ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await lE(t,n,s,Dm(),o);return xC(t,u,hp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await lE(t,n,s,Dm(),o);return HI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await CC(t),s=new fC(t);return n.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},o=>{const u=o?.[0]?.[pm];u!==void 0&&n(!!u),_i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return i0()||JT()||lp()}}const BC=jC;var uE="@firebase/auth",cE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){po(new aa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;wt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r0(r)},y=new oI(s,o,u,g);return yI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),po(new aa("auth-internal",t=>{const n=fa(t.getProvider("auth").getImmediate());return(s=>new qC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(uE,cE,HC(r)),ps(uE,cE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=300,KC=VT("authIdTokenMaxAge")||GC;let hE=null;const QC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KC)return;const o=n?.token;hE!==o&&(hE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YC(r=zT()){const t=rp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gI(r,{popupRedirectResolver:BC,persistence:[WI,jI,p0]}),s=VT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=QC(u.toString());kI(n,f,()=>f(n.currentUser)),LI(n,m=>f(m))}}const o=OT("auth");return o&&_I(n,`http://${o}`),n}function XC(){return document.getElementsByTagName("head")?.[0]??document}lI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",XC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,S0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,P){for(var R=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)R[Yt-2]=arguments[Yt];return b.prototype[D].apply(x,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let P=I.g[3],R;R=b+(P^C&(D^P))+x[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=P+(D^b&(C^D))+x[1]+3905402710&4294967295,P=b+(R<<12&4294967295|R>>>20),R=D+(C^P&(b^C))+x[2]+606105819&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(b^D&(P^b))+x[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=b+(P^C&(D^P))+x[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=P+(D^b&(C^D))+x[5]+1200080426&4294967295,P=b+(R<<12&4294967295|R>>>20),R=D+(C^P&(b^C))+x[6]+2821735955&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(b^D&(P^b))+x[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=b+(P^C&(D^P))+x[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=P+(D^b&(C^D))+x[9]+2336552879&4294967295,P=b+(R<<12&4294967295|R>>>20),R=D+(C^P&(b^C))+x[10]+4294925233&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(b^D&(P^b))+x[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=b+(P^C&(D^P))+x[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=P+(D^b&(C^D))+x[13]+4254626195&4294967295,P=b+(R<<12&4294967295|R>>>20),R=D+(C^P&(b^C))+x[14]+2792965006&4294967295,D=P+(R<<17&4294967295|R>>>15),R=C+(b^D&(P^b))+x[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=b+(D^P&(C^D))+x[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(b^C))+x[6]+3225465664&4294967295,P=b+(R<<9&4294967295|R>>>23),R=D+(b^C&(P^b))+x[11]+643717713&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^b&(D^P))+x[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=b+(D^P&(C^D))+x[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(b^C))+x[10]+38016083&4294967295,P=b+(R<<9&4294967295|R>>>23),R=D+(b^C&(P^b))+x[15]+3634488961&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^b&(D^P))+x[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=b+(D^P&(C^D))+x[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(b^C))+x[14]+3275163606&4294967295,P=b+(R<<9&4294967295|R>>>23),R=D+(b^C&(P^b))+x[3]+4107603335&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^b&(D^P))+x[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=b+(D^P&(C^D))+x[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=P+(C^D&(b^C))+x[2]+4243563512&4294967295,P=b+(R<<9&4294967295|R>>>23),R=D+(b^C&(P^b))+x[7]+1735328473&4294967295,D=P+(R<<14&4294967295|R>>>18),R=C+(P^b&(D^P))+x[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=b+(C^D^P)+x[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=P+(b^C^D)+x[8]+2272392833&4294967295,P=b+(R<<11&4294967295|R>>>21),R=D+(P^b^C)+x[11]+1839030562&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^b)+x[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=b+(C^D^P)+x[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=P+(b^C^D)+x[4]+1272893353&4294967295,P=b+(R<<11&4294967295|R>>>21),R=D+(P^b^C)+x[7]+4139469664&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^b)+x[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=b+(C^D^P)+x[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=P+(b^C^D)+x[0]+3936430074&4294967295,P=b+(R<<11&4294967295|R>>>21),R=D+(P^b^C)+x[3]+3572445317&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^b)+x[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=b+(C^D^P)+x[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=P+(b^C^D)+x[12]+3873151461&4294967295,P=b+(R<<11&4294967295|R>>>21),R=D+(P^b^C)+x[15]+530742520&4294967295,D=P+(R<<16&4294967295|R>>>16),R=C+(D^P^b)+x[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=b+(D^(C|~P))+x[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=P+(C^(b|~D))+x[7]+1126891415&4294967295,P=b+(R<<10&4294967295|R>>>22),R=D+(b^(P|~C))+x[14]+2878612391&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~b))+x[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=b+(D^(C|~P))+x[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=P+(C^(b|~D))+x[3]+2399980690&4294967295,P=b+(R<<10&4294967295|R>>>22),R=D+(b^(P|~C))+x[10]+4293915773&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~b))+x[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=b+(D^(C|~P))+x[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=P+(C^(b|~D))+x[15]+4264355552&4294967295,P=b+(R<<10&4294967295|R>>>22),R=D+(b^(P|~C))+x[6]+2734768916&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~b))+x[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=b+(D^(C|~P))+x[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=P+(C^(b|~D))+x[11]+3174756917&4294967295,P=b+(R<<10&4294967295|R>>>22),R=D+(b^(P|~C))+x[2]+718787259&4294967295,D=P+(R<<15&4294967295|R>>>17),R=C+(P^(D|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let D=this.h,P=0;for(;P<b;){if(D==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<b;)if(x[D++]=I.charCodeAt(P++),D==this.blockSize){o(this,x),D=0;break}}else for(;P<b;)if(x[D++]=I[P++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function u(I,b){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function f(I,b){this.h=b;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const P=I[D]|0;x&&P==b||(C[D]=P,x=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return G(y(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return G(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let x=S;for(let P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+D),b);D<8?(D=y(Math.pow(b,D)),x=x.j(D).add(y(R))):(x=x.j(C),x=x.add(y(R)))}return x}var S=g(0),w=g(1),U=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-G(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if(Z(this))return"-"+G(this).toString(I);const b=y(Math.pow(I,6));var C=this;let x="";for(;;){const D=xt(C,b).g;C=at(C,D.j(b));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,X(C))return P+x;for(;P.length<6;)P="0"+P;x=P+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function Z(I){return I.h==-1}r.l=function(I){return I=at(this,I),Z(I)?-1:X(I)?0:1};function G(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new f(C,~I.h).add(w)}r.abs=function(){return Z(this)?G(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=b;D++){let P=x+(this.i(D)&65535)+(I.i(D)&65535),R=(P>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=R>>>16,P&=65535,R&=65535,C[D]=R<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function at(I,b){return I.add(G(b))}r.j=function(I){if(X(this)||X(I))return S;if(Z(this))return Z(I)?G(this).j(G(I)):G(G(this).j(I));if(Z(I))return G(this.j(G(I)));if(this.l(U)<0&&I.l(U)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const P=this.i(x)>>>16,R=this.i(x)&65535,Yt=I.i(D)>>>16,ie=I.i(D)&65535;C[2*x+2*D]+=R*ie,pt(C,2*x+2*D),C[2*x+2*D+1]+=P*ie,pt(C,2*x+2*D+1),C[2*x+2*D+1]+=R*Yt,pt(C,2*x+2*D+1),C[2*x+2*D+2]+=P*Yt,pt(C,2*x+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new f(C,0)};function pt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ht(I,b){this.g=I,this.h=b}function xt(I,b){if(X(b))throw Error("division by zero");if(X(I))return new ht(S,S);if(Z(I))return b=xt(G(I),b),new ht(G(b.g),G(b.h));if(Z(b))return b=xt(I,G(b)),new ht(G(b.g),b.h);if(I.g.length>30){if(Z(I)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var C=w,x=b;x.l(I)<=0;)C=Lt(C),x=Lt(x);var D=dt(C,1),P=dt(x,1);for(x=dt(x,2),C=dt(C,2);!X(x);){var R=P.add(x);R.l(I)<=0&&(D=D.add(C),P=R),x=dt(x,1),C=dt(C,1)}return b=at(I,D.j(b)),new ht(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),P=y(C),R=P.j(b);Z(R)||R.l(I)>0;)C-=x,P=y(C),R=P.j(b);X(P)&&(P=w),D=D.add(P),I=at(I,R)}return new ht(D,I)}r.B=function(I){return xt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new f(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new f(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new f(C,this.h^I.h)};function Lt(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new f(C,I.h)}function dt(I,b){const C=b>>5;b%=32;const x=I.g.length-C,D=[];for(let P=0;P<x;P++)D[P]=b>0?I.i(P+C)>>>b|I.i(P+C+1)<<32-b:I.i(P+C);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,S0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,gs=f}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A0,zl,b0,rh,xm,w0,R0,I0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,H){for(var ot=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ot[Mt-2]=arguments[Mt];return p.prototype[z].apply(A,ot)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function X(c,p){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const H=z.length||0;c.length=v+H;for(let ot=0;ot<H;ot++)c[v+ot]=z[ot]}else c.push(z)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function at(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pt{constructor(){this.h=this.g=null}add(p,v){const A=ht.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new Z(()=>new xt,c=>c.reset());class xt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,dt=!1,I=new pt,b=()=>{const c=Promise.resolve(void 0);Lt=()=>{c.then(C)}};function C(){for(var c;c=at();){try{c.h.call(c.g)}catch(v){G(v)}var p=ht;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}dt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Yt(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Yt,D),Yt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),Q=0;function it(c,p,v,A,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function kt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function O(c){const p={};for(const v in c)p[v]=c[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,p){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,A,z){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ot=At(c,p,A,z);return ot>-1?(p=c[ot],v||(p.fa=!1)):(p=new it(p,this.src,H,!!A,z),p.fa=v,c.push(p)),p};function Et(c,p){const v=p.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,p,void 0),H;(H=z>=0)&&Array.prototype.splice.call(A,z,1),H&&(ut(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function At(c,p,v,A){for(let z=0;z<c.length;++z){const H=c[z];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==A)return z}return-1}var It="closure_lm_"+(Math.random()*1e6|0),Ee={};function se(c,p,v,A,z){if(Array.isArray(p)){for(let H=0;H<p.length;H++)se(c,p[H],v,A,z);return null}return v=vn(v),c&&c[ie]?c.J(p,v,m(A)?!!A.capture:!1,z):nt(c,p,v,!1,A,z)}function nt(c,p,v,A,z,H){if(!p)throw Error("Invalid event type");const ot=m(z)?!!z.capture:!!z;let Mt=Se(c);if(Mt||(c[It]=Mt=new lt(c)),v=Mt.add(p,v,A,ot,H),v.proxy)return v;if(A=St(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(z=ot),z===void 0&&(z=!1),c.addEventListener(p.toString(),A,z);else if(c.attachEvent)c.attachEvent($t(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function St(){function c(v){return p.call(c.src,c.listener,v)}const p=Te;return c}function Wt(c,p,v,A,z){if(Array.isArray(p))for(var H=0;H<p.length;H++)Wt(c,p[H],v,A,z);else A=m(A)?!!A.capture:!!A,v=vn(v),c&&c[ie]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=At(p,v,A,z),v>-1&&(ut(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=Se(c))&&(p=c.g[p.toString()],c=-1,p&&(c=At(p,v,A,z)),(v=c>-1?p[c]:null)&&ue(v))}function ue(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ie])Et(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent($t(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Se(p))?(Et(v,c),v.h==0&&(v.src=null,p[It]=null)):ut(c)}}}function $t(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function Te(c,p){if(c.da)c=!0;else{p=new Yt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&ue(c),c=v.call(A,p)}return c}function Se(c){return c=c[It],c instanceof lt?c:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function vn(c){return typeof c=="function"?c:(c[qt]||(c[qt]=function(p){return c.handleEvent(p)}),c[qt])}function ye(){x.call(this),this.i=new lt(this),this.M=this,this.G=null}S(ye,x),ye.prototype[ie]=!0,ye.prototype.removeEventListener=function(c,p,v,A){Wt(this,c,p,v,A)};function k(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var z=p;p=new D(A,c),rt(p,z)}z=!0;let H,ot;if(v)for(ot=v.length-1;ot>=0;ot--)H=p.g=v[ot],z=st(H,A,!0,p)&&z;if(H=p.g=c,z=st(H,A,!0,p)&&z,z=st(H,A,!1,p)&&z,v)for(ot=0;ot<v.length;ot++)H=p.g=v[ot],z=st(H,A,!1,p)&&z}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)ut(v[A]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ye.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function st(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let H=0;H<p.length;++H){const ot=p[H];if(ot&&!ot.da&&ot.capture==v){const Mt=ot.listener,De=ot.ha||ot.src;ot.fa&&Et(c.i,ot),z=Mt.call(De,A)!==!1&&z}}return z&&!A.defaultPrevented}function Nt(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function bt(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,bt(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class yt extends x{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(c){x.call(this),this.h=c,this.g={}}S(zt,x);var Nn=[];function xe(c){Ut(c.g,function(p,v){this.g.hasOwnProperty(v)&&ue(p)},c),c.g={}}zt.prototype.N=function(){zt.Z.N.call(this),xe(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=f.JSON.stringify,Ei=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Su(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){D.call(this,"d")}S(nn,D);function qn(){D.call(this,"c")}S(qn,D);var Ne={},Au=null;function ya(){return Au=Au||new ye}Ne.Ia="serverreachability";function bu(c){D.call(this,Ne.Ia,c)}S(bu,D);function Ti(c){const p=ya();k(p,new bu(p))}Ne.STAT_EVENT="statevent";function Cs(c,p){D.call(this,Ne.STAT_EVENT,c),this.stat=p}S(Cs,D);function Pe(c){const p=ya();k(p,new Cs(p,c))}Ne.Ja="timingevent";function Si(c,p){D.call(this,Ne.Ja,c),this.size=p}S(Si,D);function Ai(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function af(c,p,v,A,z,H){c.info(function(){if(c.g)if(H){var ot="",Mt=H.split("&");for(let ee=0;ee<Mt.length;ee++){var De=Mt[ee].split("=");if(De.length>1){const Ae=De[0];De=De[1];const Kn=Ae.split("_");ot=Kn.length>=2&&Kn[1]=="type"?ot+(Ae+"="+De+"&"):ot+(Ae+"=redacted&")}}}else ot=null;else ot=H;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+v+`
`+ot})}function wu(c,p,v,A,z,H,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+v+`
`+H+" "+ot})}function bi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+of(c,v)+(A?" "+A:"")})}function Ns(c,p){c.info(function(){return"TIMEOUT: "+p})}ri.prototype.info=function(){};function of(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Bn(H)}catch{return p}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function Os(){}S(Os,Tu),Os.prototype.g=function(){return new XMLHttpRequest},ko=new Os;function $i(c){return encodeURIComponent(String(c))}function Ru(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function si(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Le={},Xe={};function wi(c,p,v){c.M=1,c.A=Ms(Ue(p)),c.u=v,c.R=!0,_a(c,null)}function _a(c,p){c.F=Date.now(),Ri(c),c.B=Ue(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Sa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ai,c.g=Bu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new yt(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Nn[0]=z.toString()),z=Nn);for(let H=0;H<z.length;H++){const ot=se(v,z[H],A||p.handleEvent,!1,p.h||p);if(!ot)break;p.g[ot.key]=ot}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Ti(),af(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const p=this.O;p&&ui(c)==3?p.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)t:{const Mt=ui(this.g),De=this.g.ya(),ee=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Mt!=4||De==7||(De==8||ee<=0?Ti(3):Ti(2)),Ii(this);var p=this.g.ca();this.X=p;var v=lf(this);if(this.o=p==200,wu(this.i,this.v,this.B,this.l,this.S,Mt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var H=A;break e}}H=null}if(c=H)bi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,c);else{this.o=!1,this.m=3,Pe(12),Dn(this),Hn(this);break t}}if(this.R){c=!0;let Ae;for(;!this.K&&this.C<v.length;)if(Ae=Cu(this,v),Ae==Xe){Mt==4&&(this.m=4,Pe(14),c=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==Le){this.m=4,Pe(15),bi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else bi(this.i,this.l,Ae,null),Ci(this,Ae);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||v.length!=0||this.h.h||(this.m=1,Pe(16),c=!1),this.o=this.o&&c,!c)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(ot),ot.P=!0,Pe(11))}}else bi(this.i,this.l,v,null),Ci(this,v);Mt==4&&Dn(this),this.o&&!this.K&&(Mt==4?ku(this.j,this):(this.o=!1,Ri(this)))}else Wi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),Dn(this),Hn(this)}}}catch{}finally{}};function lf(c){if(!Iu(c))return c.g.la();const p=rn(c.g);if(p==="")return"";let v="";const A=p.length,z=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Dn(c),Hn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(z&&H==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Xe:(v=Number(p.substring(v,A)),isNaN(v)?Le:(A+=1,A+v>p.length?Xe:(p=p.slice(A,A+v),c.C=A+v,p)))}si.prototype.cancel=function(){this.K=!0,Dn(this)};function Ri(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ai(y(c.aa,c),p)}function Ii(c){c.D&&(f.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(Ti(),Pe(17)),Dn(this),this.m=2,Hn(this)):va(this,this.T-c)};function Hn(c){c.j.I==0||c.K||ku(c.j,c)}function Dn(c){Ii(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,xe(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Ci(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Di(v.h,c))){if(!c.L&&Di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Pr(v);else break t;zs(v),Pe(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ai(y(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((c.L||v.g==c)&&Ia(v),!R(p))for(z=v.Ba.g.parse(p),p=0;p<z.length;p++){let ee=z[p];const Ae=ee[0];if(!(Ae<=v.K))if(v.K=Ae,ee=ee[1],v.I==2)if(ee[0]=="c"){v.M=ee[1],v.ba=ee[2];const Kn=ee[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const ki=ee[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const ci=ee[5];ci!=null&&typeof ci=="number"&&ci>0&&(A=1.5*ci,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hi=c.g;if(hi){const js=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var H=A.h;H.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(jo(H,H.h),H.h=null))}if(A.G){const Ca=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,ae(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ot=c;if(A.na=ju(A,A.L?A.ba:null,A.W),ot.L){Bo(A.h,ot);var Mt=ot,De=A.O;De&&(Mt.H=De),Mt.D&&(Ii(Mt),Ri(Mt)),A.g=ot}else Pu(A);v.i.length>0&&Pi(v)}else ee[0]!="stop"&&ee[0]!="close"||Li(v,7);else v.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Li(v,7):$o(v):ee[0]!="noop"&&v.l&&v.l.qa(ee),v.A=0)}}Ti(4)}catch{}}var ke=class{constructor(c,p){this.g=c,this.map=p}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ni(c){return c.h?1:c.g?c.g.size:0}function Di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function jo(c,p){c.g?c.g.add(p):c.h=p}function Bo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,H=null;A>=0?(z=c[v].substring(0,A),H=c[v].substring(A+1)):z=c[v],p(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function On(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof On?(this.l=c.l,$e(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,Ho(this,Vu(c.i)),this.m=c.m):c&&(p=String(c).match(Nu))?(this.l=!1,$e(this,p[1]||"",!0),this.o=Oi(p[2]||""),this.g=Oi(p[3]||"",!0),Cr(this,p[4]),this.h=Oi(p[5]||"",!0),Ho(this,p[6]||"",!0),this.m=Oi(p[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}On.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Vs(p,Ta,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Vs(p,Ta,!0),"@"),c.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Vs(v,v.charAt(0)=="/"?Fo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Vs(v,Ou)),c.join("")},On.prototype.resolve=function(c){const p=Ue(this);let v=!!c.j;v?$e(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)Cr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=p.h.lastIndexOf("/");z!=-1&&(A=p.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let ot=0;ot<z.length;){const Mt=z[ot++];Mt=="."?A&&ot==z.length&&H.push(""):Mt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ot==z.length&&H.push("")):(H.push(Mt),A=!0)}A=H.join("/")}else A=z}return v?p.h=A:v=c.i.toString()!=="",v?Ho(p,Vu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ue(c){return new On(c)}function $e(c,p,v){c.j=v?Oi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Ho(c,p,v){p instanceof Dr?(c.i=p,Aa(c.i,c.l)):(v||(p=Vs(p,Nr)),c.i=new Dr(p,c.l))}function ae(c,p,v){c.i.set(p,v)}function Ms(c){return ae(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Oi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,En),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function En(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Du=/[#\?:]/g,Fo=/[#\?]/g,Nr=/[#\?@]/g,Ou=/#/g;function Dr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(c,p){Tn(this),this.i=null,c=Or(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Mu(c,p){Tn(c),p=Or(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Go(c,p){return Tn(c),p=Or(c,p),c.g.has(p)}r.forEach=function(c,p){Tn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(p,z,A,this)},this)},this)};function Ko(c,p){Tn(c);let v=[];if(typeof p=="string")Go(c,p)&&(v=v.concat(c.g.get(Or(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return Tn(this),this.i=null,c=Or(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Ko(this,c),c.length>0?String(c[0]):p):p};function Sa(c,p,v){Mu(c,p),v.length>0&&(c.i=null,c.g.set(Or(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const z=$i(v);v=Ko(this,v);for(let H=0;H<v.length;H++){let ot=z;v[H]!==""&&(ot+="="+$i(v[H])),c.push(ot)}}return this.i=c.join("&")};function Vu(c){const p=new Dr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Or(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Aa(c,p){p&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Mu(this,A),Sa(this,z,v))},c)),c.j=p}function oi(c,p){const v=new ri;if(f.Image){const A=new Image;A.onload=E(Fn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Fn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Fn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Qo(c,p){const v=new ri,A=new AbortController,z=setTimeout(()=>{A.abort(),Fn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(z),H.ok?Fn(v,"TestPingServer: ok",!0,p):Fn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Fn(v,"TestPingServer: error",!1,p)})}function Fn(c,p,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Mr(){this.g=new Eu}function Mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Mi,Tu),Mi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xs,ye),r=xs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,li(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Vr(this):li(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Vr(this))},r.Na=function(c){this.g&&(this.response=c,Vr(this))},r.ga=function(){this.g&&Vr(this)};function Vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gn(c){let p="";return Ut(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Ps(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Gn(v),typeof c=="string"?v!=null&&$i(v):ae(c,p,v))}function ce(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ce,ye);var Vi=/^https?$/i,Yo=["POST","PUT"];r=ce.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){Ls(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ot]of v)this.g.setRequestHeader(H,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ls(this,H)}};function Ls(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Xo(c),Ji(c)}function Xo(c){c.A||(c.A=!0,k(c,"complete"),k(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,k(this,"complete"),k(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ce.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(k(c,"readystatechange"),ui(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=H===0){let ot=String(c.D).match(Nu)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),A=!Vi.test(ot?ot.toLowerCase():"")}v=A}if(v)k(c,"complete"),k(c,"success");else{c.o=6;try{var z=ui(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Xo(c)}}finally{Ji(c)}}}}function Ji(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||k(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ei(p)}};function rn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(c){const p={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=Ru(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[z]||[];p[z]=H,H.push(v)}kt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function xr(c){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){Pe(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),Pi(this)};function $o(c){if(wa(c),c.I==3){var p=c.V++,v=Ue(c.J);if(ae(v,"SID",c.M),ae(v,"RID",p),ae(v,"TYPE","terminate"),Us(c,v),p=new si(c,c.j,p),p.M=2,p.A=Ms(Ue(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Bu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ri(p)}zu(c)}function Pr(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function wa(c){Pr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Pi(c){if(!zo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Lt||b(),dt||(Lt(),dt=!0),I.add(p,c),c.D=0}}function Ra(c,p){return Ni(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ai(y(c.Ea,c,p),Uu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new si(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),rt(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=xu(this,z,p),v=Ue(this.J),ae(v,"RID",c),ae(v,"CVER",22),this.G&&ae(v,"X-HTTP-Session-Id",this.G),Us(this,v),H&&(this.R?p="headers="+$i(Gn(H))+"&"+p:this.u&&Ps(v,this.u,H)),jo(this.h,z),this.Ra&&ae(v,"TYPE","init"),this.S?(ae(v,"$req",p),ae(v,"SID","null"),z.U=!0,wi(z,v,null)):wi(z,v,p),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,p){var v;p?v=p.l:v=c.V++;const A=Ue(c.J);ae(A,"SID",c.M),ae(A,"RID",v),ae(A,"AID",c.K),Us(c,A),c.u&&c.o&&Ps(A,c.u,c.o),v=new si(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),wi(v,A,p)}function Us(c,p){c.H&&Ut(c.H,function(v,A){ae(p,A,v)}),c.l&&Ut({},function(v,A){ae(p,A,v)})}function xu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var z=c.i;let Mt=-1;for(;;){const De=["count="+v];Mt==-1?v>0?(Mt=z[0].g,De.push("ofs="+Mt)):Mt=0:De.push("ofs="+Mt);let ee=!0;for(let Ae=0;Ae<v;Ae++){var H=z[Ae].g;const Kn=z[Ae].map;if(H-=Mt,H<0)Mt=Math.max(0,z[Ae].g-100),ee=!1;else try{H="req"+H+"_"||"";try{var ot=Kn instanceof Map?Kn:Object.entries(Kn);for(const[ki,ci]of ot){let hi=ci;m(ci)&&(hi=Bn(ci)),De.push(H+ki+"="+encodeURIComponent(hi))}}catch(ki){throw De.push(H+"type="+encodeURIComponent("_badmap")),ki}}catch{A&&A(Kn)}}if(ee){ot=De.join("&");break t}}ot=void 0}return c=c.i.splice(0,v),p.G=c,ot}function Pu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Lt||b(),dt||(Lt(),dt=!0),I.add(p,c),c.A=0}}function zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ai(y(c.Da,c),Uu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),Pr(this),Lu(this))};function Wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ue(c.na);ae(p,"RID","rpc"),ae(p,"SID",c.M),ae(p,"AID",c.K),ae(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&ae(p,"TO",c.ia),ae(p,"TYPE","xmlhttp"),Us(c,p),c.u&&c.o&&Ps(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ms(Ue(p)),v.u=null,v.R=!0,_a(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Pr(this),zs(this),Pe(19))};function Ia(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,p){var v=null;if(c.g==p){Ia(c),Wo(c),c.g=null;var A=2}else if(Di(c.h,p))v=p.G,Bo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var z=c.D;A=ya(),k(A,new Si(A,v)),Pi(c)}else Pu(c);else if(z=p.m,z==3||z==0&&p.X>0||!(A==1&&Ra(c,p)||A==2&&zs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),z){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Uu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Li(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new On(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$e(A,"https"),Ms(A),z?oi(A.toString(),v):Qo(A.toString(),v)}else Pe(2);c.I=0,c.l&&c.l.pa(p),zu(c),wa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const p=qo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function ju(c,p,v){var A=v instanceof On?Ue(v):new On(v);if(A.g!="")p&&(A.g=p+"."+A.g),Cr(A,A.u);else{var z=f.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const H=new On(null);A&&$e(H,A),p&&(H.g=p),z&&Cr(H,z),v&&(H.h=v),A=H}return v=c.G,p=c.wa,v&&p&&ae(A,v,p),ae(A,"VER",c.ka),Us(c,A),A}function Bu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ce(new Mi({ab:v})):new ce(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Lr(){}Lr.prototype.g=function(c,p){return new pn(c,p)};function pn(c,p){ye.call(this),this.g=new xr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zi(this)}S(pn,ye),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){$o(this.g)},pn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Bn(c),c=v);p.i.push(new ke(p.Ya++,c)),p.I==3&&Pi(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,pn.Z.N.call(this)};function Hu(c){nn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Hu,nn);function Fu(){qn.call(this),this.status=1}S(Fu,qn);function Zi(c){this.g=c}S(Zi,qu),Zi.prototype.ra=function(){k(this.g,"a")},Zi.prototype.qa=function(c){k(this.g,new Hu(c))},Zi.prototype.pa=function(c){k(this.g,new Fu)},Zi.prototype.oa=function(){k(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,I0=function(){return new Lr},R0=function(){return ya()},w0=Ne,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,rh=Ds,Lo.COMPLETE="complete",b0=Lo,Su.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ye.prototype.listen=ye.prototype.J,zl=Su,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,A0=ce}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",mE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new np("@firebase/firestore");function ro(){return ua.logLevel}function ft(r,...t){if(ua.logLevel<=Gt.DEBUG){const n=t.map(dp);ua.debug(`Firestore (${Oo}): ${r}`,...n)}}function br(r,...t){if(ua.logLevel<=Gt.ERROR){const n=t.map(dp);ua.error(`Firestore (${Oo}): ${r}`,...n)}}function ca(r,...t){if(ua.logLevel<=Gt.WARN){const n=t.map(dp);ua.warn(`Firestore (${Oo}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,C0(r,s,n)}function C0(r,t,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw br(s),new Error(s)}function re(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||C0(t,o,s)}function Ot(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class $C{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JC{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){re(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(re(typeof s.accessToken=="string",31837,{l:s}),new N0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class WC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){re(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=e2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Kt(r,t){return r<t?-1:r>t?1:0}function Pm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return gm(o)===gm(u)?Kt(o,u):gm(o)?1:-1}return Kt(r.length,t.length)}const n2=55296,i2=57343;function gm(r){const t=r.charCodeAt(0);return t>=n2&&t<=i2}function yo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Rt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Rt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=qi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Kt(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(t).compare(qi.extractNumericId(n)):Pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gs.fromString(t.substring(4,t.length-2))}}class pe extends qi{construct(t,n,s){return new pe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new pe(n)}static emptyPath(){return new pe([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends qi{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return r2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new Ze([gE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(pe.fromString(t))}static fromName(t){return new _t(pe.fromString(t).popFirst(5))}static empty(){return new _t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function M0(r,t,n,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function yE(r){if(!_t.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _E(r){if(_t.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function V0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function _n(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r,t){const n={typeString:r};return t&&(n.value=t),n}function hu(r,t){if(!V0(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=-62135596800,EE=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*EE);return new ge(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<vE)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hu(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Ge("string",ge._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new ge(0,0))}static max(){return new Ct(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function s2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new ge(n+1,0):new ge(n,s));return new vs(o,_t.empty(),t)}function a2(r){return new vs(r.readTime,r.key,tu)}class vs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new vs(Ct.min(),_t.empty(),tu)}static max(){return new vs(Ct.max(),_t.empty(),tu)}}function o2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:Kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==l2)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function c2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function zh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function h2(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="";function f2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=TE(t)),t=d2(r.get(n),t);return TE(t)}function d2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function TE(r){return r+x0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Rs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function P0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.comparator=t,this.root=n||un.EMPTY}insert(t,n){return new Re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $c(this.root,t,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $c(this.root,t,this.comparator,!0)}}class $c{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new un(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new un(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(t){return new AE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ye(this.comparator);return n.data=t,n}}class AE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new jn([])}unionWith(t){let n=new Ye(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return yo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new L0("Invalid base64 string: "+u):u}})(t);return new en(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(r){if(re(!!r,39018),typeof r=="string"){let t=0;const n=m2.exec(r);if(re(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ts(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="server_timestamp",U0="__type__",z0="__previous_value__",j0="__local_write_time__";function pp(r){return(r?.mapValue?.fields||{})[U0]?.stringValue===k0}function jh(r){const t=r.mapValue.fields[z0];return pp(t)?jh(t):t}function eu(r){const t=Es(r.mapValue.fields[j0].timestampValue);return new ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class _o{constructor(t,n){this.projectId=t,this.database=n||_h}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof _o&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__type__",g2="__max__",Jc={mapValue:{}},q0="__vector__",vh="value";function Ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:_2(r)?9007199254740991:y2(r)?10:11:Rt(28295,{value:r})}function Qi(r,t){if(r===t)return!0;const n=Ss(r);if(n!==Ss(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return eu(r).isEqual(eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Es(o.timestampValue),m=Es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ts(o.bytesValue).isEqual(Ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ve(o.doubleValue),m=Ve(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return yo(r.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(SE(f)!==SE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Qi(f[g],m[g])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function nu(r,t){return(r.values||[]).find((n=>Qi(n,t)))!==void 0}function vo(r,t){if(r===t)return 0;const n=Ss(r),s=Ss(t);if(n!==s)return Kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ve(u.integerValue||u.doubleValue),g=Ve(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return bE(r.timestampValue,t.timestampValue);case 4:return bE(eu(r),eu(t));case 5:return Pm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Ts(u),g=Ts(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Kt(m[y],g[y]);if(E!==0)return E}return Kt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Kt(Ve(u.latitude),Ve(f.latitude));return m!==0?m:Kt(Ve(u.longitude),Ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[vh]?.arrayValue,E=g[vh]?.arrayValue,S=Kt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:wE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Pm(g[S],E[S]);if(w!==0)return w;const U=vo(m[g[S]],y[E[S]]);if(U!==0)return U}return Kt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:n})}}function bE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Kt(r,t);const n=Es(r),s=Es(t),o=Kt(n.seconds,s.seconds);return o!==0?o:Kt(n.nanos,s.nanos)}function wE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Kt(n.length,s.length)}function Eo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _t.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function sh(r){switch(Ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jh(r);return t?16+sh(t):16;case 5:return 2*r.stringValue.length;case 6:return Ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Rs(s.fields,((u,f)=>{o+=u.length+sh(f)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function RE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function IE(r){return!!r&&"nullValue"in r}function CE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function y2(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===q0}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Rs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Fl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return t}return{...r}}function _2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fl(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Rs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Cn(Fl(this.value))}}function H0(r){const t=[];return Rs(r.fields,((n,s)=>{const o=new Ze([n]);if(ah(s)){const u=H0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new dn(t,0,Ct.min(),Ct.min(),Ct.min(),Cn.empty(),0)}static newFoundDocument(t,n,s,o){return new dn(t,1,n,Ct.min(),s,o,0)}static newNoDocument(t,n){return new dn(t,2,n,Ct.min(),Ct.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new dn(t,3,n,Ct.min(),Ct.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.position=t,this.inclusive=n}}function NE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Qi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n="asc"){this.field=t,this.dir=n}}function v2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0=class{};class Fe extends F0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new T2(t,n,s):n==="array-contains"?new b2(t,s):n==="in"?new w2(t,s):n==="not-in"?new R2(t,s):n==="array-contains-any"?new I2(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new S2(t,s):new A2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends F0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new vi(t,n)}matches(t){return G0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G0(r){return r.op==="and"}function K0(r){return E2(r)&&G0(r)}function E2(r){for(const t of r.filters)if(t instanceof vi)return!1;return!0}function Um(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(K0(r))return r.filters.map((t=>Um(t))).join(",");{const t=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${t})`}}function Q0(r,t){return r instanceof Fe?(function(s,o){return o instanceof Fe&&s.op===o.op&&s.field.isEqual(o.field)&&Qi(s.value,o.value)})(r,t):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Q0(f,o.filters[m])),!0):!1})(r,t):void Rt(19439)}function Y0(r){return r instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Y0).join(" ,")+"}"})(r):"Filter"}class T2 extends Fe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class S2 extends Fe{constructor(t,n){super(t,"in",n),this.keys=X0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class A2 extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=X0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function X0(r,t){return(t.arrayValue?.values||[]).map((n=>_t.fromName(n.referenceValue)))}class b2 extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gp(n)&&nu(n.arrayValue,this.value)}}class w2 extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class R2 extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class I2 extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function OE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new C2(r,t,n,s,o,u,f)}function yp(r){const t=Ot(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Eo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Eo(s))).join(",")),t.Te=n}return t.Te}function _p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!v2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Q0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!DE(r.startAt,t.startAt)&&DE(r.endAt,t.endAt)}function zm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N2(r,t,n,s,o,u,f,m){return new xo(r,t,n,s,o,u,f,m)}function Bh(r){return new xo(r)}function ME(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $0(r){return r.collectionGroup!==null}function Gl(r){const t=Ot(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ye(Ze.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new iu(u,s))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new iu(Ze.keyField(),s))}return t.Ie}function Gi(r){const t=Ot(r);return t.Ee||(t.Ee=D2(t,Gl(r))),t.Ee}function D2(r,t){if(r.limitType==="F")return OE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return OE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function jm(r,t){const n=r.filters.concat([t]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Th(r,t,n){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function qh(r,t){return _p(Gi(r),Gi(t))&&r.limitType===t.limitType}function J0(r){return`${yp(Gi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Y0(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Gi(r))}; limitType=${r.limitType})`}function Hh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=NE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,g){const y=NE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Gl(s),o))})(r,t)}function O2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W0(r){return(t,n)=>{let s=!1;for(const o of Gl(r)){const u=M2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function M2(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?vo(g,y):Rt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Rt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Rs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Re(_t.comparator);function wr(){return V2}const Z0=new Re(_t.comparator);function jl(...r){let t=Z0;for(const n of r)t=t.insert(n.key,n);return t}function tS(r){let t=Z0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ra(){return Kl()}function eS(){return Kl()}function Kl(){return new da((r=>r.toString()),((r,t)=>r.isEqual(t)))}const x2=new Re(_t.comparator),P2=new Ye(_t.comparator);function Qt(...r){let t=P2;for(const n of r)t=t.add(n);return t}const L2=new Ye(Kt);function k2(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function nS(r){return{integerValue:""+r}}function U2(r,t){return h2(t)?nS(t):vp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function z2(r,t,n){return r instanceof ru?(function(o,u){const f={fields:{[U0]:{stringValue:k0},[j0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=jh(u)),u&&(f.fields[z0]=u),{mapValue:f}})(n,t):r instanceof To?rS(r,t):r instanceof So?sS(r,t):(function(o,u){const f=iS(o,u),m=VE(f)+VE(o.Ae);return km(f)&&km(o.Ae)?nS(m):vp(o.serializer,m)})(r,t)}function j2(r,t,n){return r instanceof To?rS(r,t):r instanceof So?sS(r,t):n}function iS(r,t){return r instanceof Sh?(function(s){return km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ru extends Fh{}class To extends Fh{constructor(t){super(),this.elements=t}}function rS(r,t){const n=aS(t);for(const s of r.elements)n.some((o=>Qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class So extends Fh{constructor(t){super(),this.elements=t}}function sS(r,t){let n=aS(t);for(const s of r.elements)n=n.filter((o=>!Qi(o,s)));return{arrayValue:{values:n}}}class Sh extends Fh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function VE(r){return Ve(r.integerValue||r.doubleValue)}function aS(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,n){this.field=t,this.transform=n}}function B2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof To&&o instanceof To||s instanceof So&&o instanceof So?yo(s.elements,o.elements,Qi):s instanceof Sh&&o instanceof Sh?Qi(s.Ae,o.Ae):s instanceof ru&&o instanceof ru})(r.transform,t.transform)}class q2{constructor(t,n){this.version=t,this.transformResults=n}}class ni{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Gh{}function oS(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Tp(r.key,ni.none()):new fu(r.key,r.data,ni.none());{const n=r.data,s=Cn.empty();let o=new Ye(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Is(r.key,s,new jn(o.toArray()),ni.none())}}function H2(r,t,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),g=PE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Is?(function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=PE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(lS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ql(r,t,n,s){return r instanceof fu?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const y=u.value.clone(),E=LE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Is?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const y=LE(u.fieldTransforms,g,f),E=f.data;return E.setAll(lS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function F2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=iS(s.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,u))}return n||null}function xE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,f)=>B2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fu extends Gh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends Gh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function PE(r,t,n){const s=new Map;re(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,j2(f,m,n[o]))}return s}function LE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,z2(u,f,t))}return s}class Tp extends Gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends Gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&H2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=eS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=oS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&yo(this.mutations,t.mutations,((n,s)=>xE(n,s)))&&yo(this.baseMutations,t.baseMutations,((n,s)=>xE(n,s)))}}class Sp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){re(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return x2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Jt;function X2(r){switch(r){case W.OK:return Rt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function uS(r){if(r===void 0)return br("GRPC error has no .code"),W.UNKNOWN;switch(r){case He.OK:return W.OK;case He.CANCELLED:return W.CANCELLED;case He.UNKNOWN:return W.UNKNOWN;case He.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case He.INTERNAL:return W.INTERNAL;case He.UNAVAILABLE:return W.UNAVAILABLE;case He.UNAUTHENTICATED:return W.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case He.NOT_FOUND:return W.NOT_FOUND;case He.ALREADY_EXISTS:return W.ALREADY_EXISTS;case He.PERMISSION_DENIED:return W.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case He.ABORTED:return W.ABORTED;case He.OUT_OF_RANGE:return W.OUT_OF_RANGE;case He.UNIMPLEMENTED:return W.UNIMPLEMENTED;case He.DATA_LOSS:return W.DATA_LOSS;default:return Rt(39323,{code:r})}}(Jt=He||(He={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new gs([4294967295,4294967295],0);function kE(r){const t=$2().encode(r),n=new S0;return n.update(t),new Uint8Array(n.digest())}function UE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new gs([n,s],0),new gs([o,u],0)]}class Ap{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=gs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(gs.fromNumber(s)));return o.compare(J2)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=kE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=kE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kh(Ct.min(),o,new Re(Kt),wr(),Qt())}}class du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new du(s,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class cS{constructor(t,n){this.targetId=t,this.Ce=n}}class hS{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class zE{constructor(){this.ve=0,this.Fe=jE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),n=Qt(),s=Qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Rt(38017,{changeType:u})}})),new du(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=jE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W2{constructor(t){this.Ge=t,this.ze=new Map,this.je=wr(),this.Je=Wc(),this.He=Wc(),this.Ye=new Re(Kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new _t(u.path);this.et(n,f,dn.newNoDocument(f,Ct.min()))}else re(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ts(s).toUint8Array()}catch(g){if(g instanceof L0)return ca("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ap(f,o,u)}catch(g){return ca(g instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const g=new _t(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,dn.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Qt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Kh(t,n,this.Ye,this.je,s);return this.je=wr(),this.Je=Wc(),this.He=Wc(),this.Ye=new Re(Kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new zE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ye(Kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ye(Kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Wc(){return new Re(_t.comparator)}function jE(){return new Re(_t.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},tN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eN={and:"AND",or:"OR"};class nN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bm(r,t){return r.useProto3Json||zh(t)?t:{value:t}}function Ah(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iN(r,t){return Ah(r,t.toTimestamp())}function Ki(r){return re(!!r,49232),Ct.fromTimestamp((function(n){const s=Es(n);return new ge(s.seconds,s.nanos)})(r))}function bp(r,t){return qm(r,t).canonicalString()}function qm(r,t){const n=(function(o){return new pe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function dS(r){const t=pe.fromString(r);return re(_S(t),10190,{key:t.toString()}),t}function Hm(r,t){return bp(r.databaseId,t.path)}function ym(r,t){const n=dS(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(pS(n))}function mS(r,t){return bp(r.databaseId,t)}function rN(r){const t=dS(r);return t.length===4?pe.emptyPath():pS(t)}function Fm(r){return new pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pS(r){return re(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function BE(r,t,n){return{name:Hm(r,t),fields:n.value.mapValue.fields}}function sN(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(re(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(re(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:uS(y.code);return new ct(E,y.message||"")})(f);n=new hS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=Ki(s.document.updateTime),f=s.document.createTime?Ki(s.document.createTime):Ct.min(),m=new Cn({mapValue:{fields:s.document.fields}}),g=dn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?Ki(s.readTime):Ct.min(),f=dn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Y2(o,u),m=s.targetId;n=new cS(m,f)}}return n}function aN(r,t){let n;if(t instanceof fu)n={update:BE(r,t.key,t.value)};else if(t instanceof Tp)n={delete:Hm(r,t.key)};else if(t instanceof Is)n={update:BE(r,t.key,t.data),updateMask:pN(t.fieldMask)};else{if(!(t instanceof G2))return Rt(16599,{Vt:t.type});n={verify:Hm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof So)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Rt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:iN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Rt(27497)})(r,t.precondition)),n}function oN(r,t){return r&&r.length>0?(re(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ki(o.updateTime):Ki(u);return f.isEqual(Ct.min())&&(f=Ki(u)),new q2(f,o.transformResults||[])})(n,t)))):[]}function lN(r,t){return{documents:[mS(r,t.path)]}}function uN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mS(r,o);const u=(function(y){if(y.length!==0)return yS(vi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:ao(w.field),direction:fN(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function cN(r){let t=rN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){re(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=gS(S);return w instanceof vi&&K0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(X){return new iu(oo(X.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,zh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,U=S.values||[];return new Eh(U,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,U=S.values||[];return new Eh(U,w)})(n.endAt)),N2(t,o,f,u,m,"F",g,y)}function hN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return Fe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Fe.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>gS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(r):Rt(30097,{filter:r})}function fN(r){return Z2[r]}function dN(r){return tN[r]}function mN(r){return eN[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Ze.fromServerFormat(r.fieldPath)}function yS(r){return r instanceof Fe?(function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(IE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(IE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:dN(n.op),value:n.value}}})(r):r instanceof vi?(function(n){const s=n.getFilters().map((o=>yS(o)));return s.length===1?s[0]:{compositeFilter:{op:mN(n.op),filters:s}}})(r):Rt(54877,{filter:r})}function pN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function _S(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n,s,o,u=Ct.min(),f=Ct.min(),m=en.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.yt=t}}function yN(r){const t=cN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Th(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Cn=new vN}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(vs.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(vs.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class vN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ye(pe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ye(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(vS,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LruGarbageCollector",EN=1048576;function FE([r,t],[n,s]){const o=Kt(r,n);return o===0?Kt(t,s):o}class TN{constructor(t){this.Ir=t,this.buffer=new Ye(FE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();FE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(HE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ft(HE,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Vr(3e5)}))}}class AN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Uh.ce);const s=new TN(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(qE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),ro()<=Gt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function bN(r,t){return new AN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new da((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ql(s.mutation,o,jn.empty(),ge.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Qt()){const o=ra();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=jl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ra();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Qt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=wr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Is)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),ge.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new RN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Kl();let o=new Re(((f,m)=>f-m)),u=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||jn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Qt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=eS();E.forEach((w=>{if(!u.has(w)){const U=oS(n.get(w),s.get(w));U!==null&&S.set(w,U),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(ra());let m=tu,g=u;return f.next((y=>et.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Qt()))).next((E=>({batchId:m,changes:tS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(g=>{const y=(function(S,w){return new xo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,dn.newInvalidDocument(E)))}));let m=jl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ql(E.mutation,y,jn.empty(),ge.now()),Hh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yN(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.overlays=new Re(_t.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ra();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=ra(),u=n.length+1,f=new _t(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Re(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ra(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ra(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Q2(n,s));let u=this.qr.get(n);u===void 0&&(u=Qt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Qr=new Ye(We.$r),this.Ur=new Ye(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new We(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new We(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new _t(new pe([])),s=new We(n,t),o=new We(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new pe([])),s=new We(n,t),o=new We(n,t+1);let u=Qt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new We(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class We{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||Kt(t.Yr,n.Yr)}static Kr(t,n){return Kt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(We.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new K2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new We(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?mp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ye(Kt);return n.forEach((o=>{const u=new We(o,0),f=new We(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new We(new _t(u),0);let m=new Ye(Kt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new We(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new We(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.ri=t,this.docs=(function(){return new Re(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(t,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=wr();const f=n.path,m=new _t(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||o2(a2(E),s)<=0||(o.has(E.key)||Hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Rt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new VN(this)}getSize(t){return et.resolve(this.size)}}class VN extends wN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.persistence=t,this.si=new da((n=>yp(n)),_p),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new DN,this.referenceDelegate=t(this),this.Pi=new xN(this),this.indexManager=new _N,this.remoteDocumentCache=(function(o){return new MN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gN(n),this.Ii=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new NN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new ON(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const o=new PN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class PN extends u2{constructor(t){super(),this.currentSequenceNumber=t}}class Rp{constructor(t){this.persistence=t,this.Ri=new wp,this.Vi=null}static mi(t){return new Rp(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=_t.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bh{constructor(t,n){this.persistence=t,this.pi=new da((s=>f2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=bN(this,n)}static mi(t,n){return new bh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Ct.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Qt(),o=Qt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pw()?8:c2(mn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new LN;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(ro()<=Gt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(ro()<=Gt.DEBUG&&ft("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Gt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(n))):et.resolve())}ys(t,n){if(ME(n))return et.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Th(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Qt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Th(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return ME(n)||o.isEqual(Ct.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(ro()<=Gt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(t,f,n,s2(o,tu)).next((m=>m)))}))}Ds(t,n){let s=new Ye(W0(t));return n.forEach(((o,u)=>{Hh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ro()<=Gt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(t,n,vs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",UN=3e8;class zN{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Re(Kt),this.xs=new da((u=>yp(u)),_p),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function jN(r,t,n,s){return new zN(r,t,n,s)}async function TS(r,t){const n=Ot(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Qt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function BN(r,t){const n=Ot(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let U=et.resolve();return w.forEach((X=>{U=U.next((()=>E.getEntry(g,X))).next((Z=>{const G=y.docVersions.get(X);re(G!==null,48541),Z.version.compareTo(G)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Qt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function SS(r){const t=Ot(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function qN(r,t){const n=Ot(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let U=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?U=U.withResumeToken(en.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),(function(Z,G,at){return Z.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=UN?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(w,U,E)&&m.push(n.Pi.updateTargetData(u,U))}));let g=wr(),y=Qt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(HN(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Ct.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function HN(r,t,n){let s=Qt(),o=Qt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=wr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ct.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ft(Cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function FN(r,t){const n=Ot(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function GN(r,t){const n=Ot(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new fs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Gm(r,t,n){const s=Ot(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Vo(f))throw f;ft(Cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function GE(r,t,n){const s=Ot(r);let o=Ct.min(),u=Qt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ot(g),w=S.xs.get(E);return w!==void 0?et.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,E)})(s,f,Gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Ct.min(),n?u:Qt()))).next((m=>(KN(s,O2(t),m),{documents:m,Qs:u})))))}function KN(r,t,n){let s=r.Os.get(t)||Ct.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class KE{constructor(){this.activeTargetIds=k2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QN{constructor(){this.Mo=new KE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new KE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class YE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(QE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(QE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function Km(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",XN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $N{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Km(),m=this.zo(t,n.toUriEncodedString());ft(_m,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=Co(y);return this.Jo(t,m,g,s,E).then((S=>(ft(_m,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw ca(_m,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=XN[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class WN extends $N{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Km();return new Promise(((m,g)=>{const y=new A0;y.setWithCredentials(!0),y.listenOnce(b0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const S=y.getResponseJson();ft(hn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case rh.TIMEOUT:ft(hn,`RPC '${t}' ${f} timed out`),g(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const w=y.getStatus();if(ft(hn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const X=U?.error;if(X&&X.status&&X.message){const Z=(function(at){const pt=at.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(pt)>=0?pt:W.UNKNOWN})(X.status);g(new ct(Z,X.message))}else g(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(W.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ft(hn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ft(hn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=I0(),m=R0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ft(hn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let w=!1,U=!1;const X=new JN({Yo:G=>{U?ft(hn,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(w||(ft(hn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ft(hn,`RPC '${t}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),Z=(G,at,pt)=>{G.listen(at,(ht=>{try{pt(ht)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return Z(S,zl.EventType.OPEN,(()=>{U||(ft(hn,`RPC '${t}' stream ${o} transport opened.`),X.o_())})),Z(S,zl.EventType.CLOSE,(()=>{U||(U=!0,ft(hn,`RPC '${t}' stream ${o} transport closed`),X.a_(),this.E_(S))})),Z(S,zl.EventType.ERROR,(G=>{U||(U=!0,ca(hn,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),X.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),Z(S,zl.EventType.MESSAGE,(G=>{if(!U){const at=G.data[0];re(!!at,16349);const pt=at,ht=pt?.error||pt[0]?.error;if(ht){ft(hn,`RPC '${t}' stream ${o} received error:`,ht);const xt=ht.status;let Lt=(function(b){const C=He[b];if(C!==void 0)return uS(C)})(xt),dt=ht.message;Lt===void 0&&(Lt=W.INTERNAL,dt="Unknown error status: "+xt+" with message "+ht.message),U=!0,X.a_(new ct(Lt,dt)),S.close()}else ft(hn,`RPC '${t}' stream ${o} received:`,at),X.u_(at)}})),Z(m,w0.STAT_EVENT,(G=>{G.stat===xm.PROXY?ft(hn,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===xm.NOPROXY&&ft(hn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new nN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class bS{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(XE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZN extends bS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=sN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ct.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ct.min():f.readTime?Ki(f.readTime):Ct.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=zm(g)?{documents:lN(u,g)}:{query:uN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fS(u,f.resumeToken);const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=hN(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Fm(this.serializer),n.removeTarget=t,this.q_(n)}}class tD extends bS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=oN(t.writeResults,t.commitTime),s=Ki(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Fm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>aN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{}class nD extends eD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class rD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(ft(ha,"Restarting streams for network reachability change."),await(async function(g){const y=Ot(g);y.Ea.add(4),await mu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new iD(s,o)}}async function Yh(r){if(ma(r))for(const t of r.da)await t(!0)}async function mu(r){for(const t of r.da)await t(!1)}function wS(r,t){const n=Ot(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mp(n)?Op(n):Po(n).O_()&&Dp(n,t))}function Np(r,t){const n=Ot(r),s=Po(n);n.Ia.delete(t),s.O_()&&RS(n,t),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function Dp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Po(r).Y_(t)}function RS(r,t){r.Va.Ue(t),Po(r).Z_(t)}function Op(r){r.Va=new W2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Ra.ua()}function Mp(r){return ma(r)&&!Po(r).x_()&&r.Ia.size>0}function ma(r){return Ot(r).Ea.size===0}function IS(r){r.Va=void 0}async function sD(r){r.Ra.set("Online")}async function aD(r){r.Ia.forEach(((t,n)=>{Dp(r,t)}))}async function oD(r,t){IS(r),Mp(r)?(r.Ra.ha(t),Op(r)):r.Ra.set("Unknown")}async function lD(r,t,n){if(r.Ra.set("Online"),t instanceof hS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ft(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wh(r,s)}else if(t instanceof lh?r.Va.Ze(t):t instanceof cS?r.Va.st(t):r.Va.tt(t),!n.isEqual(Ct.min()))try{const s=await SS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),RS(u,g);const S=new fs(E.target,g,y,E.sequenceNumber);Dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ft(ha,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,t,n){if(!Vo(t))throw t;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>SS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(ha,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function CS(r,t){return t().catch((n=>wh(r,n,t)))}async function Xh(r){const t=Ot(r),n=As(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mp;for(;uD(t);)try{const o=await FN(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,cD(t,o)}catch(o){await wh(t,o)}NS(t)&&DS(t)}function uD(r){return ma(r)&&r.Ta.length<10}function cD(r,t){r.Ta.push(t);const n=As(r);n.O_()&&n.X_&&n.ea(t.mutations)}function NS(r){return ma(r)&&!As(r).x_()&&r.Ta.length>0}function DS(r){As(r).start()}async function hD(r){As(r).ra()}async function fD(r){const t=As(r);for(const n of r.Ta)t.ea(n.mutations)}async function dD(r,t,n){const s=r.Ta.shift(),o=Sp.from(s,t,n);await CS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Xh(r)}async function mD(r,t){t&&As(r).X_&&await(async function(s,o){if((function(f){return X2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();As(s).B_(),await CS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(s)}})(r,t),NS(r)&&DS(r)}async function $E(r,t){const n=Ot(r);n.asyncQueue.verifyOperationInProgress(),ft(ha,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Yh(n)}async function pD(r,t){const n=Ot(r);t?(n.Ea.delete(2),await Yh(n)):t||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function Po(r){return r.ma||(r.ma=(function(n,s,o){const u=Ot(n);return u.sa(),new ZN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:sD.bind(null,r),t_:aD.bind(null,r),r_:oD.bind(null,r),H_:lD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Mp(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),IS(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(n,s,o){const u=Ot(n);return u.sa(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hD.bind(null,r),r_:mD.bind(null,r),ta:fD.bind(null,r),na:dD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(r,t){if(br("AsyncQueue",`${t}: ${r}`),Vo(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.ga=new Re(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class bo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new bo(t,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yD{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ot(n),u=o.queries;o.queries=WE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function WE(){return new da((r=>J0(r)),qh)}async function Pp(r,t){const n=Ot(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new gD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${so(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kp(n)}async function Lp(r,t){const n=Ot(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _D(r,t){const n=Ot(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function vD(r,t,n){const s=Ot(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kp(r){r.Ca.forEach((t=>{t.next()}))}var Qm,ZE;(ZE=Qm||(Qm={})).Ma="default",ZE.Cache="cache";class Up{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.key=t}}class MS{constructor(t){this.key=t}}class ED{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=W0(t),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new JE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),U=Hh(this.query,S)?S:null,X=!!w&&this.mutatedKeys.has(w.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let G=!1;w&&U?w.data.isEqual(U.data)?X!==Z&&(s.track({type:3,doc:U}),G=!0):this.su(w,U)||(s.track({type:2,doc:U}),G=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!w&&U?(s.track({type:0,doc:U}),G=!0):w&&!U&&(s.track({type:1,doc:w}),G=!0,(g||y)&&(m=!0)),G&&(U?(f=f.add(U),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(U,X){const Z=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:G})}};return Z(U)-Z(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new bo(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new MS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new OS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class TD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class SD{constructor(t){this.key=t,this.hu=!1}}class AD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>J0(m)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new Re(_t.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bD(r,t,n=!0){const s=US(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VS(s,t,n,!0),o}async function wD(r,t){const n=US(r);await VS(n,t,!0,!1)}async function VS(r,t,n,s){const o=await GN(r.localStore,Gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await RD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wS(r.remoteStore,o),m}async function RD(r,t,n,s,o){r.pu=(S,w,U)=>(async function(Z,G,at,pt){let ht=G.view.ru(at);ht.Cs&&(ht=await GE(Z.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,ht))));const xt=pt&&pt.targetChanges.get(G.targetId),Lt=pt&&pt.targetMismatches.get(G.targetId)!=null,dt=G.view.applyChanges(ht,Z.isPrimaryClient,xt,Lt);return eT(Z,G.targetId,dt.au),dt.snapshot})(r,S,w,U);const u=await GE(r.localStore,t,!0),f=new ED(t,u.Qs),m=f.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);eT(r,n,y.au);const E=new TD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function ID(r,t,n){const s=Ot(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!qh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(Mo)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function CD(r,t){const n=Ot(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function ND(r,t,n){const s=LD(r);try{const o=await(function(f,m){const g=Ot(f),y=ge.now(),E=m.reduce(((U,X)=>U.add(X.key)),Qt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let X=wr(),Z=Qt();return g.Ns.getEntries(U,E).next((G=>{X=G,X.forEach(((at,pt)=>{pt.isValidDocument()||(Z=Z.add(at))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,X))).next((G=>{S=G;const at=[];for(const pt of m){const ht=F2(pt,S.get(pt.key).overlayedDocument);ht!=null&&at.push(new Is(pt.key,ht,H0(ht.value.mapValue),ni.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,at,m)})).next((G=>{w=G;const at=G.applyToLocalDocumentSet(S,Z);return g.documentOverlayCache.saveOverlays(U,G.batchId,at)}))})).then((()=>({batchId:w.batchId,changes:tS(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new Re(Kt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function xS(r,t){const n=Ot(r);try{const s=await qN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?re(f.hu,14607):o.removedDocuments.size>0&&(re(f.hu,42227),f.hu=!1))})),await pu(n,s,t)}catch(s){await Mo(s)}}function tT(r,t,n){const s=Ot(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ot(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(y=!0)})),y&&kp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function DD(r,t,n){const s=Ot(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Re(_t.comparator);f=f.insert(u,dn.newNoDocument(u,Ct.min()));const m=Qt().add(u),g=new Kh(Ct.min(),new Map,new Re(Kt),f,m);await xS(s,g),s.du=s.du.remove(u),s.Au.delete(t),jp(s)}else await Gm(s.localStore,t,!1).then((()=>Ym(s,t,n))).catch(Mo)}async function OD(r,t){const n=Ot(r),s=t.batch.batchId;try{const o=await BN(n.localStore,t);LS(n,s,null),PS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Mo(o)}}async function MD(r,t,n){const s=Ot(r);try{const o=await(function(f,m){const g=Ot(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(re(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);LS(s,t,n),PS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await pu(s,o)}catch(o){await Mo(o)}}function PS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function LS(r,t,n){const s=Ot(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||kS(r,s)}))}function kS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Np(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),jp(r))}function eT(r,t,n){for(const s of n)s instanceof OS?(r.Ru.addReference(s.key,t),VD(r,s)):s instanceof MS?(ft(zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||kS(r,s.key)):Rt(19791,{wu:s})}function VD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ft(zp,"New document in limbo: "+n),r.Eu.add(s),jp(r))}function jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new _t(pe.fromString(t)),s=r.fu.next();r.Au.set(s,new SD(n)),r.du=r.du.insert(n,s),wS(r.remoteStore,new fs(Gi(Bh(n.path)),s,"TargetPurposeLimboResolution",Uh.ce))}}async function pu(r,t,n){const s=Ot(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ip.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Ot(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>et.forEach(y,(w=>et.forEach(w.Es,(U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U))).next((()=>et.forEach(w.ds,(U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))))))}catch(S){if(!Vo(S))throw S;ft(Cp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const U=E.Ms.get(w),X=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(w,Z)}}})(s.localStore,u))}async function xD(r,t){const n=Ot(r);if(!n.currentUser.isEqual(t)){ft(zp,"User change. New user:",t.toKey());const s=await TS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ct(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function PD(r,t){const n=Ot(r),s=n.Au.get(t);if(s&&s.hu)return Qt().add(s.key);{let o=Qt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function US(r){const t=Ot(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DD.bind(null,t),t.Pu.H_=_D.bind(null,t.eventManager),t.Pu.yu=vD.bind(null,t.eventManager),t}function LD(r){const t=Ot(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jN(this.persistence,new kN,t.initialUser,this.serializer)}Cu(t){return new ES(Rp.mi,this.serializer)}Du(t){return new QN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class kD extends Rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){re(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new ES((s=>bh.mi(s,n)),this.serializer)}}class Xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yD})()}createDatastore(t){const n=Qh(t.databaseInfo.databaseId),s=(function(u){return new WN(u)})(t.databaseInfo);return(function(u,f,m,g){return new nD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new rD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>tT(this.syncEngine,n,0)),(function(){return YE.v()?new YE:new YN})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new AD(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ot(n);ft(ha,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class UD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ft(bs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ft(bs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Em(r,t){r.asyncQueue.verifyOperationInProgress(),ft(bs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await TS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function nT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zD(r);ft(bs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>$E(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>$E(t.remoteStore,o))),r._onlineComponents=t}async function zD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(bs,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Rh)}}else ft(bs,"Using default OfflineComponentProvider"),await Em(r,new kD(void 0));return r._offlineComponents}async function zS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(bs,"Using user provided OnlineComponentProvider"),await nT(r,r._uninitializedComponentsProvider._online)):(ft(bs,"Using default OnlineComponentProvider"),await nT(r,new Xm))),r._onlineComponents}function jD(r){return zS(r).then((t=>t.syncEngine))}async function Ih(r){const t=await zS(r),n=t.eventManager;return n.onListen=bD.bind(null,t.syncEngine),n.onUnlisten=ID.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CD.bind(null,t.syncEngine),n}function BD(r,t,n={}){const s=new _r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new Bp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Lp(u,S)));const U=w.docs.has(m);!U&&w.fromCache?y.reject(new ct(W.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&w.fromCache&&g&&g.source==="server"?y.reject(new ct(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Up(Bh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Pp(u,S)})(await Ih(r),r.asyncQueue,t,n,s))),s.promise}function qD(r,t,n={}){const s=new _r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new Bp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Lp(u,S))),w.fromCache&&g.source==="server"?y.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Up(m,E,{includeMetadataChanges:!0,qa:!0});return Pp(u,S)})(await Ih(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firestore.googleapis.com",rT=!0;class sT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BS,this.ssl=rT}else this.host=t.host,this.ssl=t.ssl??rT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<EN)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $h{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new D0;switch(s.type){case"firstParty":return new ZC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=iT.get(n);s&&(ft("ComponentProvider","Removing Datastore"),iT.delete(n),s.terminate())})(this),Promise.resolve()}}function qS(r,t,n,s={}){r=_n(r,$h);const o=Co(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(xT(`https://${m}`),PT("Firestore",!0)),u.host!==BS&&u.host!==m&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Tr(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=fn.MOCK_USER;else{y=aw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(S)}r._authCredentials=new $C(new N0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xi(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(hu(n,we._jsonSchema))return new we(t,s||null,new _t(pe.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ge("string",we._jsonSchemaVersion),referencePath:Ge("string")};class vr extends Xi{constructor(t,n,s){super(t,n,Bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new _t(t))}withConverter(t){return new vr(this.firestore,t,this._path)}}function Er(r,t,...n){if(r=tn(r),O0("collection","path",t),r instanceof $h){const s=pe.fromString(t,...n);return _E(s),new vr(r,null,s)}{if(!(r instanceof we||r instanceof vr))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pe.fromString(t,...n));return _E(s),new vr(r.firestore,null,s)}}function cs(r,t,...n){if(r=tn(r),arguments.length===1&&(t=Lh.newId()),O0("doc","path",t),r instanceof $h){const s=pe.fromString(t,...n);return yE(s),new we(r,null,new _t(s))}{if(!(r instanceof we||r instanceof vr))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pe.fromString(t,...n));return yE(s),new we(r.firestore,r instanceof vr?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class oT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&ft(aT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vo(t))throw t;ft(aT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",lT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Vp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:lT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function lT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Yi extends $h{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new oT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oT(t),this._firestoreClient=void 0,await t}}}function HS(r,t){const n=typeof r=="object"?r:zT(),s=typeof r=="string"?r:_h,o=rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rw("firestore");u&&qS(o,...u)}return o}function gu(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HD(r),r._firestoreClient}function HD(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new p2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,jS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(en.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hu(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ge("string",zn._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(t){if(hu(t,gi._jsonSchema))return new gi(t.latitude,t.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Ge("string",gi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hu(t,yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new yi(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Ge("string",yi._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^__.*__$/;class GD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Is(t,this.data,this.fieldMask,n,this.fieldTransforms):new fu(t,this.data,n,this.fieldTransforms)}}class FS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Is(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class Jh{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(GS(this.Ac)&&FD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class KD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(t)}Cc(t,n,s,o=!1){return new Jh({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(r){const t=r._freezeSettings(),n=Qh(r._databaseId);return new KD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function KS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Gp("Data must be an object, but it was:",f,s);const m=YS(s,f);let g,y;if(u.merge)g=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=$m(t,S,n);if(!f.contains(w))throw new ct(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$S(E,w)||E.push(w)}g=new jn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new GD(new Cn(m),g,y)}class Zh extends pa{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zh}}function QS(r,t,n){return new Jh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class qp extends pa{_toFieldTransform(t){return new Ep(t.path,new ru)}isEqual(t){return t instanceof qp}}class Hp extends pa{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=QS(this,t,!0),s=this.vc.map((u=>ga(u,n))),o=new To(s);return new Ep(t.path,o)}isEqual(t){return t instanceof Hp&&Tr(this.vc,t.vc)}}class Fp extends pa{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=QS(this,t,!0),s=this.vc.map((u=>ga(u,n))),o=new So(s);return new Ep(t.path,o)}isEqual(t){return t instanceof Fp&&Tr(this.vc,t.vc)}}function QD(r,t,n,s){const o=r.Cc(1,t,n);Gp("Data must be an object, but it was:",o,s);const u=[],f=Cn.empty();Rs(s,((g,y)=>{const E=Kp(t,g,n);y=tn(y);const S=o.yc(E);if(y instanceof Zh)u.push(E);else{const w=ga(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new jn(u);return new FS(f,m,o.fieldTransforms)}function YD(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[$m(t,s,n)],g=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push($m(t,u[w])),g.push(u[w+1]);const y=[],E=Cn.empty();for(let w=m.length-1;w>=0;--w)if(!$S(y,m[w])){const U=m[w];let X=g[w];X=tn(X);const Z=f.yc(U);if(X instanceof Zh)y.push(U);else{const G=ga(X,Z);G!=null&&(y.push(U),E.set(U,G))}}const S=new jn(y);return new FS(E,S,f.fieldTransforms)}function XD(r,t,n,s=!1){return ga(n,r.Cc(s?4:3,t))}function ga(r,t){if(XS(r=tn(r)))return Gp("Unsupported field value:",t,r),YS(r,t);if(r instanceof pa)return(function(s,o){if(!GS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=ga(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return U2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ge.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof ge){const u=new ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:fS(o.serializer,s._byteString)};if(s instanceof we){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yi)return(function(f,m){return{mapValue:{fields:{[B0]:{stringValue:q0},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return vp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${kh(s)}`)})(r,t)}function YS(r,t){const n={};return P0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(r,((s,o)=>{const u=ga(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function XS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof gi||r instanceof zn||r instanceof we||r instanceof pa||r instanceof yi)}function Gp(r,t,n){if(!XS(n)||!V0(n)){const s=kh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function $m(r,t,n){if((t=tn(t))instanceof yu)return t._internalPath;if(typeof t=="string")return Kp(r,t);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const $D=new RegExp("[~\\*/\\[\\]]");function Kp(r,t,n){if(t.search($D)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new yu(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(W.INVALID_ARGUMENT,m+r+g)}function $S(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JD extends JS{data(){return super.data()}}function tf(r,t){return typeof t=="string"?Kp(r,t):t instanceof yu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class ef extends Qp{}function Yp(r,t,...n){let s=[];t instanceof Qp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof nf)).length,m=u.filter((g=>g instanceof _u)).length;if(f>1||f>0&&m>0)throw new ct(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class _u extends ef{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new _u(t,n,s)}_apply(t){const n=this._parse(t);return nA(t._query,n),new Xi(t.firestore,t.converter,jm(t._query,n))}_parse(t){const n=Wh(t.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){hT(S,E);const X=[];for(const Z of S)X.push(cT(g,u,Z));w={arrayValue:{values:X}}}else w=cT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||hT(S,E),w=XD(m,f,S,E==="in"||E==="not-in");return Fe.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ZS(r,t,n){const s=t,o=tf("where",r);return _u._create(o,s,n)}class nf extends Qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new nf(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)nA(f,g),f=jm(f,g)})(t._query,n),new Xi(t.firestore,t.converter,jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rf extends ef{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new rf(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ct(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(t._query,this._field,this._direction);return new Xi(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function tA(r,t="asc"){const n=t,s=tf("orderBy",r);return rf._create(s,n)}class sf extends ef{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new sf(t,n,s)}_apply(t){return new Xi(t.firestore,t.converter,Th(t._query,this._limit,this._limitType))}}function eA(r){return sf._create("limit",r,"F")}function cT(r,t,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new ct(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$0(t)&&n.indexOf("/")!==-1)throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(pe.fromString(n));if(!_t.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return RE(r,new _t(s))}if(n instanceof we)return RE(r,n._key);throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function hT(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nA(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iA{convertValue(t,n="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Rs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[vh].arrayValue?.values?.map((s=>Ve(s.doubleValue)));return new yi(n)}convertGeoPoint(t){return new gi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(t));default:return null}}convertTimestamp(t){const n=Es(t);return new ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=pe.fromString(t);re(_S(s),9688,{name:t});const o=new _o(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class uo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ys extends JS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Ge("string",ys._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Yl extends ys{data(t={}){return super.data(t)}}class _s{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new uo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Yl(this._firestore,this._userDataWriter,s.key,s,new uo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Yl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Yl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:WD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_s._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r){r=_n(r,we);const t=_n(r.firestore,Yi);return BD(gu(t),r._key).then((n=>lA(t,r,n)))}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:Ge("string",_s._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Xp extends iA{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function wo(r){r=_n(r,Xi);const t=_n(r.firestore,Yi),n=gu(t),s=new Xp(t);return WS(r._query),qD(n,r._query).then((o=>new _s(t,s,r,o)))}function sA(r,t,n){r=_n(r,we);const s=_n(r.firestore,Yi),o=rA(r.converter,t);return vu(s,[KS(Wh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ni.none())])}function Wm(r,t,n,...s){r=_n(r,we);const o=_n(r.firestore,Yi),u=Wh(o);let f;return f=typeof(t=tn(t))=="string"||t instanceof yu?YD(u,"updateDoc",r._key,t,n,s):QD(u,"updateDoc",r._key,t),vu(o,[f.toMutation(r._key,ni.exists(!0))])}function aA(r){return vu(_n(r.firestore,Yi),[new Tp(r._key,ni.none())])}function oA(r,t){const n=_n(r.firestore,Yi),s=cs(r),o=rA(r.converter,t);return vu(n,[KS(Wh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then((()=>s))}function $p(r,...t){r=tn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||uT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uT(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof we)f=_n(r.firestore,Yi),m=Bh(r._key.path),u={next:g=>{t[s]&&t[s](lA(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=_n(r,Xi);f=_n(g.firestore,Yi),m=g._query;const y=new Xp(f);u={next:E=>{t[s]&&t[s](new _s(f,y,g,E))},error:t[s+1],complete:t[s+2]},WS(r._query)}return(function(y,E,S,w){const U=new Bp(w),X=new Up(E,U,S);return y.asyncQueue.enqueueAndForget((async()=>Pp(await Ih(y),X))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>Lp(await Ih(y),X)))}})(gu(f),m,o,u)}function vu(r,t){return(function(s,o){const u=new _r;return s.asyncQueue.enqueueAndForget((async()=>ND(await jD(s),o,u))),u.promise})(gu(r),t)}function lA(r,t,n){const s=n.docs.get(t._key),o=new Xp(r);return new ys(r,o,t._key,s,new uo(n.hasPendingWrites,n.fromCache),t.converter)}function Jp(){return new qp("serverTimestamp")}function uA(...r){return new Hp("arrayUnion",r)}function cA(...r){return new Fp("arrayRemove",r)}(function(t,n=!0){(function(o){Oo=o})(No),po(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Yi(new JC(s.getProvider("auth-internal")),new t2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ps(dE,mE,t),ps(dE,mE,"esm2020")})();const ZD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:iA,Bytes:zn,CollectionReference:vr,DocumentReference:we,DocumentSnapshot:ys,FieldPath:yu,FieldValue:pa,Firestore:Yi,FirestoreError:ct,GeoPoint:gi,Query:Xi,QueryCompositeFilterConstraint:nf,QueryConstraint:ef,QueryDocumentSnapshot:Yl,QueryFieldFilterConstraint:_u,QueryLimitConstraint:sf,QueryOrderByConstraint:rf,QuerySnapshot:_s,SnapshotMetadata:uo,Timestamp:ge,VectorValue:yi,_AutoId:Lh,_ByteString:en,_DatabaseId:_o,_DocumentKey:_t,_EmptyAuthCredentialsProvider:D0,_FieldPath:Ze,_cast:_n,_logWarn:ca,_validateIsNotUsedTogether:M0,addDoc:oA,arrayRemove:cA,arrayUnion:uA,collection:Er,connectFirestoreEmulator:qS,deleteDoc:aA,doc:cs,ensureFirestoreConfigured:gu,executeWrite:vu,getDoc:Jm,getDocs:wo,getFirestore:HS,limit:eA,onSnapshot:$p,orderBy:tA,query:Yp,serverTimestamp:Jp,setDoc:sA,updateDoc:Wm,where:ZS},Symbol.toStringTag,{value:"Module"})),tO={apiKey:"AIzaSyCX1TDi4tAkdsCs_KjZRhFKoDl9XCKPz2k",authDomain:"sport-13624.firebaseapp.com",projectId:"sport-13624",storageBucket:"sport-13624.firebasestorage.app",messagingSenderId:"351245073345",appId:"1:351245073345:web:9a1961d00092ae3bd94d40",measurementId:"G-EW7Q2JZJ85"},hA=UT(tO),Xl=YC(hA),yn=HS(hA),Tm=8;function eO({onLogin:r}){const t=bT(),[n,s]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(""),g=async y=>{if(y.preventDefault(),m(""),!n||!o){m("Udfyld begge felter.");return}if(o.length<Tm){m(`Adgangskode skal mindst vre ${Tm} tegn.`);return}try{let E=n.trim();if(!E.includes("@")){const U=Yp(Er(yn,"profil"),ZS("username","==",E)),X=await wo(U);if(X.empty){m("Ingen konto fundet med det brugernavn.");return}const Z=X.docs[0].data();if(!Z?.email){m("Brugerpost mangler e-mail.");return}E=Z.email}const w=(await VI(Xl,E,o)).user;r?.(w,null),t("/map")}catch(E){console.error(E);const S=String(E?.code||E?.message||"Log ind mislykkedes").replaceAll("-"," ").replaceAll("auth/","");m(S)}};return V.jsxs("form",{onSubmit:g,className:"form-container",children:[V.jsxs("aside",{className:"field",children:[V.jsx("label",{htmlFor:"identifier",children:"Brugernavn eller Email"}),V.jsx("input",{id:"identifier",type:"text",value:n,onChange:y=>s(y.target.value),placeholder:"Brugernavn eller Email"})]}),V.jsxs("aside",{className:"field",children:[V.jsx("label",{htmlFor:"password",children:"Kodeord"}),V.jsx("input",{id:"password",type:"password",minLength:Tm,value:o,onChange:y=>u(y.target.value)})]}),f&&V.jsx("p",{className:"error",children:f}),V.jsx("button",{type:"submit",className:"btn",children:"Log ind"})]})}function fA({onSuccess:r}){const[s,o]=K.useState(""),[u,f]=K.useState(""),[m,g]=K.useState(""),[y,E]=K.useState(""),[S,w]=K.useState(""),U=async X=>{if(X.preventDefault(),E(""),w(""),!s||!u||!m){E("Udfyld venligst alle felter.");return}if(s.length>25){E("Brugernavn skal vre 25 tegn eller mindre.");return}if(m.length<8){E("Adgangskoden skal vre mindst 8 karakterer.");return}try{const G=(await MI(Xl,u,m)).user;await PI(G,{displayName:s}),await sA(cs(yn,"profil",G.uid),{uid:G.uid,username:s,email:u,createdAt:Jp(),password:m}),w("Konto oprettet"),setTimeout(()=>{typeof r=="function"&&r()},1200),g("")}catch(Z){console.error(Z);const G=Z?.code||Z?.message||"Tilmelding mislykkedes",at=String(G).replaceAll("-"," ").replaceAll("auth/","");E(at)}};return V.jsx("section",{className:"login-container",children:V.jsxs("form",{onSubmit:U,className:"form-container",children:[V.jsx("section",{className:"field",children:V.jsxs("label",{children:["Brugernavn",V.jsx("input",{name:"brugernavn",maxLength:25,value:s,onChange:X=>o(X.target.value)})]})}),V.jsx("section",{className:"field",children:V.jsxs("label",{children:["E-mail",V.jsx("input",{name:"email",type:"email",value:u,onChange:X=>f(X.target.value)})]})}),V.jsx("section",{className:"field",children:V.jsxs("label",{children:["Adgangskode",V.jsx("input",{name:"adgangskode",type:"password",minLength:8,value:m,onChange:X=>g(X.target.value)})]})}),y&&V.jsx("p",{className:"error",children:y}),S&&V.jsx("p",{className:"succes",role:"status",children:S}),V.jsx("button",{type:"submit",className:"btn",children:"Opret konto"})]})})}function nO({onComplete:r,isTransitioning:t}){const[n,s]=K.useState(!0);K.useEffect(()=>{const u=setTimeout(()=>{s(!1),setTimeout(()=>{r?.()},400)},1500);return()=>clearTimeout(u)},[r]);const o=()=>{s(!1),setTimeout(()=>{r?.()},400)};return V.jsx("div",{className:`intro-screen ${n&&!t?"visible":"fade-out"}`,onClick:o,children:V.jsx("div",{className:"intro-content",children:V.jsx("img",{src:"/img/SpotOnLogo.png",alt:"SpotOn Logo",className:"intro-logo-img"})})})}function iO(){const r=ep(),t=r?.state?.view??"choice",[n,s]=K.useState(t),[o,u]=K.useState(!0),[f,m]=K.useState(!1);K.useEffect(()=>{r?.state?.view&&window.history.replaceState({},"")},[r]);const g=(E,S)=>{console.log("Login attempt:",E,S)},y=()=>{m(!0),sessionStorage.setItem("introShown","true"),setTimeout(()=>{u(!1),m(!1)},400)};return V.jsxs(V.Fragment,{children:[o&&V.jsx(nO,{onComplete:y,isTransitioning:f}),V.jsxs("section",{className:`login-container ${!o||f?"fade-in":""}`,children:[V.jsx("aside",{className:"hero",children:n==="choice"?V.jsx("img",{src:"img/SpotOnLogo.png",alt:"Velkommen",className:"hero-choice-img"}):V.jsx("h2",{children:n==="login"?"Log ind":"Opret konto"})}),V.jsxs("div",{className:"auth-panel",children:[n==="choice"&&V.jsx("div",{className:"auth-wrap",children:V.jsxs("aside",{className:"auth-actions",children:[V.jsx("button",{className:"btn",onClick:()=>s("login"),children:"Log ind"})," ",V.jsx("button",{className:"btn",onClick:()=>s("signup"),children:"Opret konto"})]})}),n==="login"&&V.jsxs(V.Fragment,{children:[V.jsx(eO,{onLogin:g}),V.jsxs("p",{className:"auth-note",children:["Ikke oprettet?"," ",V.jsx("button",{className:"btn-inline",onClick:()=>s("signup"),children:"Opret konto"})]})]}),n==="signup"&&V.jsxs(V.Fragment,{children:[V.jsx(fA,{onSuccess:()=>s("choice")}),V.jsxs("p",{className:"auth-note",children:["Allerede bruger?"," ",V.jsx("button",{className:"btn-inline",onClick:()=>s("login"),children:"Log ind"})]})]})]})]})]})}function rO(){const[r,t]=K.useState(""),[n,s]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(""),[g,y]=K.useState(""),[E,S]=K.useState(""),[w,U]=K.useState([]),[X,Z]=K.useState([]),[G,at]=K.useState([]),pt=bT();K.useEffect(()=>{async function dt(){try{const I=await wo(Er(yn,"hotspots"));at(I.docs.map(b=>({id:b.id,...b.data()||{}})))}catch(I){console.error("Kunne ikke hente options",I)}}dt()},[]);async function ht(dt){const I=dt.target.value;if(u(I),Z([]),!!I)try{const b=cs(yn,"hotspots",I),C=await Jm(b);if(C.exists()){const x=C.data();Z(x.sportsgren||[])}else console.warn("Lokationen blev ikke fundet i Firestore")}catch(b){console.error("Fejl ved hentning af sportsgrene:",b),S("Der opstod en fejl  prv igen senere.")}}async function xt(dt){dt.preventDefault();const I=dt.target.value;w.includes(I)?U(w.filter(b=>b!==I)):U([...w,I]),console.log("Opdaterede tags:",w)}async function Lt(dt){dt.preventDefault();const I=await Jm(cs(yn,"profil",Xl.currentUser.uid)),b=Xl.currentUser,C=I.data();if(!b){S("Du kan ikke oprette opslag, uden at vre logget ind");return}if(!r||!n||!o||w.length===0){S("Udfyld venligst titel, sportsgren og lokation");return}console.log("Forsger at oprette opslag:",{title:r,sport:n,location:o,time:f,details:g,tags:w});const x=await oA(Er(yn,"posts"),{creatorId:Xl.currentUser.uid,userName:C.username,hotspotId:o,title:r,tags:w,details:g,time:f,sport:n,timestamp:Jp()});pt("/map");const D=cs(yn,"hotspots",o);await Wm(D,{posts:uA(x.id)}),S("Opslag oprettet!"),t(""),s(""),u(""),m(""),y(""),Z([]),U([]);const P=await wo(Er(yn,"posts")),R=new Date;P.docs.forEach(async Yt=>{const ie=Yt.data();if(!ie.timestamp)return;const Q=ie.timestamp.toDate();if(Q.getDate()!==R.getDate()||Q.getMonth()!==R.getMonth()||Q.getFullYear()!==R.getFullYear()){if(ie.hotspotId){const ut=cs(yn,"hotspots",ie.hotspotId);await Wm(ut,{posts:cA(Yt.id)})}await aA(cs(yn,"posts",Yt.id)),console.log(`Slettede post ${Yt.id} og fjernede den fra hotspot ${ie.hotspotId}`)}})}return V.jsxs("div",{className:"opret-post-page",children:[V.jsx("button",{className:"tilbageknap",onClick:()=>pt(-1),children:V.jsx("span",{className:"pil-icon",children:"<"})}),V.jsxs("div",{className:"opret-hero",children:[V.jsx("h1",{children:"Opret Post"}),V.jsx("div",{className:"crown-doodle"})," "]}),V.jsxs("form",{className:"opret-form",onSubmit:Lt,children:[V.jsxs("div",{className:"form-group",children:[V.jsx("label",{className:"form-label",children:"Titel"}),V.jsx("input",{className:"input",value:r,onChange:dt=>t(dt.target.value),placeholder:"Skriv en titel"})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{className:"form-label",children:"Lokation"}),V.jsxs("select",{className:"select",value:o,onChange:dt=>{u(dt.target.value),ht(dt)},children:[V.jsx("option",{value:"",children:"Vlg en lokation"}),G.map(dt=>V.jsxs("option",{value:dt.id,children:[dt.hotspotid||dt.id," "]},dt.id))]})]}),V.jsxs("div",{className:"form-row",children:[V.jsxs("div",{className:"form-group",children:[V.jsx("label",{className:"form-label",children:"Sportsgren"}),V.jsxs("select",{className:"select",value:n,onChange:dt=>s(dt.target.value),disabled:!X.length,children:[V.jsxs("option",{value:"",children:[X.length?"Vlg en sportsgren":"Vlg lokation"," "]}),X.map((dt,I)=>V.jsxs("option",{value:dt,children:[dt," "]},I))]})]}),V.jsxs("div",{className:"form-group time",children:[V.jsx("label",{className:"form-label",children:"Tidspunkt"}),V.jsx("input",{className:"input",type:"time",value:f,onChange:dt=>m(dt.target.value)})]})]}),V.jsxs("div",{className:"form-group-tags",children:[V.jsx("label",{className:"form-label",children:"Tags"}),V.jsxs("div",{className:"tag-group",children:[V.jsx("button",{className:`tags ${w.includes("ny")?"activetag":""}`,type:"button",value:"ny",onClick:xt,children:"Ny"}),V.jsx("button",{className:`tags ${w.includes("vet")?"activetag":""}`,type:"button",value:"vet",onClick:xt,children:"vet"}),V.jsx("button",{className:`tags ${w.includes("pro")?"activetag":""}`,type:"button",value:"pro",onClick:xt,children:"Pro"})]})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{className:"form-label",children:"Detaljer"}),V.jsx("textarea",{className:"textarea",rows:6,value:g,onChange:dt=>y(dt.target.value),placeholder:"Skriv her..."})]}),V.jsx("div",{className:"actions",children:V.jsx("button",{className:"submit-btn",type:"submit",children:"Opret "})}),E&&V.jsx("p",{className:"message",children:E})]})]})}function sO({onFilterChange:r,selectedSport:t,sports:n}){const[s,o]=K.useState(Array.isArray(n)?n:[]),[u,f]=K.useState(!0);return K.useEffect(()=>{if(Array.isArray(n)&&n.length){o(n),f(!1);return}let m=!1;return(async()=>{try{const y=(await wo(Er(yn,"sports"))).docs.map(E=>({id:E.id,...E.data()||{}}));m||o(y)}catch(g){console.error("Failed to load sports",g)}finally{m||f(!1)}})(),()=>{m=!0}},[n]),u&&s.length===0?null:V.jsx("div",{className:"filter",children:s.map(m=>{const g=t===m.id,y=m.name||m.title||m.id;return V.jsxs("button",{onClick:()=>r?.({sportId:g?null:m.id}),className:`filter__btn${g?" is-active":""}`,title:y,children:[m.icon?V.jsx("span",{children:m.icon}):null,V.jsx("span",{children:y})]},m.id)})})}const aO="modulepreload",oO=function(r){return"/sport/"+r},fT={},lO=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(E){return Promise.all(E.map(S=>Promise.resolve(S).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var f=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=y(n.map(E=>{if(E=oO(E),E in fT)return;fT[E]=!0;const S=E.endsWith(".css"),w=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${w}`))return;const U=document.createElement("link");if(U.rel=S?"stylesheet":aO,S||(U.as="script"),U.crossOrigin="",U.href=E,g&&U.setAttribute("nonce",g),document.head.appendChild(U),S)return new Promise((X,Z)=>{U.addEventListener("load",X),U.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return o.then(m=>{for(const g of m||[])g.status==="rejected"&&u(g.reason);return t().catch(u)})};function uO({open:r=!1,onClose:t,initialHeight:n=180,maxHeightPercent:s=100,disableBackdropClose:o=!1,externalPosts:u=null,externalLoading:f=!1,hotspotName:m="Vlg et punkt",hotspotId:g=null}){const y=K.useRef(null),E=K.useRef(null),S=K.useRef(0),w=K.useRef(0),[U,X]=K.useState(n),[Z,G]=K.useState(!1),[at,pt]=K.useState(!1),[ht,xt]=K.useState({}),[Lt,dt]=K.useState({}),[I,b]=K.useState([]),[C,x]=K.useState(!0),[D,P]=K.useState([]),R=u!==null?u:I,Yt=u!==null?f:C,ie=nt=>{if(nt==="active")return{interested:2,participating:3};const St=nt.split("").reduce((Wt,ue)=>Wt+ue.charCodeAt(0),0);return{interested:St%5+1,participating:St%4+2}},Q=nt=>{xt(St=>({...St,[nt]:!St[nt]}))},it=nt=>{dt(St=>({...St,[nt]:!St[nt]}))},ut=nt=>nt?(nt.includes(":"),nt):"",Ut=nt=>{const St=ie(nt).interested;return ht[nt]?St+1:St},kt=nt=>{const St=ie(nt).participating;return Lt[nt]?St+1:St},O=(nt,St,Wt)=>Math.min(Math.max(nt,St),Wt),Y=K.useCallback(()=>{const nt=window.innerHeight;return Math.round(s/100*nt)},[s]),rt=180;K.useEffect(()=>{if(!r)return;const nt=Y();X(St=>O(St||n,rt,nt))},[r,Y,n]),K.useEffect(()=>{r&&X(n)},[r,n]),K.useEffect(()=>{const St=Y()*.95;pt(U>=St)},[U,Y]),K.useEffect(()=>{let nt=!1;return(async()=>{if(!g){P([]);return}try{const{doc:Wt,getDoc:ue}=await lO(async()=>{const{doc:Se,getDoc:qt}=await Promise.resolve().then(()=>ZD);return{doc:Se,getDoc:qt}},void 0),$t=Wt(yn,"hotspots",g.toString()),Te=await ue($t);if(!nt){const Se=Te.exists()?Te.data():{},qt=Array.isArray(Se.sportsgren)?Se.sportsgren:[];P(qt)}}catch{nt||P([])}})(),()=>{nt=!0}},[g]),K.useEffect(()=>{if(u!==null){x(!1);return}x(!0);const nt=Yp(Er(yn,"posts"),tA("timestamp","desc"),eA(10)),St=$p(nt,Wt=>{const ue=Wt.docs.map($t=>({id:$t.id,...$t.data(),timestamp:$t.data().timestamp?.toDate()||new Date}));b(ue),x(!1)},Wt=>{console.error("Fejl ved hentning af posts:",Wt),x(!1)});return()=>St()},[u]);const lt=nt=>{G(!0),S.current=nt,w.current=U,document.body.style.userSelect="none",document.body.style.overflow="hidden",document.body.style.touchAction="none"},Et=nt=>{if(!nt.target.closest(".psu-sheet")||at&&nt.target.closest(".psu-content")||(nt.stopPropagation(),nt.touches&&nt.touches.length>1))return;try{nt.preventDefault()}catch{}const St=nt.touches?nt.touches[0].clientY:nt.clientY;lt(St)},At=nt=>{if(!Z)return;const St=nt.touches?nt.touches[0].clientY:nt.clientY,Wt=S.current-St,ue=Y(),$t=O(w.current+Wt,rt,ue);nt.preventDefault(),nt.stopPropagation(),X($t);const Te=100;$t<Te?E.current&&(E.current.style.opacity=Math.max(.2,$t/Te)):E.current&&(E.current.style.opacity="1")},It=()=>{if(!Z)return;G(!1),document.body.style.userSelect="",document.body.style.overflow="",document.body.style.touchAction="",E.current&&(E.current.style.opacity="1");const nt=Y(),St=U,Wt=rt,ue=Math.min(300,nt*.4),$t=nt;let Te;const Se=100;if(console.log("Close check - current:",St,"closeThreshold:",Se),St<Se){console.log("Closing PostSlideOp - height below threshold"),t();return}else St<(Wt+ue)/2?Te=Wt:St<(ue+$t)/2?Te=ue:Te=$t;requestAnimationFrame(()=>{X(Te)})};if(K.useEffect(()=>(window.addEventListener("mousemove",At),window.addEventListener("mouseup",It),window.addEventListener("touchmove",At,{passive:!1,capture:!0}),window.addEventListener("touchend",It,{passive:!1,capture:!0}),()=>{window.removeEventListener("mousemove",At),window.removeEventListener("mouseup",It),window.removeEventListener("touchmove",At,{capture:!0}),window.removeEventListener("touchend",It,{capture:!0})})),!r)return null;const Ee=U<=rt,se=!o;return V.jsxs("div",{ref:y,className:`psu-overlay ${Ee?"psu-pass-through":""}`,role:"dialog","aria-modal":"true","aria-label":"Detaljer",children:[se?V.jsx("button",{className:`psu-backdrop ${Ee?"psu-backdrop-collapsed":""}`,"aria-label":"Luk",onClick:()=>t&&t()}):V.jsx("div",{className:"psu-backdrop psu-backdrop-pass","aria-hidden":"true"}),V.jsxs("div",{ref:E,className:`psu-sheet ${Z?"dragging":""} ${at?"at-top":""}`,style:{height:U},onMouseDown:Et,onTouchStart:Et,role:"button","aria-label":"Trk for at udvide",tabIndex:0,children:[V.jsx("div",{className:"psu-drag-indicator",children:V.jsx("div",{className:"psu-handle"})}),V.jsxs("div",{className:"psu-content",children:[V.jsxs("div",{className:"psu-title-section",children:[V.jsx("h2",{className:"psu-title",children:m}),V.jsx("button",{className:"psu-plus-button",onClick:()=>{window.location.href="./opretpost"},"aria-label":"Tilfj post",children:V.jsx("span",{className:"psu-plus-icon",children:"+"})})]}),V.jsxs("div",{className:"psu-sports-section",children:[V.jsx("div",{className:"psu-sports-title",children:"Sportsgrene"}),V.jsx("div",{className:"psu-sports-icons",children:(()=>{const nt=new Date,St=R.filter(qt=>{const vn=qt.timestamp?.toDate?qt.timestamp.toDate():new Date(qt.timestamp);return nt-vn<1440*60*1e3}),Wt=qt=>(qt||"").toString().trim().toLowerCase(),ue=(D||[]).map(qt=>Wt(qt)).filter(qt=>!!qt);let $t=ue.length?[...new Set(ue)]:[...new Set(St.map(qt=>Wt(qt.sport)).filter(qt=>!!qt))];const Te={basketball:"./img/basketball-white.png",basket:"./img/basketball-white.png",fodbold:"./img/fodbold-white.png",tennis:"./img/tennis-white.png",volleyball:"./img/volley-white.png",volley:"./img/volley-white.png",badminton:"./img/badminton-white.png",padel:"./img/padel-white.png",squash:"./img/squash-white.png",hndbold:"./img/handbold-white.png",handbold:"./img/handbold-white.png",bordtennis:"./img/bordtennis-white.png",fitness:"./img/fitness-white.png"},Se=qt=>qt?qt.charAt(0).toUpperCase()+qt.slice(1):"";return $t.length===0?V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"./img/basketball-white.png",alt:"Basketball",className:"psu-sport-icon"}),V.jsx("img",{src:"./img/fodbold-white.png",alt:"Fodbold",className:"psu-sport-icon"})]}):$t.map((qt,vn)=>V.jsx("img",{src:Te[qt]||"./img/sport-default-white.png",alt:Se(qt),className:"psu-sport-icon",title:Se(qt)},vn))})()})]}),Yt&&V.jsx("div",{className:"psu-loading",children:V.jsx("div",{className:"psu-loading-text",children:"Henter posts..."})}),!Yt&&R.length===0&&V.jsxs("div",{className:"psu-no-posts",children:[V.jsx("div",{className:"psu-no-posts-text",children:"Ingen posts endnu"}),V.jsx("div",{className:"psu-no-posts-subtitle",children:"Opret det frste opslag!"})]}),!Yt&&R.filter(nt=>{const St=new Date,Wt=nt.timestamp?.toDate?nt.timestamp.toDate():new Date(nt.timestamp);return St-Wt<1440*60*1e3}).map(nt=>{const St=new Date,Wt=nt.timestamp?.toDate?nt.timestamp.toDate():new Date(nt.timestamp),$t=St-Wt<7200*1e3;return V.jsxs("div",{className:`psu-activity-card ${$t?"active":""}`,children:[V.jsxs("div",{className:`psu-card-header ${$t?"active":""}`,children:[V.jsx("span",{children:$t?"Aktiv nu":ut(nt.time)}),$t&&V.jsx("div",{className:"psu-active-dot"})]}),V.jsxs("div",{className:"psu-card-content",children:[(()=>{const Te=ye=>(ye||"").toString().trim().toLowerCase(),Se={basketball:"./img/postbasket.png",fodbold:"./img/postfodbold.png",tennis:"./img/posttennis_.png",volleyball:"./img/volley-white.png"},qt=Te(nt.sport),vn=Se[qt];return vn?V.jsx("img",{src:vn,alt:nt.sport||"Sport",className:"psu-post-sport-icon"}):null})(),V.jsx("div",{className:"psu-card-title orange",children:nt.title}),V.jsx("div",{className:"psu-card-description",children:nt.details}),V.jsx("div",{className:"psu-card-tags",children:nt.tags&&nt.tags.map((Te,Se)=>V.jsxs("span",{className:"psu-tag",children:["#",Te]},Se))}),V.jsx("div",{className:"psu-card-user",children:nt.userName||"Anonym_ugle"}),V.jsx("div",{className:"psu-card-stats",children:V.jsxs("div",{className:"psu-stats-container",children:[V.jsxs("div",{className:"psu-stat-element",children:[V.jsx("div",{className:`psu-stat-square star ${ht[nt.id]?"active":""}`,onClick:()=>Q(nt.id),style:{cursor:"pointer"},children:ht[nt.id]&&V.jsx("img",{src:"./img/star-orange.png",alt:"Star",className:"psu-stat-icon-large"})}),V.jsxs("div",{className:"psu-stat-text",children:[Ut(nt.id)," interesseret"]})]}),V.jsxs("div",{className:"psu-stat-element",children:[V.jsx("div",{className:`psu-stat-square check ${Lt[nt.id]?"active":""}`,onClick:()=>it(nt.id),style:{cursor:"pointer"},children:Lt[nt.id]&&V.jsx("img",{src:"./img/check-orange.png",alt:"Check",className:"psu-stat-icon-large"})}),V.jsxs("div",{className:"psu-stat-text",children:[kt(nt.id)," deltager"]})]})]})})]})]},nt.id)})]})]})]})}function Sm(){const r=K.useRef(null),t=K.useRef(null),n=K.useRef(null),s=K.useRef(null),o=K.useRef(null),u=12,f=40,m=12,g=8,[y,E]=K.useState(0),[S,w]=K.useState(!1),[U,X]=K.useState(0),[Z,G]=K.useState(0),[at,pt]=K.useState(null),[ht,xt]=K.useState([]),[Lt,dt]=K.useState([]),[I,b]=K.useState([]),[C,x]=K.useState(!0),[D,P]=K.useState(!1),[R,Yt]=K.useState(null),[ie,Q]=K.useState("Vlg et punkt"),it=K.useRef({startX:0,panelAtStart:0,id:null}),ut=K.useRef({active:!1,id:null,startX:0,startScroll:0}),[Ut,kt]=K.useState(!1),O=k=>{const st={DOKK1:"img/LokationImg/dokk123.png",Havnen:"img/LokationImg/havnen.jpg",Navitas:"img/LokationImg/navitas.jpg",Island:"img/LokationImg/oen.jpg",Frederiksbergsvoemmehal:"img/LokationImg/frederiksbergidraetscenter.jpg",Frederiksbergskole:"img/LokationImg/frederiksbergskole.jpg"};if(!k)return st.DOKK1;if(typeof k=="object"){if(k.img)return k.img;const Nt=k.name||k.title||k.navn||k.placeName||k.id||"";if(st[Nt])return st[Nt];const bt=Nt.toLowerCase();for(const[yt,zt]of Object.entries(st))if(bt===yt.toLowerCase())return zt;return st.DOKK1}if(typeof k=="string"){const Nt=k;if(st[Nt])return st[Nt];const bt=Nt.toLowerCase();for(const[yt,zt]of Object.entries(st))if(bt===yt.toLowerCase())return zt;return st.DOKK1}return st.DOKK1},Y=K.useMemo(()=>[{title:"Havnen",sport:"Fodbold",img:"img/LokationImg/havnen.jpg",meta:"1 aktiv"},{title:"Navitas",sport:"Tennis",img:"img/LokationImg/navitas.jpg",meta:"3 aktive"},{title:"Frederiksberg Idrtscenter",sport:"Basketball",img:"img/LokationImg/frederiksbergidraetscenter.jpg",meta:"0 aktive"},{title:"Frederiksberg Skole",sport:"Volleyball",img:"img/LokationImg/frederiksbergskole.jpg",meta:"2 aktive"}],[]),rt=K.useCallback(k=>{const st=t.current;if(!(!st||!st.contentWindow))try{st.contentWindow.postMessage({source:"discover",type:"focusHotspot",query:(k||"").toString()},window.location.origin)}catch{}},[]),lt=K.useCallback(()=>r.current?.clientWidth||window.innerWidth,[]),Et=K.useCallback(k=>Math.min(0,Math.max(-lt(),k)),[lt]),At=50,It=K.useCallback(()=>Math.abs(y)>=lt()-1,[y,lt]),Ee=()=>{window.addEventListener("pointermove",St),window.addEventListener("pointerup",Wt),window.addEventListener("pointercancel",ue)},se=()=>{window.removeEventListener("pointermove",St),window.removeEventListener("pointerup",Wt),window.removeEventListener("pointercancel",ue)},nt=k=>{try{k.preventDefault()}catch{}if(!(k.pointerType==="mouse"&&k.button!==0)){it.current={startX:k.clientX,panelAtStart:y,id:k.pointerId};try{k.currentTarget.setPointerCapture(k.pointerId)}catch{}w(!0),Ee()}},St=k=>{if(!S||k.pointerType==="mouse"&&k.buttons===0)return;const st=k.clientX-it.current.startX;E(Et(it.current.panelAtStart+st))},Wt=()=>{if(!S)return;const k=it.current?it.current.panelAtStart-y:0;-k<-At?E(-lt()):-k>At?E(0):E(Math.abs(y)>lt()/2?-lt():0),w(!1),se()},ue=()=>{w(!1),se()};K.useEffect(()=>{const k=()=>{const st=o.current?.offsetHeight||0;G(Math.max(0,st+g))};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),K.useEffect(()=>{let k=!1;return(async()=>{try{const Nt=(await wo(Er(yn,"hotspots"))).docs.map(bt=>({id:bt.id,...bt.data()||{}}));k||dt(Nt)}catch(st){console.error("Failed to load hotspots",st)}})(),()=>{k=!0}},[]),K.useEffect(()=>{const k=st=>{try{const Nt=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",bt=st.origin===window.location.origin,yt=Nt&&(st.origin.includes("localhost")||st.origin.includes("127.0.0.1"));if(!bt&&!yt)return;const zt=st.data||{};if(zt&&zt.source==="map-anker"&&zt.type==="hotspotClick"){const Nn=(zt.title||"").toString().trim(),xe=(zt.hotspotId||"").toString().trim();console.log("Hotspot clicked:",{title:Nn,hotspotId:xe,isHidden:It()}),Nn&&Q(Nn),xe&&(Yt(xe),console.log("Setting sheetOpen to true"),P(!0))}}catch(Nt){console.error("Error in message handler:",Nt)}};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[It,ht]),K.useEffect(()=>{const k=o.current;if(!k)return;const st=()=>{const bt=(k.clientWidth||1)+u,yt=Math.round(k.scrollLeft/bt),zt=Y.length-1;X(Math.max(0,Math.min(zt,yt)))};return k.addEventListener("scroll",st,{passive:!0}),()=>k.removeEventListener("scroll",st)},[Y.length]),K.useEffect(()=>{x(!0);const k=$p(Er(yn,"posts"),st=>{const Nt=st.docs.map(bt=>({id:bt.id,...bt.data()||{},timestamp:bt.data().timestamp?.toDate?bt.data().timestamp.toDate():bt.data().timestamp}));xt(Nt),x(!1)},st=>{console.error("Firestore onSnapshot(posts) failed",st),x(!1)});return()=>k()},[]),K.useEffect(()=>{const k={};(at?ht.filter(yt=>yt.sport===at):ht).forEach(yt=>{yt.hotspotId&&(k[yt.hotspotId]=(k[yt.hotspotId]||0)+1)});let Nt=Lt;at&&(Nt=Lt.filter(yt=>{const zt=yt.sportsgren||yt.sports||[];return Array.isArray(zt)&&zt.includes(at)}));const bt=Nt.map(yt=>({...yt,postCount:k[yt.id]||0}));bt.sort((yt,zt)=>zt.postCount!==yt.postCount?zt.postCount-yt.postCount:(yt.name||yt.id||"").localeCompare(zt.name||zt.id||"")),b(bt)},[Lt,ht,at]);const $t=K.useMemo(()=>{let k=ht;return at&&(k=k.filter(st=>(st.sport||"").toString()===at)),R&&(k=k.filter(st=>(st.hotspotId||"").toString()===R)),k},[ht,at,R]),Te=k=>{if(k.pointerType==="touch"){kt(!0);return}if(k.pointerType==="mouse"&&k.button!==0)return;k.stopPropagation();try{k.preventDefault()}catch{}kt(!0);const st=o.current;if(st){ut.current.active=!0,ut.current.id=k.pointerId,ut.current.startX=k.clientX,ut.current.startScroll=st.scrollLeft,ut.current.vx=0,ut.current.lastX=k.clientX,ut.current.lastT=performance.now();try{k.currentTarget.setPointerCapture(k.pointerId)}catch{}st.style.userSelect="none",st.style.cursor="grabbing"}},Se=k=>{if(!ut.current.active)return;k.stopPropagation();try{k.preventDefault()}catch{}if(k.pointerType==="mouse"&&k.buttons===0){qt(k);return}const st=o.current;if(!st)return;const Nt=k.clientX-ut.current.startX;st.scrollLeft=ut.current.startScroll-Nt;const bt=performance.now(),yt=bt-(ut.current.lastT||bt),zt=k.clientX-(ut.current.lastX||k.clientX);yt>0&&(ut.current.vx=zt/yt),ut.current.lastX=k.clientX,ut.current.lastT=bt},qt=k=>{if(k&&k.pointerType==="touch"){kt(!1);return}if(!ut.current.active){kt(!1);return}k.stopPropagation();const st=o.current;if(st){const bt=(st.clientWidth||1)+u,yt=st.scrollLeft,zt=Y.length-1,Nn=ut.current.vx||0;let xe=Math.round(yt/bt);Math.abs(Nn)>.5&&(xe+=Nn>0?-1:1),xe<0&&(xe=0),xe>zt&&(xe=zt),st.scrollTo({left:xe*bt,behavior:"smooth"}),X(xe),st.style.userSelect="",st.style.cursor="grab"}ut.current.active=!1,kt(!1)},vn=()=>{if(!ut.current.active)return;const k=o.current;if(k){const Nt=(k.clientWidth||1)+u,bt=k.scrollLeft;let yt=Math.round(bt/Nt);const zt=Y.length-1;yt<0&&(yt=0),yt>zt&&(yt=zt),k.scrollTo({left:yt*Nt,behavior:"smooth"}),X(yt),k.style.userSelect="",k.style.cursor="grab"}ut.current.active=!1,kt(!1)};K.useEffect(()=>{const k=o.current;if(!k)return;let st=0;const Nt=bt=>{if(!(Math.abs(bt.deltaX)>Math.abs(bt.deltaY)||bt.shiftKey))return;try{bt.preventDefault(),bt.stopPropagation()}catch{}const zt=bt.deltaX!==0?bt.deltaX:bt.deltaY;k.scrollLeft+=zt,st&&clearTimeout(st),st=setTimeout(()=>{const xe=(k.clientWidth||1)+u,Bn=Y.length-1;let Ei=Math.round(k.scrollLeft/xe);Ei<0&&(Ei=0),Ei>Bn&&(Ei=Bn),k.scrollTo({left:Ei*xe,behavior:"smooth"}),X(Ei)},80)};return k.addEventListener("wheel",Nt,{passive:!1}),()=>{k.removeEventListener("wheel",Nt),st&&clearTimeout(st)}},[u,Y.length]);const ye=(()=>{const k=lt(),st=k+y,Nt=m,bt=k-(f+m),yt=st-f/2;return Math.max(Nt,Math.min(bt,yt))})();return V.jsxs("div",{ref:r,className:"tm-root",children:[V.jsx("iframe",{title:"MapAnker",src:"/sport/MapAnker.html",className:"tm-map-frame",allow:"geolocation; fullscreen",ref:t}),V.jsxs("div",{ref:n,className:`tm-panel${S?" dragging":""}`,style:{"--panel-x":`${y}px`},children:[V.jsxs("div",{ref:s,className:"tm-carousel",children:[V.jsx("div",{ref:o,className:"tm-slides",onPointerDown:Te,onPointerMove:Se,onPointerUp:qt,onPointerCancel:vn,onPointerEnter:()=>kt(!0),onPointerLeave:()=>kt(!1),children:Y.map((k,st)=>V.jsxs("div",{className:"tm-slide",onClick:()=>rt(k.title),role:"button","aria-label":`Fokusr ${k.title} p kortet`,children:[V.jsx("img",{src:k.img,alt:k.title,draggable:!1,className:"tm-slide-img",onDragStart:Nt=>Nt.preventDefault()}),V.jsxs("div",{className:`tm-slide-text${U===st?" active":""}`,children:[V.jsx("div",{className:"tm-slide-title",children:k.title}),V.jsx("div",{className:"tm-slide-sport",children:k.sport||""})]}),V.jsxs("div",{className:"tm-slide-stats",children:[V.jsx("span",{className:"tm-live-dot","aria-hidden":"true"}),V.jsx("span",{className:"tm-live-text",children:k.meta})]})]},st))}),V.jsx("div",{className:"tm-dots",children:Y.map((k,st)=>V.jsx("button",{onClick:()=>{const Nt=o.current;if(!Nt)return;const yt=(Nt.clientWidth||1)+u;Nt.scrollTo({left:st*yt,behavior:"smooth"})},"aria-label":`Go to slide ${st+1}`,className:`tm-dot${st===U?" active":""}`},st))}),V.jsx("div",{className:"tm-activities",children:V.jsx(sO,{selectedSport:at,onFilterChange:({sportId:k})=>pt(k),sports:[{id:"Basketball",name:"",icon:V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"img/basketball-white.png",alt:"Basketball",className:"filter-icon-default"}),V.jsx("img",{src:"img/basketball-black.png",alt:"Basketball",className:"filter-icon-active"})]})},{id:"Volleyball",name:"",icon:V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"img/volley-white.png",alt:"Volleyball",className:"filter-icon-default"}),V.jsx("img",{src:"img/volley-black.png",alt:"Volleyball",className:"filter-icon-active"})]})},{id:"Fodbold",name:"",icon:V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"img/fodbold-white.png",alt:"Fodbold",className:"filter-icon-default"}),V.jsx("img",{src:"img/fodbold-black.png",alt:"Fodbold",className:"filter-icon-active"})]})},{id:"Tennis",name:"",icon:V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"img/tennis-white.png",alt:"Tennis",className:"filter-icon-default"}),V.jsx("img",{src:"img/tennis-black.png",alt:"Tennis",className:"filter-icon-active"})]})}]})}),V.jsx("button",{onClick:()=>{const k=o.current;if(!k)return;const Nt=(k.clientWidth||1)+u,bt=Math.max(0,U-1);k.scrollTo({left:bt*Nt,behavior:"smooth"})},"aria-label":"Previous slide",className:"tm-chevron tm-prev",children:""}),V.jsx("button",{onClick:()=>{const k=o.current;if(!k)return;const Nt=(k.clientWidth||1)+u,bt=Y.length-1,yt=Math.min(bt,U+1);k.scrollTo({left:yt*Nt,behavior:"smooth"})},"aria-label":"Next slide",className:"tm-chevron tm-next",children:""})]}),V.jsx("div",{className:"tm-content",children:C&&Lt.length===0?V.jsx("div",{className:"tm-muted",children:"Indlser..."}):I.length===0?V.jsx("div",{className:"tm-muted",children:"Ingen lokationer for den valgte sportsgren."}):V.jsx("div",{className:"tm-location-list",children:I.map(k=>V.jsx("article",{className:"tm-location-card",role:"button",tabIndex:0,"aria-label":`Fokusr ${k.name||k.title||k.navn||k.placeName||k.id||"lokation"} p kortet`,onClick:()=>{rt(k.id||k.name||k.title||k.navn||k.placeName||""),P(!1),E(-lt())},onKeyDown:st=>{(st.key==="Enter"||st.key===" ")&&(st.preventDefault(),rt(k.id||k.name||k.title||k.navn||k.placeName||""),P(!1),E(-lt()))},children:V.jsxs("div",{className:"tm-location-image-wrapper",children:[V.jsx("img",{src:O(k),alt:k.name||k.title||k.navn||k.placeName||k.id||"Location",className:"tm-location-image"}),V.jsxs("div",{className:"tm-location-overlay",children:[V.jsxs("div",{className:"tm-loc-active",children:[Array.isArray(k.activeplayers)?k.activeplayers.length:0," ","aktive"]}),V.jsx("h2",{className:"tm-location-name",children:k.name||k.title||k.navn||k.placeName||k.id||"Unavngivet"}),V.jsxs("div",{className:"tm-loc-posts",children:[k.postCount||0," opslag"]})]})]})},k.id))})})]}),V.jsx("div",{onPointerDown:nt,onPointerMove:St,onPointerUp:Wt,onPointerCancel:ue,className:`tm-handle${S?" dragging":""}`,style:{"--handle-top":`${Z}px`,pointerEvents:Ut?"none":"auto"},"aria-label":"Drag to reveal map"}),y<0&&V.jsx("button",{className:"tm-reveal-handle","aria-label":"Vis Discover-panelet",type:"button",style:{left:`${ye}px`},onPointerDown:k=>{P(!1),nt(k)},onPointerMove:St,onPointerUp:Wt,onPointerCancel:ue,children:V.jsx("span",{className:"tm-reveal-arrow",children:""})}),V.jsx(uO,{open:It()&&D,onClose:()=>{console.log("PostSlideOp onClose called - setting sheetOpen to false"),P(!1)},initialHeight:400,maxHeightPercent:80,disableBackdropClose:!1,externalPosts:$t,externalLoading:C,hotspotName:ie,hotspotId:R}),console.log("TestingMAPSTUFFPage render - isHidden:",It(),"sheetOpen:",D,"open prop:",It()&&D)]})}function cO(){const r=typeof window<"u"&&window.location?.pathname?.startsWith("/sport")?"/sport":"/";return V.jsx(X1,{basename:r,children:V.jsxs(K1,{children:[V.jsx(na,{path:"/",element:V.jsx(iO,{})}),V.jsx(na,{path:"/signup",element:V.jsx(fA,{})}),V.jsx(na,{path:"/opretpost",element:V.jsx(rO,{})}),V.jsx(na,{path:"/discover",element:V.jsx(Sm,{})}),V.jsx(na,{path:"/map",element:V.jsx(Sm,{})}),V.jsx(na,{path:"*",element:V.jsx(Sm,{})})]})})}t1.createRoot(document.getElementById("root")).render(V.jsx(mT.StrictMode,{children:V.jsx(cO,{})}));
